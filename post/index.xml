<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on SerjAii</title><link>http://sergiojimenez.org/post/</link><description>Recent content in Posts on SerjAii</description><generator>Hugo -- gohugo.io</generator><language>es</language><lastBuildDate>Tue, 09 Dec 2025 00:00:00 +0000</lastBuildDate><atom:link href="http://sergiojimenez.org/post/index.xml" rel="self" type="application/rss+xml"/><item><title>Práctica Cooperativa: Despliegue Completo de Motores de Base de Datos</title><link>http://sergiojimenez.org/post/practica-cooperativa-instalaciones/</link><pubDate>Tue, 09 Dec 2025 00:00:00 +0000</pubDate><guid>http://sergiojimenez.org/post/practica-cooperativa-instalaciones/</guid><description>&lt;img src="http://sergiojimenez.org/post/practica-cooperativa-instalaciones/cover.png" alt="Featured image of post Práctica Cooperativa: Despliegue Completo de Motores de Base de Datos" /&gt;&lt;h1 id="guía-cooperativa-de-instalación-y-configuración-de-bases-de-datos"&gt;Guía Cooperativa de Instalación y Configuración de Bases de Datos
&lt;/h1&gt;&lt;p&gt;Este documento recoge el trabajo realizado para la puesta en marcha de diversos sistemas gestores de bases de datos en &lt;strong&gt;Debian 13&lt;/strong&gt;. A continuación se detallan los pasos para cada uno de ellos.&lt;/p&gt;
&lt;p&gt;Esta práctica ha sido realizada por los alumnos Sergio Jiménez, José María Oteo y David Dorante.&lt;/p&gt;
&lt;h2 id="instalación-de-oracle-21c-sobre-debian-13"&gt;Instalación de Oracle 21c sobre Debian 13
&lt;/h2&gt;&lt;h3 id="1configuración-previa-y-dependencias"&gt;1.Configuración previa y dependencias
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;En primer lugar actualizaremos los paquetes del sistema, para evitar posibles
conflictos de distintas versiones de paquetes durante la instalación de las
dependencias de Oracle.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos las dependencias de Oracle en nuestro sistema.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt policy libaio1t64 libaio-dev unixodbc rlwrap alien net-tools unzip bc ksh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Usaje de cada dependencia&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;libaio1t64&lt;/strong&gt;: dependencia de Entrada/Salida Asíncrona, obligatoria para
Oracle.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;libaio-dev&lt;/strong&gt;: contiene los archivos de cabecera y enlaces simbólicos para
que los desarrolladores puedan compilar programas que usen la librería
libaio.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;unixodbc&lt;/strong&gt;: librerías ODBC necesarias para Oracle.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;rlwrap&lt;/strong&gt;: mejora la experiencia de SQL*Plus en terminal.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;bc&lt;/strong&gt;: cálculos usados por scripts de Oracle.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ksh&lt;/strong&gt;: KornShell, requerida por algunos scripts de instalación.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;alien&lt;/strong&gt;: convierte paquete .rpm a .deb.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;not-tools&lt;/strong&gt;: incluye netstat, usado por Oracle.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;unzip&lt;/strong&gt;: para SQL*Plus más tarde.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Configuramos una ip estática para facilitar futuras conexiones remotas.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;En el hosts añadiremos una entrada apuntando hacia nuestra dirección privada.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Oracle y SQL*Plus, necesitan la librería libaio.so.1, que no se encuentra en el
sistema ya que en Debian 13 ha cambiado el nombre del paquete y de la
librería, y por tanto para que no nos de error al intentar entrar en Oracle,
crearemos un enlace simbólico a partir de la librería libaio1t64 con nombre
libaio.so1, para que Oracle reconozca la librería.
Comprobación:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ ls -l /usr/lib/x86_64-linux-gnu/libaio.so.1
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;lrwxrwxrwx &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; root root &lt;span style="color:#ae81ff"&gt;40&lt;/span&gt; oct &lt;span style="color:#ae81ff"&gt;8&lt;/span&gt; 20:22 /usr/lib/x86_64-linuxgnu/libaio.so.1 -&amp;gt; /usr/lib/x86_64-linux-gnu/libaio.so.1t64
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2instalación-del-servidor"&gt;2.Instalación del servidor
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Posible Error: El proceso alien puede que requiera de más de 2GB de espacio
en /tmp, si no disponemos de ellos deberemos aumentar dicho tamaño&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Usamos el comando “alien” para convertir el paquete .rpm que acabamos de
descargarnos de Oracle 21c, a formato .deb, que es el formato de paquetes que
ejecuta Debian.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tras haber modificado la extensión del archivo a .deb, instalamos dicho
paquete de oracle manualmente.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo dpkg -i oracle-database-ee-21c_1.02_amd64.deb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Ejecutamos el script de configuración creado por Oracle.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo /etc/init.d/oracledb_ORCLCDB-21c configure
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Para evitar que nos pida usuario y contraseña al entrar oracle, tendremos que
añadir nuestro usuario, en mi caso, sergio, al grupo dba.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo usermod -aG dba $USER
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Una vez que hemos instalado Oracle, tendremos que añadir las siguientes
variables de entorno en el bashrc de nuestra máquina donde hemos instalado el
servidor de Oracle.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ grep &lt;span style="color:#e6db74"&gt;&amp;#39;^export&amp;#39;&lt;/span&gt; ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export ORACLE_HOME&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/opt/oracle/product/21c/dbhome_1
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export ORACLE_SID&lt;span style="color:#f92672"&gt;=&lt;/span&gt;ORCLCDB
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export ORACLE_BASE&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/opt/oracle
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export LD_LIBRARY_PATH&lt;span style="color:#f92672"&gt;=&lt;/span&gt;$ORACLE_HOME/lib:$LD_LIBRARY_PATH
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export PATH&lt;span style="color:#f92672"&gt;=&lt;/span&gt;$ORACLE_HOME/bin:$PATH
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export NLS_LANG&lt;span style="color:#f92672"&gt;=&lt;/span&gt;SPANISH_SPAIN.AL32UTF8
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ alias alias sqlplus&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;rlwrap sqlplus&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Una vez añadida las variables de entorno, tendremos que recargar bashrc, para
que se apliquen las variables de entorno que acabamos de añadir.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ source ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que podemos acceder como administrador a la base de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sqlplus / as sysdba
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3crear-usuario-y-conceder-permisos-en-oracle-21c"&gt;3.Crear usuario y conceder permisos en Oracle 21c.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Realizamos la siguiente configuración inicial para permitir la creación de
usuarios en Oracle.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SQL&amp;gt; STARTUP;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SQL&amp;gt; ALTER SESSION SET &lt;span style="color:#e6db74"&gt;&amp;#34;_ORACLE_SCRIPT&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;true;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Nos creamos un usuario con el cuál vamos a probar a conectarnos después y le
aplicamos los permisos que consideremos al mismo.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SQL&amp;gt; CREATE USER sergio IDENTIFIED BY sergio;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SQL&amp;gt; GRANT ALL PRIVILEGES TO sergio;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Para iniciar el servicio automáticamente al reiniciar vamos a modificar el
crontab (programador de tareas de linux).&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo crontab -e
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Accedemos a la base de datos con el usuario que acabamos de crear.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="4configuración-del-servidor-oracle-para-la-conexión-remota"&gt;4.Configuración del servidor Oracle para la conexión remota.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Oracle por defecto, suele escuchar por localhost, por lo tanto vamos a modificar
el parámetro host del fichero listener.ora, para que escuche todas las peticiones
incluidas las peticiones remotas o externas.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /opt/oracle/homes/OraDBHome21cEE/network/admin/listener.ora
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;También vamos a modificar el fichero tnsnames.ora, ya que es el que va a
indicar al cliente como conectarse a Oracle. En este caso, vamos a modificar el
valor “HOST” de “ORCLCDB”.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /opt/oracle/homes/OraDBHome21cEE/network/admin/tnsnames.ora
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Reiniciamos la máquina para aplicar los cambios.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="5instalación-y-configuración-del-cliente-de-oracle-sqlplus"&gt;5.Instalación y configuración del cliente de Oracle (SQL*Plus).
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Lo primero que vamos a hacer es actualizar los paquetes del sistema, para
evitar posibles conflictos de versiones de paquetes durante la instalación de las
dependencias de SQL*Plus.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos las dependencias necesarias que requiere la instalación del cliente
de Oracle.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install libaio1t64 libaio-dev rlwrap wget p7zip-full -y -
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;libaio1t64&lt;/strong&gt;: librería de I/O asíncrona, que lo necesita Oracle en tiempo
de ejecución.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;libaio-dev&lt;/strong&gt;: cabeceras y enlaces simbólicos para compilación.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;rlwrap&lt;/strong&gt;: permite usar historial y edición de comandos en sqlplus.
wget: para descargar los paquetes desde la web de Oracle.
p7zip-full: descomprime los .zip de Oracle.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Al igual que en la instalación del servidor volveremos a crear el enlace
simbólico para ayudar a Debian a reconocer el paquete.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo ln -s /usr/lib/x86_64-linux-gnu/libaio.so.1t64 /usr/lib/x86_64-linux-gnu/libaio.so.1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creamos una carpeta que vamos a usar para trabajar con el cliente de Oracle.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ mkdir oracle
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ cd oracle
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Descargamos los paquetes para poder trabajar con el cliente de Oracle, que son
Basic y SQL*Plus.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ wget https://download.oracle.com/otn_software/linux/instantclient/2119000/instantclient-basic-linux.x64-21.19.0.0.0dbru.zip
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ wget https://download.oracle.com/otn_software/linux/instantclient/2119000/instantclient-sqlplus-linux.x64-21.19.0.0.0dbru.zip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que se han descargado correctamente los paquetes y los
descomprimimos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ ls
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ 7z x instantclient-basic-linux.x64-21.19.0.0.0dbru.zip
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ 7z x instantclient-sqlplus-linux.x64-21.19.0.0.0dbru.zip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Añadimos las siguientes variables de entorno para que funcione correctamente
el cliente de Oracle.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Ejecutamos el siguiente comando para aplicar los cambios que acabamos de
realizar en .bashrc.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ source ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Nos conectamos desde el cliente al servidor Oracle.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sqlplus sergio/sergio@//192.168.122.79:1521/ORCLCDB
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="6creación-de-base-de-datos-con-tablas-y-datos-en-oracle"&gt;6.Creación de base de datos con tablas y datos en Oracle.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Accedemos a la base de datos desde el servidor y accedemos como
administrador para poder crear la base de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sqlplus / as sysdba
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SQL&amp;gt; ALTER SESSION SET &lt;span style="color:#e6db74"&gt;&amp;#34;_ORACLE_SCRIPT&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;true;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creamos la base de datos y le damos los privilegios necesarios.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SQL&amp;gt; CREATE USER hotel IDENTIFIED BY hotel123;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SQL&amp;gt; GRANT ALL PRIVILEGES TO hotel;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Accedemos desde el cliente a la base de datos que acabamos de crear en
Oracle.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sqlplus hotel/hotel123@//192.168.122.79:1521/ORCLCDB
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creamos las tablas que van a componer la base de datos ‘hotel’, para permitir
la gestión de un sistema de reservas de un hotel.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TABLE&lt;/span&gt; clientes(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; id INT,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; nombre VARCHAR(&lt;span style="color:#ae81ff"&gt;15&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; apellidos VARCHAR(&lt;span style="color:#ae81ff"&gt;30&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; email VARCHAR(&lt;span style="color:#ae81ff"&gt;50&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; telefono NUMBER(&lt;span style="color:#ae81ff"&gt;9&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; pk_idCliente &lt;span style="color:#66d9ef"&gt;PRIMARY&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; uq_email &lt;span style="color:#66d9ef"&gt;UNIQUE&lt;/span&gt; (email)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TABLE&lt;/span&gt; habitaciones(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; id INT,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; numero INT &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; tipo VARCHAR(&lt;span style="color:#ae81ff"&gt;20&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; precio DECIMAL(&lt;span style="color:#ae81ff"&gt;10&lt;/span&gt;,&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; pk_idHabitacion &lt;span style="color:#66d9ef"&gt;PRIMARY&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; uq_numero &lt;span style="color:#66d9ef"&gt;UNIQUE&lt;/span&gt; (numero),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; ck_tipoHabitacion &lt;span style="color:#66d9ef"&gt;CHECK&lt;/span&gt; (tipo &lt;span style="color:#66d9ef"&gt;IN&lt;/span&gt; (&lt;span style="color:#e6db74"&gt;&amp;#39;Individual&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Doble&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Suite&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Familiar&amp;#39;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TABLE&lt;/span&gt; reservas(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; id INT,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; idCliente INT &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; idHabitacion INT &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; fecha_entrada DATE &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; fecha_salida DATE &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; pk_idReservas &lt;span style="color:#66d9ef"&gt;PRIMARY&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; fk_idCliente &lt;span style="color:#66d9ef"&gt;FOREIGN&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (idCliente) &lt;span style="color:#66d9ef"&gt;REFERENCES&lt;/span&gt; clientes(id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; fk_idHabitacion &lt;span style="color:#66d9ef"&gt;FOREIGN&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (idHabitacion) &lt;span style="color:#66d9ef"&gt;REFERENCES&lt;/span&gt; habitaciones(id)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TABLE&lt;/span&gt; pagos(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; id INT,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; idReserva INT &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; metodoPago VARCHAR(&lt;span style="color:#ae81ff"&gt;20&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; precio DECIMAL(&lt;span style="color:#ae81ff"&gt;10&lt;/span&gt;,&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; fechaPago DATE &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; pk_idPagos &lt;span style="color:#66d9ef"&gt;PRIMARY&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; fk_idReserva &lt;span style="color:#66d9ef"&gt;FOREIGN&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (idReserva) &lt;span style="color:#66d9ef"&gt;REFERENCES&lt;/span&gt; reservas(id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; ck_metodoPago &lt;span style="color:#66d9ef"&gt;CHECK&lt;/span&gt; (metodoPago &lt;span style="color:#66d9ef"&gt;IN&lt;/span&gt; (&lt;span style="color:#e6db74"&gt;&amp;#39;Tarjeta&amp;#39;&lt;/span&gt;,&lt;span style="color:#e6db74"&gt;&amp;#39;Efectivo&amp;#39;&lt;/span&gt;,&lt;span style="color:#e6db74"&gt;&amp;#39;PayPal&amp;#39;&lt;/span&gt;))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Introducimos datos a la base de datos que acabamos de crear.
Datos Tabla clientes:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Datos Tabla clientes:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;David&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Dorado López&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;davidd@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;600111222&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;María&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Gómez Pérez&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;mariagom@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;600333444&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Jorge&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Santos Díaz&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;jogesantos@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;600555666&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Lucía&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Romero García&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;luciarom@yahoot.es&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;600777888&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Pablo&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Ruiz Torres&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;pablo@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;600999000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Sofía&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Martínez León&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;sofleon@yahoot.es&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;601111222&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;7&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Alberto&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Navas Cruz&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;albertonavas@yahoot.es&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;601333444&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;8&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Marta&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;López Gil&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;marta@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;601555666&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;9&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Raúl&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Castro Vega&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;raulcastro@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;601777888&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;10&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Laura&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Morales Cano&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;laura@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;601999000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Datos tabla habitaciones:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;101&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Individual&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;50&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;102&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Doble&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;80&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;103&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Suite&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;150&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;104&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Individual&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;50&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;105&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Doble&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;80&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;106&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Suite&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;150&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Datos tabla reservas:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;), TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-05&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-03&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;), TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-06&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-02&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;), TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-04&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-05&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;), TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-10&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-07&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;), TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-12&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;), TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-03&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Datos tabla pagos:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Tarjeta&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;200&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Efectivo&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;240&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-03&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;PayPal&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;300&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-02&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Tarjeta&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;400&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-05&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Efectivo&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;320&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-07&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;PayPal&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;150&lt;/span&gt;, TO_DATE(&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;));
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que todo se ha creado correctamente.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SELECT * FROM clientes;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Las interrogaciones que aparecen se deben a las tildes, ya que las base de datos
no entienden bien las tildes.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SELECT * FROM habitaciones;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SELECT * FROM reservas;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SELECT * FROM pagos;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="instalación-servidor-postgresql-en-debian-13"&gt;Instalación Servidor PostgreSQL en Debian 13.
&lt;/h2&gt;&lt;h3 id="1configuración-previa-y-dependencias-1"&gt;1.Configuración previa y dependencias
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Antes de comenzar con la instalación de PostgreSQL, tendremos que actualizar
los paquetes del sistema.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2instalación-del-servidor-1"&gt;2.Instalación del servidor
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Instalamos el paquete de postgresql.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install postgresql -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que se ha instalado el servidor revisando el estado de
PostgreSQL.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ systemctl status postgresql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Vamos a configurar postgreSQL para que se inicie siempre automáticamente al
iniciar el sistema. Para ello, ejecutaremos el siguiente comando.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl enable postgresql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que podemos acceder al servidor postgres desde la propia
máquina donde está instalado.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo -u postgres psql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3configuración-del-servidor-postgresql-para-la-conexión"&gt;3.Configuración del servidor PostgreSQL para la conexión
&lt;/h3&gt;&lt;p&gt;remota.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Modificamos el fichero “/etc/postgresql/17/main/postgresql.conf”, para permitir
conexiones remotas al servidor postgresql, descomentando la línea
“listen_addresses” en “CONNECTIONS AND AUTHENTICATION”, y
sustituyendo “localhost” por “*”, para permitir todas las conexiones. Una vez
realizado estos cambios, guardamos los cambios en el fichero y salimos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /etc/postgresql/17/main/postgresql.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Como vemos también podemos modificar el número máximo de conexiones. Por
defecto, PostgreSQL suele permitir la conexión de 100 dispositivos.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Modificamos el fichero “/etc/postgresql/17/main/pg_hba.conf”, agregando la
siguiente línea final, para configurar permisos y permitir conexiones remotas.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /etc/postgresql/17/main/pg_hba.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Reiniciamos el servicio de postgresql, ejecutando el siguiente comando.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl restart postgresql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="4crear-base-de-datos-usuario-y-conceder-permisos-en"&gt;4.Crear base de datos, usuario y conceder permisos en
&lt;/h3&gt;&lt;p&gt;PostgreSQL.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Accedemos a la base de datos como usuario privilegiado.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo -u postgres psql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Con el siguiente comando vamos a crear una base de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;postgres&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# CREATE DATABASE prueba_db;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creamos un usuario con contraseña.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;postgres&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# CREATE ROLE sergio WITH LOGIN PASSWORD &amp;#39;sergio&amp;#39;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Le damos los privilegios que consideremos necesarios. En mi caso le voy a dar
todos los privilegios.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;postgres&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# GRANT ALL PRIVILEGES ON DATABASE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;prueba_db TO sergio;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;postgres&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# GRANT ALL PRIVILEGES ON ALL TABLES IN&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SCHEMA public TO sergio;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;postgres&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# GRANT ALL PRIVILEGES ON ALL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SEQUENCES IN SCHEMA public TO sergio;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Intentamos conectarnos a la base de datos que acabamos de crear desde nuestra
máquina local.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ psql -h localhost -p &lt;span style="color:#ae81ff"&gt;5432&lt;/span&gt; -U sergio -d prueba_db
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="5instalación-y-configuración-del-cliente-de-postgresql"&gt;5.Instalación y configuración del cliente de PostgreSQL.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Actualizamos los paquetes del sistema para evitar posibles conflictos durante la
instalación del cliente de PostgreSQL.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Una vez actualizados los paquetes del sistema, vamos a ejecutar el siguiente
comando, para instalar el cliente de postgreSQL.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install postgresql-client -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que podemos acceder al servidor de PostgreSQL remotamente.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ psql -h 192.168.122.79 -p &lt;span style="color:#ae81ff"&gt;5432&lt;/span&gt; -U sergio -d prueba_db
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="6creación-de-base-de-datos-con-tablas-y-datos-en-postgresql"&gt;6.Creación de base de datos con tablas y datos en PostgreSQL.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Accedemos al servidor de PostgreSQL desde la misma máquina donde se
encuentra instalado, accediendo como superusuario a la base de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo -u postgres psql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creamos la base de datos, el usuario con el vamos a acceder a la base de datos
y dotamos de los privilegios necesarios para que ese usuario pueda acceder a
los datos de la base de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;postgres&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# CREATE DATABASE hotel;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;postgres&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# CREATE USER sergio WITH PASSWORD&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;sergio&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;postgres&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# GRANT ALL PRIVILEGES ON DATABASE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;hotel TO sergio;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;hotel&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# GRANT ALL PRIVILEGES ON ALL TABLES IN&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SCHEMA public TO sergio;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;hotel&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# GRANT ALL PRIVILEGES ON ALL SEQUENCES IN&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SCHEMA public TO sergio;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;hotel&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# ALTER DEFAULT PRIVILEGES IN SCHEMA public&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;GRANT ALL PRIVILEGES ON TABLES TO sergio;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;hotel&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#75715e"&gt;# ALTER DEFAULT PRIVILEGES IN SCHEMA public&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;GRANT ALL PRIVILEGES ON SEQUENCES TO sergio;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Desde el cliente remoto accedemos a la base de datos que acabamos de crear
con el usuario que hemos creado también ahora, y comenzamos con la creación
de tablas e inserción de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ psql -h IP_ServidorPostgreSQL -p &lt;span style="color:#ae81ff"&gt;5432&lt;/span&gt; -U nombreUsuarioPostgreSQL -d baseDatosPostgreSQL
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- Creación de la tabla clientes.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- Creación de la tabla clientes.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE TABLE clientes&lt;span style="color:#f92672"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; id NUMERIC,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; nombre VARCHAR&lt;span style="color:#f92672"&gt;(&lt;/span&gt;15&lt;span style="color:#f92672"&gt;)&lt;/span&gt; NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; apellidos VARCHAR&lt;span style="color:#f92672"&gt;(&lt;/span&gt;30&lt;span style="color:#f92672"&gt;)&lt;/span&gt; NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; email VARCHAR&lt;span style="color:#f92672"&gt;(&lt;/span&gt;50&lt;span style="color:#f92672"&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; telefono NUMERIC&lt;span style="color:#f92672"&gt;(&lt;/span&gt;9&lt;span style="color:#f92672"&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT pk_idCliente PRIMARY KEY &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id&lt;span style="color:#f92672"&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT uq_email UNIQUE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;email&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- Creación de la tabla habitaciones.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE TABLE habitaciones&lt;span style="color:#f92672"&gt;(&lt;/span&gt; id NUMERIC, numero NUMERIC NOT NULL, tipo VARCHAR&lt;span style="color:#f92672"&gt;(&lt;/span&gt;20&lt;span style="color:#f92672"&gt;)&lt;/span&gt; NOT NULL, precio NUMERIC&lt;span style="color:#f92672"&gt;(&lt;/span&gt;10,2&lt;span style="color:#f92672"&gt;)&lt;/span&gt; NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT pk_idHabitacion PRIMARY KEY &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id&lt;span style="color:#f92672"&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT uq_numero UNIQUE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;numero&lt;span style="color:#f92672"&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT ck_tipoHabitacion CHECK &lt;span style="color:#f92672"&gt;(&lt;/span&gt;tipo IN &lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;Individual&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Doble&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Suite&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Familiar&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt; &lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- Creación de la tabla reservas.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE TABLE reservas&lt;span style="color:#f92672"&gt;(&lt;/span&gt; id NUMERIC, idCliente NUMERIC NOT NULL, idHabitacion NUMERIC NOT NULL, fecha_entrada DATE NOT NULL, fecha_salida DATE NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT pk_idReservas PRIMARY KEY &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id&lt;span style="color:#f92672"&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT fk_idCliente FOREIGN KEY &lt;span style="color:#f92672"&gt;(&lt;/span&gt;idCliente&lt;span style="color:#f92672"&gt;)&lt;/span&gt; REFERENCES clientes&lt;span style="color:#f92672"&gt;(&lt;/span&gt;id&lt;span style="color:#f92672"&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT fk_idHabitacion FOREIGN KEY &lt;span style="color:#f92672"&gt;(&lt;/span&gt;idHabitacion&lt;span style="color:#f92672"&gt;)&lt;/span&gt; REFERENCES habitaciones&lt;span style="color:#f92672"&gt;(&lt;/span&gt;id&lt;span style="color:#f92672"&gt;)&lt;/span&gt; &lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- Creación de la tabla pagos.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE TABLE pagos&lt;span style="color:#f92672"&gt;(&lt;/span&gt; id NUMERIC, idReserva NUMERIC NOT NULL, metodoPago VARCHAR&lt;span style="color:#f92672"&gt;(&lt;/span&gt;20&lt;span style="color:#f92672"&gt;)&lt;/span&gt; NOT NULL, precio NUMERIC&lt;span style="color:#f92672"&gt;(&lt;/span&gt;10,2&lt;span style="color:#f92672"&gt;)&lt;/span&gt; NOT NULL, fechaPago DATE NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT pk_idPagos PRIMARY KEY &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id&lt;span style="color:#f92672"&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT fk_idReserva FOREIGN KEY &lt;span style="color:#f92672"&gt;(&lt;/span&gt;idReserva&lt;span style="color:#f92672"&gt;)&lt;/span&gt; REFERENCES reservas&lt;span style="color:#f92672"&gt;(&lt;/span&gt;id&lt;span style="color:#f92672"&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CONSTRAINT ck_metodoPago CHECK &lt;span style="color:#f92672"&gt;(&lt;/span&gt;metodoPago IN &lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;Tarjeta&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Efectivo&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;PayPal&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt; &lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- Inserción de datos en la tabla clientes.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO clientes &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, nombre, apellidos, email, telefono&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;1, &lt;span style="color:#e6db74"&gt;&amp;#39;David&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Dorado Lopez&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;davidd@gmail.com&amp;#39;&lt;/span&gt;, 600111222&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO clientes &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, nombre, apellidos, email, telefono&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;2, &lt;span style="color:#e6db74"&gt;&amp;#39;Maria&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Gomez Perez&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;mariagom@gmail.com&amp;#39;&lt;/span&gt;, 600333444&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO clientes &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, nombre, apellidos, email, telefono&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;3, &lt;span style="color:#e6db74"&gt;&amp;#39;Jorge&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Santos Diaz&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;jogesantos@gmail.com&amp;#39;&lt;/span&gt;, 600555666&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO clientes &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, nombre, apellidos, email, telefono&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;4, &lt;span style="color:#e6db74"&gt;&amp;#39;Lucia&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Romero Garcia&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;luciarom@yahoot.es&amp;#39;&lt;/span&gt;, 600777888&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO clientes &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, nombre, apellidos, email, telefono&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;5, &lt;span style="color:#e6db74"&gt;&amp;#39;Pablo&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Ruiz Torres&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;pablo@gmail.com&amp;#39;&lt;/span&gt;, 600999000&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO clientes &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, nombre, apellidos, email, telefono&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;6, &lt;span style="color:#e6db74"&gt;&amp;#39;Sofia&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Martinez Leon&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;sofleon@yahoot.es&amp;#39;&lt;/span&gt;, 601111222&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO clientes &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, nombre, apellidos, email, telefono&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;7, &lt;span style="color:#e6db74"&gt;&amp;#39;Alberto&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Navas Cruz&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;albertonavas@yahoot.es&amp;#39;&lt;/span&gt;, 601333444&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO clientes &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, nombre, apellidos, email, telefono&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;8, &lt;span style="color:#e6db74"&gt;&amp;#39;Marta&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Lopez Gil&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;marta@gmail.com&amp;#39;&lt;/span&gt;, 601555666&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO clientes &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, nombre, apellidos, email, telefono&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;9, &lt;span style="color:#e6db74"&gt;&amp;#39;Raul&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Castro Vega&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;raulcastro@gmail.com&amp;#39;&lt;/span&gt;, 601777888&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO clientes &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, nombre, apellidos, email, telefono&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;10, &lt;span style="color:#e6db74"&gt;&amp;#39;Laura&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Morales Cano&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;laura@gmail.com&amp;#39;&lt;/span&gt;, 601999000&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- Inserción de datos en la tabla habitaciones.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO habitaciones &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, numero, tipo, precio&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;1, 101, &lt;span style="color:#e6db74"&gt;&amp;#39;Individual&amp;#39;&lt;/span&gt;, 50&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO habitaciones &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, numero, tipo, precio&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;2, 102, &lt;span style="color:#e6db74"&gt;&amp;#39;Doble&amp;#39;&lt;/span&gt;, 80&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO habitaciones &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, numero, tipo, precio&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;3, 103, &lt;span style="color:#e6db74"&gt;&amp;#39;Suite&amp;#39;&lt;/span&gt;, 150&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO habitaciones &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, numero, tipo, precio&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;4, 104, &lt;span style="color:#e6db74"&gt;&amp;#39;Individual&amp;#39;&lt;/span&gt;, 50&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO habitaciones &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, numero, tipo, precio&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;5, 105, &lt;span style="color:#e6db74"&gt;&amp;#39;Doble&amp;#39;&lt;/span&gt;, 80&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO habitaciones &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, numero, tipo, precio&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;6, 106, &lt;span style="color:#e6db74"&gt;&amp;#39;Suite&amp;#39;&lt;/span&gt;, 150&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- Inserción de datos en la tabla reservas.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO reservas &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idCliente, idHabitacion, fecha_entrada, fecha_salida&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;1, 1, 1, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-05&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO reservas &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idCliente, idHabitacion, fecha_entrada, fecha_salida&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;2, 2, 2, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-03&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-06&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO reservas &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idCliente, idHabitacion, fecha_entrada, fecha_salida&lt;span style="color:#f92672"&gt;)&lt;/span&gt; TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-02&amp;#39;&lt;/span&gt;, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-04&amp;#39;&lt;/span&gt;, VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;3, 3, 3, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO reservas &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idCliente, idHabitacion, fecha_entrada, fecha_salida&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;4, 4, 4, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-05&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-10&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO reservas &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idCliente, idHabitacion, fecha_entrada, fecha_salida&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;5, 5, 5, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-07&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-12&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO reservas &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idCliente, idHabitacion, fecha_entrada, fecha_salida&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;6, 6, 6, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-03&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- Inserción de datos en la tabla pagos.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO pagos &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idReserva, metodoPago, precio, fechaPago&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;1, 1, &lt;span style="color:#e6db74"&gt;&amp;#39;Tarjeta&amp;#39;&lt;/span&gt;, 200, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO pagos &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idReserva, metodoPago, precio, fechaPago&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;2, 2, &lt;span style="color:#e6db74"&gt;&amp;#39;Efectivo&amp;#39;&lt;/span&gt;, 240, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-03&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO pagos &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idReserva, metodoPago, precio, fechaPago&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;3, 3, &lt;span style="color:#e6db74"&gt;&amp;#39;PayPal&amp;#39;&lt;/span&gt;, 300, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-02&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO pagos &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idReserva, metodoPago, precio, fechaPago&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;4, 4, &lt;span style="color:#e6db74"&gt;&amp;#39;Tarjeta&amp;#39;&lt;/span&gt;, 400, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-05&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO pagos &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idReserva, metodoPago, precio, fechaPago&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;5, 5, &lt;span style="color:#e6db74"&gt;&amp;#39;Efectivo&amp;#39;&lt;/span&gt;, 320, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-07&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO pagos &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id, idReserva, metodoPago, precio, fechaPago&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;6, 6, &lt;span style="color:#e6db74"&gt;&amp;#39;PayPal&amp;#39;&lt;/span&gt;, 150, TO_DATE&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;YYYY-MM-DD&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;))&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="instalación-servidor-mysql-en-debian-13"&gt;Instalación Servidor MySQL en Debian 13.
&lt;/h2&gt;&lt;h3 id="1instalación-del-servidor"&gt;1.Instalación del servidor
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Primero vamos a actualizar el sistema y comprobar que no tenga
actualizaciones, para que no de error al instalar los nuevos paquetes del
servidor mariaDB.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Una vez actualizados los paquetes del sistema, vamos a ejecutar el siguiente
comando, para instalar “mariaDB”.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install mariadb-server -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que se ha instalado correctamente el servidor de MariaDB y que
está levantado.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl status mariadb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Ejecutamos el siguiente comando para que se inicie el servidor mariadb cada
vez que iniciemos la máquina.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl enable mariadb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que podemos entrar en MySQL.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo mysql -u root -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2configuración-del-servidor-mysql-para-la-conexión-remota"&gt;2.Configuración del servidor MySQL para la conexión remota.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Modificamos el fichero “/etc/mysql/mariadb.conf.d/50-server.cnf”, para
permitir conexiones remotas al servidor mariaDB, modificamos la línea “bindaddress”, para permitir que pueda tener conexión remota. Una vez modificado
esto, guardamos los cambios y salimos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /etc/mysql/mariadb.conf.d/50-server.cnf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Reiniciamos el servidor para que se apliquen los cambios.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl restart mariadb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3crear-base-de-datos-de-prueba-usuario-y-conceder-permisos"&gt;3.Crear base de datos de prueba, usuario y conceder permisos
&lt;/h3&gt;&lt;p&gt;en MySQL.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Entramos en Mysql.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo mysql -u root -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creamos un usuario con contraseña.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MariaDB [(&lt;span style="color:#66d9ef"&gt;none&lt;/span&gt;)]&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;USER&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;sergio&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;@&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;%&amp;#39;&lt;/span&gt; IDENTIFIED &lt;span style="color:#66d9ef"&gt;BY&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;sergio&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MariaDB [(&lt;span style="color:#66d9ef"&gt;none&lt;/span&gt;)]&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;GRANT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;ALL&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;PRIVILEGES&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;ON&lt;/span&gt; &lt;span style="color:#f92672"&gt;*&lt;/span&gt;.&lt;span style="color:#f92672"&gt;*&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TO&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;sergio&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;@&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;%&amp;#39;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;WITH&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;GRANT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;OPTION&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Probamos que podemos conectarnos con el usuario que acabamos de crear
desde nuestra propia máquina local.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo mysql -h localhost -P &lt;span style="color:#ae81ff"&gt;3306&lt;/span&gt; -u sergio -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="4instalación-y-configuración-del-cliente-de-mysql"&gt;4.Instalación y configuración del cliente de MySQL.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Actualizamos los paquetes del sistema para evitar conflictos durante la
instalación del cliente de MySQL.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos el cliente de MySQL.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install mariadb-client -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Probamos a conectarnos al servidor de MySQL, desde el cliente.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ mysql -h 192.168.122.79 -P &lt;span style="color:#ae81ff"&gt;3306&lt;/span&gt; -u sergio -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="5creación-de-base-de-datos-con-tablas-y-datos-en-mysql"&gt;5.Creación de base de datos con tablas y datos en MySQL.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Accedemos al servidor de MySQL desde la misma máquina donde se encuentra
instalado, accediendo como superusuario a la base de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo mysql -u root -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creamos la base de datos, el usuario con el vamos a acceder a la base de datos
y dotamos de los privilegios necesarios para que ese usuario pueda acceder a
los datos de la base de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MariaDB [(&lt;span style="color:#66d9ef"&gt;none&lt;/span&gt;)]&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;DATABASE&lt;/span&gt; hotel;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MariaDB [(&lt;span style="color:#66d9ef"&gt;none&lt;/span&gt;)]&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;USER&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;sergio&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;@&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;%&amp;#39;&lt;/span&gt; IDENTIFIED &lt;span style="color:#66d9ef"&gt;BY&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;sergio&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MariaDB [(&lt;span style="color:#66d9ef"&gt;none&lt;/span&gt;)]&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;GRANT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;ALL&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;PRIVILEGES&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;ON&lt;/span&gt; hotel.&lt;span style="color:#f92672"&gt;*&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TO&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;sergio&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;@&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;%&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MariaDB [(&lt;span style="color:#66d9ef"&gt;none&lt;/span&gt;)]&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; FLUSH &lt;span style="color:#66d9ef"&gt;PRIVILEGES&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii&lt;span style="color:#f92672"&gt;@&lt;/span&gt;db:&lt;span style="color:#f92672"&gt;~&lt;/span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;$&lt;/span&gt; mysql &lt;span style="color:#f92672"&gt;-&lt;/span&gt;h IP_SERVIDOR_MYSQL &lt;span style="color:#f92672"&gt;-&lt;/span&gt;P &lt;span style="color:#ae81ff"&gt;3306&lt;/span&gt; &lt;span style="color:#f92672"&gt;-&lt;/span&gt;u usuario &lt;span style="color:#f92672"&gt;-&lt;/span&gt;p
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MariaDB [(&lt;span style="color:#66d9ef"&gt;none&lt;/span&gt;)]&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;USE hotel;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Creación de la tabla clientes.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TABLE&lt;/span&gt; clientes( id NUMERIC, nombre VARCHAR(&lt;span style="color:#ae81ff"&gt;15&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;, apellidos VARCHAR(&lt;span style="color:#ae81ff"&gt;30&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;, email VARCHAR(&lt;span style="color:#ae81ff"&gt;50&lt;/span&gt;), telefono NUMERIC(&lt;span style="color:#ae81ff"&gt;9&lt;/span&gt;),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; pk_idCliente &lt;span style="color:#66d9ef"&gt;PRIMARY&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; uq_email &lt;span style="color:#66d9ef"&gt;UNIQUE&lt;/span&gt; (email) );
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Creación de la tabla habitaciones.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TABLE&lt;/span&gt; habitaciones( id NUMERIC, numero NUMERIC &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;, tipo VARCHAR(&lt;span style="color:#ae81ff"&gt;20&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;, precio NUMERIC(&lt;span style="color:#ae81ff"&gt;10&lt;/span&gt;,&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; pk_idHabitacion &lt;span style="color:#66d9ef"&gt;PRIMARY&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; uq_numero &lt;span style="color:#66d9ef"&gt;UNIQUE&lt;/span&gt; (numero),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; ck_tipoHabitacion &lt;span style="color:#66d9ef"&gt;CHECK&lt;/span&gt; (tipo &lt;span style="color:#66d9ef"&gt;IN&lt;/span&gt; (&lt;span style="color:#e6db74"&gt;&amp;#39;Individual&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Doble&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Suite&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Familiar&amp;#39;&lt;/span&gt;)) );
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Creación de la tabla reservas.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TABLE&lt;/span&gt; reservas( id NUMERIC, idCliente NUMERIC &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;, idHabitacion NUMERIC &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;, fecha_entrada DATE &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;, fecha_salida DATE &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; pk_idReservas &lt;span style="color:#66d9ef"&gt;PRIMARY&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; fk_idCliente &lt;span style="color:#66d9ef"&gt;FOREIGN&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (idCliente) &lt;span style="color:#66d9ef"&gt;REFERENCES&lt;/span&gt; clientes(id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; fk_idHabitacion &lt;span style="color:#66d9ef"&gt;FOREIGN&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (idHabitacion) &lt;span style="color:#66d9ef"&gt;REFERENCES&lt;/span&gt; habitaciones(id) );
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Creación de la tabla pagos.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TABLE&lt;/span&gt; pagos( id NUMERIC, idReserva NUMERIC &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;, metodoPago VARCHAR(&lt;span style="color:#ae81ff"&gt;20&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;, precio NUMERIC(&lt;span style="color:#ae81ff"&gt;10&lt;/span&gt;,&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;, fechaPago DATE &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NULL&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; pk_idPagos &lt;span style="color:#66d9ef"&gt;PRIMARY&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; fk_idReserva &lt;span style="color:#66d9ef"&gt;FOREIGN&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;KEY&lt;/span&gt; (idReserva) &lt;span style="color:#66d9ef"&gt;REFERENCES&lt;/span&gt; reservas(id),
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONSTRAINT&lt;/span&gt; ck_metodoPago &lt;span style="color:#66d9ef"&gt;CHECK&lt;/span&gt; (metodoPago &lt;span style="color:#66d9ef"&gt;IN&lt;/span&gt; (&lt;span style="color:#e6db74"&gt;&amp;#39;Tarjeta&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Efectivo&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;PayPal&amp;#39;&lt;/span&gt;)) );
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Inserción de datos en la tabla clientes.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;David&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Dorado Lopez&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;davidd@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;600111222&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Maria&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Gomez Perez&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;mariagom@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;600333444&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Jorge&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Santos Diaz&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;jogesantos@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;600555666&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Lucia&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Romero Garcia&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;luciarom@yahoot.es&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;600777888&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Pablo&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Ruiz Torres&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;pablo@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;600999000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Sofia&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Martinez Leon&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;sofleon@yahoot.es&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;601111222&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;7&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Alberto&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Navas Cruz&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;albertonavas@yahoot.es&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;601333444&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;8&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Marta&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Lopez Gil&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;marta@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;601555666&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;9&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Raul&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Castro Vega&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;raulcastro@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;601777888&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; clientes (id, nombre, apellidos, email, telefono) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;10&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Laura&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Morales Cano&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;laura@gmail.com&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;601999000&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Inserción de datos en la tabla habitaciones.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;101&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Individual&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;50&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;102&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Doble&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;80&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;103&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Suite&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;150&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;104&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Individual&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;50&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;105&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Doble&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;80&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; habitaciones (id, numero, tipo, precio) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;106&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Suite&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;150&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Inserción de datos en la tabla reservas.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-05&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-03&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-06&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-02&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-04&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-05&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-10&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-07&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-12&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; reservas (id, idCliente, idHabitacion, fecha_entrada, fecha_salida) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-03&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Inserción de datos en la tabla pagos.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Tarjeta&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;200&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Efectivo&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;240&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-03&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;PayPal&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;300&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-02&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Tarjeta&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;400&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-05&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;5&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Efectivo&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;320&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-07&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;INSERT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; pagos (id, idReserva, metodoPago, precio, fechaPago) &lt;span style="color:#66d9ef"&gt;VALUES&lt;/span&gt; (&lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;6&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;PayPal&amp;#39;&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;150&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-01&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobación de la creación de tablas e inserción de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SELECT * FROM clientes;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MariaDB &lt;span style="color:#f92672"&gt;[&lt;/span&gt;hotel&lt;span style="color:#f92672"&gt;]&lt;/span&gt;&amp;gt; SELECT * FROM habitaciones;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MariaDB &lt;span style="color:#f92672"&gt;[&lt;/span&gt;hotel&lt;span style="color:#f92672"&gt;]&lt;/span&gt;&amp;gt; SELECT * FROM reservas;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MariaDB &lt;span style="color:#f92672"&gt;[&lt;/span&gt;hotel&lt;span style="color:#f92672"&gt;]&lt;/span&gt;&amp;gt; SELECT * FROM pagos;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="instalación-servidor-mongodb-en-debian-13"&gt;Instalación Servidor MongoDB en Debian 13.
&lt;/h2&gt;&lt;h3 id="1dependencias-y-configuración-previa"&gt;1.Dependencias y configuración previa
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Actualizamos los paquetes del sistema para evitar posibles conflictos de
versiones durante la instalación del servidor de MongoDB.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos las siguientes dependencias.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install curl gnupg -y - curl: sirve para descargar archivos desde Internet.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- **gnupg**: permite manejar claves criptográficas como las claves GPG.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Ejecutamos el siguiente comando para descargar la clave pública GPG oficial
de MongoDB, y con “gpg &amp;ndash;dearmor” la convertimos en formato binario para
que apt pueda usarla.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo curl -fsSL https://pgp.mongodb.com/server-8.0.asc | sudo gpg -dearmor -o /usr/share/keyrings/mongodbserver-8.0.gpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Con el siguiente comando voy a añadir el repositorio de MongoDB. El
siguiente comando lo que hace es crear un nuevo archivo de lista de
repositorios (mongodb-org-8.0.list) en “/etc/apt/sources.list.d/”, escribiendo
dentro del fichero una línea que le dice a apt lo siguiente:&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Usa el repositorio de MongoDB.
Está en &lt;a class="link" href="https://repo.mongodb.org/apt/debian" target="_blank" rel="noopener"
&gt;https://repo.mongodb.org/apt/debian&lt;/a&gt;.
Usa la versión bookworm, que es equivalente tanto para Debian 12
como para Debian 13.
La sección es main.
Los paquetes deben estar firmados con la clave “/usr/share/keyrings/mongodb-server-8.0.gpg”.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo echo &lt;span style="color:#e6db74"&gt;&amp;#34;deb [signed-by=/usr/share/keyrings/mongodbserver-8.0.gpg] https://repo.mongodb.org/apt/debian bookworm/mongodb-org/8.0 main&amp;#34;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/mongodb-org-8.0.list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Volvemos a actualizar los paquetes e instalamos MongoDB.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2instalación-del-servidor-2"&gt;2.Instalación del servidor
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install mongodb-org -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Iniciamos y habilitamos MongoDB para que se inicie cada vez que se inicie la
máquina.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl start mongod
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl enable mongod
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Verificamos el estado del servidor de MongoDB.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl status mongod
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que podemos entrar en mongodb desde el local.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ mongosh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3configuración-del-servidor-mongodb-para-la-conexión"&gt;3.Configuración del servidor MongoDB para la conexión
&lt;/h3&gt;&lt;p&gt;remota.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Para permitir el acceso remoto al servidor de MongoDB, tendremos que
modificar el parámetro “bindIp” a “0.0.0.0”, en el fichero “/etc/mongod.conf”.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /etc/mongod.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Reiniciamos el servicio de MongoDB para aplicar los cambios.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl restart mongod
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="4crear-base-de-datos-de-prueba-usuario-y-conceder-permisos"&gt;4.Crear base de datos de prueba, usuario y conceder permisos
&lt;/h3&gt;&lt;p&gt;en MongoDB.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Accedemos al servidor de mongoDB en el mismo equipo.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ mongosh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Creamos una base de datos de prueba.
test&amp;gt; use pruebadb&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Vamos a crear un usuario de prueba también con contraseña, que solo pueda
operar sobre la base de datos que acabamos de crear. Pero para ello, tenemos
que hacerlo usando la base de datos que acabamos de crear.
pruebadb&amp;gt; db.createUser({
&amp;hellip; user: &amp;ldquo;sergio&amp;rdquo;,
&amp;hellip; pwd: &amp;ldquo;sergio&amp;rdquo;,
&amp;hellip; roles: [
&amp;hellip;
{ role: &amp;ldquo;readWrite&amp;rdquo;, db: &amp;ldquo;pruebadb&amp;rdquo; }
&amp;hellip; ]
&amp;hellip; })&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;En el fichero “/etc/mongod.config”, vamos a habilitar para que se fuerce la
autenticación.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /etc/mongod.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Reiniciamos el servicio de MongoDB para aplicar los cambios.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl restart mongod
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que podemos conectarnos al usuario que acabamos de crear y a
la base de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ mongosh -u sergio -p sergio -authenticationDatabase pruebadb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="5instalación-y-configuración-del-cliente-de-mongodb"&gt;5.Instalación y configuración del cliente de MongoDB.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Actualizamos los paquetes del sistema para evitar posibles conflictos de
versiones durante la instalación del servidor de MongoDB.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos las siguientes dependencias.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install curl gnupg -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Ejecutamos el siguiente comando para descargar la clave pública GPG oficial
de MongoDB, y con “gpg &amp;ndash;dearmor” la convertimos en formato binario para
que apt pueda usarla.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo curl -fsSL https://pgp.mongodb.com/server-8.0.asc | sudo gpg --dearmor -o /usr/share/keyrings/mongodb-server-8.0.gpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;A continuación, vamos a añadir el repositorio de MongoDB con el siguiente
comando.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ echo &lt;span style="color:#e6db74"&gt;&amp;#34;deb [signed-by=/usr/share/keyrings/mongodb-server-8.0.gpg] https://repo.mongodb.org/apt/debian bookworm/mongodb-org/8.0 main&amp;#34;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/mongodb-org-8.0.list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Volvemos a actualizar los paquetes.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Con el siguiente comando vamos a instalar mongoDB, pero solo el cliente
moderno de MongoDB, ya que tenemos el servidor instalado en la máquina
remota.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install -y mongodb-mongosh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que podemos conectarnos desde el cliente en nuestro local al
servidor remoto.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ mongosh &lt;span style="color:#e6db74"&gt;&amp;#34;mongodb://usuario:contraseña@IP_DEL_SERVIDOR:2 7017/pruebadb?authSource=pruebadb&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="6creación-de-usuario-base-de-datos-con-tablas-y-datos-en"&gt;6.Creación de usuario, base de datos con tablas y datos en
&lt;/h3&gt;&lt;p&gt;MongoDB.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nos conectamos al servidor desde su propia máquina y creamos la base de
datos y el usuario con el que vamos a acceder a la base de datos remotamente.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ mongosh
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;test&amp;gt; use hotel
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;hotel&amp;gt; db.createUser&lt;span style="color:#f92672"&gt;({&lt;/span&gt; user: &lt;span style="color:#e6db74"&gt;&amp;#34;sergio&amp;#34;&lt;/span&gt;, pwd: &lt;span style="color:#e6db74"&gt;&amp;#34;sergio&amp;#34;&lt;/span&gt;, roles: &lt;span style="color:#f92672"&gt;[{&lt;/span&gt; role: &lt;span style="color:#e6db74"&gt;&amp;#34;readWrite&amp;#34;&lt;/span&gt;, db: &lt;span style="color:#e6db74"&gt;&amp;#34;hotel&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;}]&lt;/span&gt; &lt;span style="color:#f92672"&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; ok: &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; &lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Volvemos a activar la autenticación en “/etc/mongod.conf”.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl restart mongod
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Nos conectamos remotamente, y comenzamos a crear colecciones e insertar
datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ mongosh &lt;span style="color:#e6db74"&gt;&amp;#34;mongodb://usuario:contraseña@IP_DEL_SERVIDOR:27017/pruebadb?authSource=pruebadb&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;// Creación de la colección clientes e inserción de datos.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;db.clientes.insertMany&lt;span style="color:#f92672"&gt;([&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:1, nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;David&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Dorado&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Lopez&amp;#34;&lt;/span&gt;, email:&lt;span style="color:#e6db74"&gt;&amp;#34;davidd@gmail.com&amp;#34;&lt;/span&gt;, telefono:600111222&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:2, nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Maria&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Gomez&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Perez&amp;#34;&lt;/span&gt;, email:&lt;span style="color:#e6db74"&gt;&amp;#34;mariagom@gmail.com&amp;#34;&lt;/span&gt;, telefono:600333444&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:3, nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Jorge&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Santos&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Diaz&amp;#34;&lt;/span&gt;, email:&lt;span style="color:#e6db74"&gt;&amp;#34;jorgesantos@gmail.com&amp;#34;&lt;/span&gt;, telefono:600555666&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:4, nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Lucia&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Romero&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Garcia&amp;#34;&lt;/span&gt;, email:&lt;span style="color:#e6db74"&gt;&amp;#34;luciarom@yahoo.es&amp;#34;&lt;/span&gt;, telefono:600777888&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:5, nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Pablo&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Ruiz&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Torres&amp;#34;&lt;/span&gt;, email:&lt;span style="color:#e6db74"&gt;&amp;#34;pablo@gmail.com&amp;#34;&lt;/span&gt;, telefono:600999000&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:6, nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Sofia&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Martinez&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Leon&amp;#34;&lt;/span&gt;, email:&lt;span style="color:#e6db74"&gt;&amp;#34;sofleon@yahoo.es&amp;#34;&lt;/span&gt;, telefono:601111222&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:7, nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Alberto&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Navas&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Cruz&amp;#34;&lt;/span&gt;, email:&lt;span style="color:#e6db74"&gt;&amp;#34;albertonavas@yahoo.es&amp;#34;&lt;/span&gt;, telefono:601333444&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:8, nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Marta&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Lopez&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Gil&amp;#34;&lt;/span&gt;, email:&lt;span style="color:#e6db74"&gt;&amp;#34;marta@gmail.com&amp;#34;&lt;/span&gt;, telefono:601555666&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:9, nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Raul&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Castro&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Vega&amp;#34;&lt;/span&gt;, email:&lt;span style="color:#e6db74"&gt;&amp;#34;raulcastro@gmail.com&amp;#34;&lt;/span&gt;, telefono:601777888&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:10, nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Laura&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Morales&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Cano&amp;#34;&lt;/span&gt;, email:&lt;span style="color:#e6db74"&gt;&amp;#34;laura@gmail.com&amp;#34;&lt;/span&gt;, telefono:601999000&lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;])&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;// Creación de la colección habitaciones e inserción de datos.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;db.habitaciones.insertMany&lt;span style="color:#f92672"&gt;([&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:1, numero:101, tipo:&lt;span style="color:#e6db74"&gt;&amp;#34;Individual&amp;#34;&lt;/span&gt;, precio:50&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:2, numero:102, tipo:&lt;span style="color:#e6db74"&gt;&amp;#34;Doble&amp;#34;&lt;/span&gt;, precio:80&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:3, numero:103, tipo:&lt;span style="color:#e6db74"&gt;&amp;#34;Suite&amp;#34;&lt;/span&gt;, precio:150&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:4, numero:104, tipo:&lt;span style="color:#e6db74"&gt;&amp;#34;Individual&amp;#34;&lt;/span&gt;, precio:50&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:5, numero:105, tipo:&lt;span style="color:#e6db74"&gt;&amp;#34;Doble&amp;#34;&lt;/span&gt;, precio:80&lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;_id:6, numero:106, tipo:&lt;span style="color:#e6db74"&gt;&amp;#34;Suite&amp;#34;&lt;/span&gt;, precio:150&lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;])&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;// Creación de la colección servicios e inserción de datos.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;db.servicios.insertMany&lt;span style="color:#f92672"&gt;([&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; _id:1, servicio:&lt;span style="color:#e6db74"&gt;&amp;#34;Desayuno&amp;#34;&lt;/span&gt;, precio:5 &lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; _id:2, servicio:&lt;span style="color:#e6db74"&gt;&amp;#34;Spa&amp;#34;&lt;/span&gt;, precio:20 &lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; _id:3, servicio:&lt;span style="color:#e6db74"&gt;&amp;#34;Gimnasio&amp;#34;&lt;/span&gt;, precio:0 &lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; _id:4, servicio:&lt;span style="color:#e6db74"&gt;&amp;#34;Piscina cubierta&amp;#34;&lt;/span&gt;, precio:0 &lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; _id:5, servicio:&lt;span style="color:#e6db74"&gt;&amp;#34;Aparcamiento&amp;#34;&lt;/span&gt;, precio:10 &lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; _id:6, servicio:&lt;span style="color:#e6db74"&gt;&amp;#34;Limpieza extra&amp;#34;&lt;/span&gt;, precio:15 &lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; _id:7, servicio:&lt;span style="color:#e6db74"&gt;&amp;#34;Wi-Fi Premium&amp;#34;&lt;/span&gt;, precio:3 &lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; _id:8, servicio:&lt;span style="color:#e6db74"&gt;&amp;#34;Transporte aeropuerto&amp;#34;&lt;/span&gt;, precio:25 &lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; _id:9, servicio:&lt;span style="color:#e6db74"&gt;&amp;#34;Cuna para bebé&amp;#34;&lt;/span&gt;, precio:5 &lt;span style="color:#f92672"&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt; _id:10, servicio:&lt;span style="color:#e6db74"&gt;&amp;#34;Late check-out&amp;#34;&lt;/span&gt;, precio:12 &lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;])&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que se han creado las colecciones con los datos correctamente.
Colección clientes.
hotel&amp;gt; db.clientes.find();&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Colección habitaciones.
hotel&amp;gt; db.habitaciones.find();&lt;/p&gt;
&lt;p&gt;Colección servicios.
hotel&amp;gt; db.servicios.find();&lt;/p&gt;
&lt;h2 id="instalación-servidor-neo4j-en-debian-13"&gt;Instalación Servidor Neo4J en Debian 13.
&lt;/h2&gt;&lt;h3 id="1instalación-de-dependencias"&gt;1.Instalación de dependencias
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Actualizamos los paquetes del sistema para evitar conflictos durante la
instalación de paquetes y dependencias.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos las dependencias y utilidades básicas para Neo4J.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install -y wget curl gnupg lsb-release ca-certificates apt-transport-https
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;wget&lt;/strong&gt;: para descargar archivos desde internet.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;curl&lt;/strong&gt;: descargar archivos desde internet.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gnupg&lt;/strong&gt;: manejar claves de seguridad (GPG).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;lsb-release&lt;/strong&gt;: saber la versión del sistema.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ca-certificates y apt-transport-https&lt;/strong&gt;: permiten usar repositorios HTTPS de forma segura.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- Neo4j necesita java para funcionar. En mi caso, voy a instalar Temurin Java 21,
usando una versión mantenida por Adoptium.
```bash
serjaii@db:~$ wget -qO https://packages.adoptium.net/artifactory/api/gpg/key/public | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/adoptium.gpg &amp;gt; /dev/null
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Con este comando, estamos descargando y guardando la clave GPG para poder
confiar en los paquetes de Adoptium.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Añadimos el repositorio de Adoptium desde donde apt puede descargar los
paquetes Temurin (Java 21).&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ echo &lt;span style="color:#e6db74"&gt;&amp;#34;deb [signed-by=/etc/apt/trusted.gpg.d/adoptium.gpg] https://packages.adoptium.net/artifactory/deb &lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;lsb_release -cs&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt; main&amp;#34;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/adoptium.list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Volvemos a actualizar los repositorios antes de instalar java 21.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos Java Development Kit 21, necesario para ejecutar Neo4j.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install -y temurin-21-jdk
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que se ha descargado java correctamente.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ java -version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Añadimos la clave de Neo4j, descargando y guardando la clave oficial de
Neo4j para verificar los paquetes.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ wget -qO https://debian.neo4j.com/neotechnology.gpg.key | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/neo4j.gpg &amp;gt; /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Añadimos el repositorio oficial de dónde se descargará Neo4j.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ echo &lt;span style="color:#e6db74"&gt;&amp;#39;deb https://debian.neo4j.com stable latest&amp;#39;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/neo4j.list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2instalación-del-servidor-3"&gt;2.Instalación del servidor
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Actualizamos los paquetes, para refrescar la lista de paquetes antes de instalar
Neo4j.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos Neo4j.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install neo4j -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Antes de iniciar por primera vez el servidor de Neo4j, hay que definir la
contraseña del usuario administrador de Neo4j. Para ello, vamos a asegurarnos
que el servicio esté apagado antes.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl status neo4j
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Fijamos la contraseña inicial para el usuario neo4j.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo neo4j-admin dbms set-initialpassword &lt;span style="color:#e6db74"&gt;&amp;#39;root1234&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Iniciamos el servicio de Neo4j y comprobamos que podemos acceder a la base
de datos de Neo4j.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl start neo4j
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl status neo4j
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl enable neo4j
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ cypher-shell -u neo4j -p &lt;span style="color:#e6db74"&gt;&amp;#39;root1234&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3configuración-del-servidor-neo4j-en-debian-13-para-la"&gt;3.Configuración del Servidor Neo4J en Debian 13 para la
&lt;/h3&gt;&lt;p&gt;conexión remota.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Por defecto Neo4j escucha sólo en localhost. Por lo tanto, vamos a modificar en
el fichero “/etc/neo4j/neo4j.conf”, las siguientes líneas para permitir la
conexión remota.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /etc/neo4j/neo4j.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ grep -E &lt;span style="color:#e6db74"&gt;&amp;#39;server.default_listen_address|server.bolt.listen_address|server.http.listen_address&amp;#39;&lt;/span&gt; /etc/neo4j/neo4j.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;0.0.0.0: escuchar todas las interfaces de red.
Puerto 7687: activar protocolo Bolt en el puerto 7687, usado por
clientes como cypher-shell.
Puerto 7474: interfaz web de Neo4j accesible desde el navegador.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Reiniciamos el servicio de Neo4j para que se apliquen los cambios de
configuración remota.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl restart neo4j
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Verificamos que el servicio está escuchando por los puertos que hemos
activado.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ ss -tlnp | grep &lt;span style="color:#ae81ff"&gt;7687&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -I http://localhost:7474
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="4instalación-y-configuración-del-cliente-de-neo4j-en-debian-13"&gt;4.Instalación y configuración del cliente de Neo4j en Debian 13.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Actualizamos los paquetes del sistema para evitar conflictos durante la
instalación del cliente.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Nos descargamos los repositorios oficiales y clave gpg del cliente de Neo4j.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ wget -qO https://debian.neo4j.com/neotechnology.gpg.key | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/neo4j.gpg &amp;gt; /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Añadimos la clave de Neo4j.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ echo &lt;span style="color:#e6db74"&gt;&amp;#39;deb https://debian.neo4j.com stable latest&amp;#39;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/neo4j.list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Actualizamos los paquetes del sistema para que se incluyan los repositorios y la
clave de Neo4j al sistema.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos el cliente de línea de comandos de Neo4j.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install -y cypher-shell
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que podemos conectar remotamente desde el cliente al servidor
de Neo4j.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ cypher-shell bolt://IP_SERVIDOR:7687 -u neo4j -p &lt;span style="color:#e6db74"&gt;&amp;#39;root1234&amp;#39;&lt;/span&gt; -a
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="5creación-de-usuario-base-de-datos-con-nodos-e-inserción-de"&gt;5.Creación de usuario, base de datos con nodos e inserción de
&lt;/h3&gt;&lt;p&gt;datos de Neo4j.
Durante la instalación de Neo4j se ha utilizado la edición Community, que es la
versión gratuita y de código abierto.
Esta edición no permite la creación base de datos adicionales, por lo que todas las
pruebas y ejercicios las realizaremos sobre la base de datos por defecto llamada
“neo4j”.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Accedemos a la base de datos desde el cliente, y creamos un nuevo usuario y le
otorgamos los permisos necesarios adecuados al usuario creado para que pueda
interactuar sobre la base de datos por defecto. En este caso, al igual que hemos
explicado antes con la creación de la base de datos, la edición Community
tampoco tiene las opciones de darle privilegios a los usuarios, sino que durante
la creación del usuario, el usuario tiene todos los permisos por defecto, como si
fuera admin.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ cypher-shell bolt://192.168.122.79:7687 -u neo4j -p &lt;span style="color:#e6db74"&gt;&amp;#39;root1234&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; :use system
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; CREATE USER nombreUsuario SET PASSWORD &lt;span style="color:#e6db74"&gt;&amp;#39;contraseñaUsuario&amp;#39;&lt;/span&gt; CHANGE NOT REQUIRED;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Con la opción “CHANGE NOT REQUIRED”, hemos indicado que no necesita
cambiar la contraseña en su primer inicio de sesión.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Creamos los nodos correspondientes con sus datos.
Creación de clientes.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 1, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;David&amp;#34;&lt;/span&gt;, apellido1: &lt;span style="color:#e6db74"&gt;&amp;#34;Dorado&amp;#34;&lt;/span&gt;, apellido2: &lt;span style="color:#e6db74"&gt;&amp;#34;Lopez&amp;#34;&lt;/span&gt;, email: &lt;span style="color:#e6db74"&gt;&amp;#34;davidd@gmail.com&amp;#34;&lt;/span&gt;, telefono: 600111222&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 2, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Maria&amp;#34;&lt;/span&gt;, apellido1: &lt;span style="color:#e6db74"&gt;&amp;#34;Gomez&amp;#34;&lt;/span&gt;, apellido2: &lt;span style="color:#e6db74"&gt;&amp;#34;Perez&amp;#34;&lt;/span&gt;, email: &lt;span style="color:#e6db74"&gt;&amp;#34;mariagom@gmail.com&amp;#34;&lt;/span&gt;, telefono: 600333444&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 3, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Jorge&amp;#34;&lt;/span&gt;, apellido1: &lt;span style="color:#e6db74"&gt;&amp;#34;Santos&amp;#34;&lt;/span&gt;, apellido2: &lt;span style="color:#e6db74"&gt;&amp;#34;Diaz&amp;#34;&lt;/span&gt;, email: &lt;span style="color:#e6db74"&gt;&amp;#34;jorgesantos@gmail.com&amp;#34;&lt;/span&gt;, telefono: 600555666&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 4, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Lucia&amp;#34;&lt;/span&gt;, apellido1: &lt;span style="color:#e6db74"&gt;&amp;#34;Romero&amp;#34;&lt;/span&gt;, apellido2: &lt;span style="color:#e6db74"&gt;&amp;#34;Garcia&amp;#34;&lt;/span&gt;, email: &lt;span style="color:#e6db74"&gt;&amp;#34;luciarom@yahoot.es&amp;#34;&lt;/span&gt;, telefono: 600777888&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 5, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Pablo&amp;#34;&lt;/span&gt;, apellido1: &lt;span style="color:#e6db74"&gt;&amp;#34;Ruiz&amp;#34;&lt;/span&gt;, apellido2: &lt;span style="color:#e6db74"&gt;&amp;#34;Torres&amp;#34;&lt;/span&gt;, email: &lt;span style="color:#e6db74"&gt;&amp;#34;pablo@gmail.com&amp;#34;&lt;/span&gt;, telefono: 600999000&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 6, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Sofia&amp;#34;&lt;/span&gt;, apellido1: &lt;span style="color:#e6db74"&gt;&amp;#34;Martinez&amp;#34;&lt;/span&gt;, apellido2: &lt;span style="color:#e6db74"&gt;&amp;#34;Leon&amp;#34;&lt;/span&gt;, email: &lt;span style="color:#e6db74"&gt;&amp;#34;sofleon@yahoot.es&amp;#34;&lt;/span&gt;, telefono: 601111222&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 7, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Roberto&amp;#34;&lt;/span&gt;, apellido1: &lt;span style="color:#e6db74"&gt;&amp;#34;Navas&amp;#34;&lt;/span&gt;, apellido2: &lt;span style="color:#e6db74"&gt;&amp;#34;Cruz&amp;#34;&lt;/span&gt;, email: &lt;span style="color:#e6db74"&gt;&amp;#34;albertonavas@yahoot.es&amp;#34;&lt;/span&gt;, telefono: 601333444&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 8, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Marta&amp;#34;&lt;/span&gt;, apellido1: &lt;span style="color:#e6db74"&gt;&amp;#34;Lopez&amp;#34;&lt;/span&gt;, apellido2: &lt;span style="color:#e6db74"&gt;&amp;#34;Gil&amp;#34;&lt;/span&gt;, email: &lt;span style="color:#e6db74"&gt;&amp;#34;marta@gmail.com&amp;#34;&lt;/span&gt;, telefono: 601555666&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 9, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Raul&amp;#34;&lt;/span&gt;, apellido1: &lt;span style="color:#e6db74"&gt;&amp;#34;Castro&amp;#34;&lt;/span&gt;, apellido2: &lt;span style="color:#e6db74"&gt;&amp;#34;Vega&amp;#34;&lt;/span&gt;, email: &lt;span style="color:#e6db74"&gt;&amp;#34;raulcastro@gmail.com&amp;#34;&lt;/span&gt;, telefono: 601777888&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 10, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;laura&amp;#34;&lt;/span&gt;, apellido1: &lt;span style="color:#e6db74"&gt;&amp;#34;Morales&amp;#34;&lt;/span&gt;, apellido2: &lt;span style="color:#e6db74"&gt;&amp;#34;Cano&amp;#34;&lt;/span&gt;, email: &lt;span style="color:#e6db74"&gt;&amp;#34;laura@gmail.com&amp;#34;&lt;/span&gt;, telefono: 601999000&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;// Creación de habitaciones.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 1, numero: 101, tipo: &lt;span style="color:#e6db74"&gt;&amp;#34;Individual&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 2, numero: 102, tipo: &lt;span style="color:#e6db74"&gt;&amp;#34;Doble&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 3, numero: 103, tipo: &lt;span style="color:#e6db74"&gt;&amp;#34;Suite&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 4, numero: 104, tipo: &lt;span style="color:#e6db74"&gt;&amp;#34;Individual&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 5, numero: 105, tipo: &lt;span style="color:#e6db74"&gt;&amp;#34;Doble&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 6, numero: 106, tipo: &lt;span style="color:#e6db74"&gt;&amp;#34;Suite&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 7, numero: 107, tipo: &lt;span style="color:#e6db74"&gt;&amp;#34;Individual&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 8, numero: 108, tipo: &lt;span style="color:#e6db74"&gt;&amp;#34;Doble&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 9, numero: 109, tipo: &lt;span style="color:#e6db74"&gt;&amp;#34;Suite&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 10, numero: 110, tipo: &lt;span style="color:#e6db74"&gt;&amp;#34;Doble&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;// Creación de servicios.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 1, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Restaurante&amp;#34;&lt;/span&gt;, precio: 15&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 2, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Piscina&amp;#34;&lt;/span&gt;, precio: 5&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 3, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Spa&amp;#34;&lt;/span&gt;, precio: 25&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 4, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Gimnasio&amp;#34;&lt;/span&gt;, precio: 10&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 5, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Parking&amp;#34;&lt;/span&gt;, precio: 8&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 6, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Transporte&amp;#34;&lt;/span&gt;, precio: 12&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 7, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;WiFi Premium&amp;#34;&lt;/span&gt;, precio: 3&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 8, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Canguro&amp;#34;&lt;/span&gt;, precio: 20&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 9, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Excursión&amp;#34;&lt;/span&gt;, precio: 30&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 10, nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Alquiler Bicicleta&amp;#34;&lt;/span&gt;, precio: 7&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;// Creación de Pagos.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 1, monto: 100, metodo: &lt;span style="color:#e6db74"&gt;&amp;#34;Tarjeta&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 2, monto: 200, metodo: &lt;span style="color:#e6db74"&gt;&amp;#34;Efectivo&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 3, monto: 150, metodo: &lt;span style="color:#e6db74"&gt;&amp;#34;Transferencia&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 4, monto: 120, metodo: &lt;span style="color:#e6db74"&gt;&amp;#34;Tarjeta&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 5, monto: 250, metodo: &lt;span style="color:#e6db74"&gt;&amp;#34;Efectivo&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 6, monto: 180, metodo: &lt;span style="color:#e6db74"&gt;&amp;#34;Tarjeta&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 7, monto: 90, metodo: &lt;span style="color:#e6db74"&gt;&amp;#34;Transferencia&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 8, monto: 300, metodo: &lt;span style="color:#e6db74"&gt;&amp;#34;Efectivo&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 9, monto: 50, metodo: &lt;span style="color:#e6db74"&gt;&amp;#34;Tarjeta&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id: 10, monto: 75, metodo: &lt;span style="color:#e6db74"&gt;&amp;#34;Efectivo&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creamos las relaciones entre los nodos que hemos creado antes.
Cliente reserva Habitación.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ cypher-shell bolt://IP_SERVIDOR:7687 -u neo4j -p &lt;span style="color:#e6db74"&gt;&amp;#39;root1234&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; :use neo4j;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;// Cliente reserva Habitación.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:1&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:1&lt;span style="color:#f92672"&gt;})&lt;/span&gt; CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:2&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:3&lt;span style="color:#f92672"&gt;})&lt;/span&gt; CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:3&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:4&lt;span style="color:#f92672"&gt;})&lt;/span&gt; CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:4&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:2&lt;span style="color:#f92672"&gt;})&lt;/span&gt; CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:5&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:6&lt;span style="color:#f92672"&gt;})&lt;/span&gt; CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:6&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:8&lt;span style="color:#f92672"&gt;})&lt;/span&gt; CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:7&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:5&lt;span style="color:#f92672"&gt;})&lt;/span&gt; CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:8&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:7&lt;span style="color:#f92672"&gt;})&lt;/span&gt; CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:9&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:9&lt;span style="color:#f92672"&gt;})&lt;/span&gt; CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:10&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:10&lt;span style="color:#f92672"&gt;})&lt;/span&gt; CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;// Cliente utiliza Servicio.
MATCH (c:Cliente {id:1}),(s:Servicio{id:1}) CREATE (c)-[:USA]-&amp;gt;(s);
MATCH (c:Cliente {id:2}),(s:Servicio{id:4}) CREATE (c)-[:USA]-&amp;gt;(s);
MATCH (c:Cliente {id:3}),(s:Servicio{id:5}) CREATE (c)-[:USA]-&amp;gt;(s);
MATCH (c:Cliente {id:4}),(s:Servicio{id:2}) CREATE (c)-[:USA]-&amp;gt;(s);
MATCH (c:Cliente {id:5}),(s:Servicio{id:3}) CREATE (c)-[:USA]-&amp;gt;(s);
MATCH (c:Cliente {id:6}),(s:Servicio{id:8}) CREATE (c)-[:USA]-&amp;gt;(s);
MATCH (c:Cliente {id:7}),(s:Servicio{id:6}) CREATE (c)-[:USA]-&amp;gt;(s);
MATCH (c:Cliente {id:8}),(s:Servicio{id:7}) CREATE (c)-[:USA]-&amp;gt;(s);
MATCH (c:Cliente {id:9}),(s:Servicio{id:9}) CREATE (c)-[:USA]-&amp;gt;(s);
MATCH (c:Cliente {id:10}),(s:Servicio{id:10}) CREATE (c)-[:USA]-&amp;gt;(s);&lt;/p&gt;
&lt;p&gt;// Cliente realiza Pago.
MATCH (c:Cliente {id:1}),(p:Pagos{id:1}) CREATE (c)-[:PAGA]-&amp;gt;(p);
MATCH (c:Cliente {id:2}),(p:Pagos{id:2}) CREATE (c)-[:PAGA]-&amp;gt;(p);
MATCH (c:Cliente {id:3}),(p:Pagos{id:3}) CREATE (c)-[:PAGA]-&amp;gt;(p);
MATCH (c:Cliente {id:4}),(p:Pagos{id:4}) CREATE (c)-[:PAGA]-&amp;gt;(p);
MATCH (c:Cliente {id:5}),(p:Pagos{id:5}) CREATE (c)-[:PAGA]-&amp;gt;(p);
MATCH (c:Cliente {id:6}),(p:Pagos{id:6}) CREATE (c)-[:PAGA]-&amp;gt;(p);
MATCH (c:Cliente {id:7}),(p:Pagos{id:7}) CREATE (c)-[:PAGA]-&amp;gt;(p);
MATCH (c:Cliente {id:8}),(p:Pagos{id:8}) CREATE (c)-[:PAGA]-&amp;gt;(p);
MATCH (c:Cliente {id:9}),(p:Pagos{id:9}) CREATE (c)-[:PAGA]-&amp;gt;(p);
MATCH (c:Cliente {id:10}),(p:Pagos{id:10}) CREATE (c)-[:PAGA]-&amp;gt;(p);&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;
### 6.Pruebas del funcionamiento básico de Neo4j.
- Obtener todos los nodos de un tipo. En mi caso, voy a obtener todos los nodos
de Cliente y todos los nodos de Servicio.
- Obtener todos los nodos de un tipo. En mi caso, voy a obtener todos los nodos
de Cliente y todos los nodos de Servicio.
```bash
neo4j@neo4j&amp;gt; MATCH (c:Cliente) RETURN c;
neo4j@neo4j&amp;gt; MATCH (s:Servicio) RETURN s;
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;Obtener un nodo concreto. En mi caso voy a obtener el Cliente con id 1, y las
habitaciones de tipo individual ordenados descendentemente por el número de
habitación. Además, también voy a obtener los pagos de 90€ que se hayan
realizado por transferencia.&lt;/li&gt;
&lt;li&gt;Obtener un nodo concreto. En mi caso voy a obtener el Cliente con id 1, y las
habitaciones de tipo individual ordenados descendentemente por el número de
habitación. Además, también voy a obtener los pagos de 90€ que se hayan
realizado por transferencia.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:1&lt;span style="color:#f92672"&gt;})&lt;/span&gt; RETURN c;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;tipo:&lt;span style="color:#e6db74"&gt;&amp;#39;Individual&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RETURN h ORDER BY h.numero DESC;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;p:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;monto: 90, metodo:&lt;span style="color:#e6db74"&gt;&amp;#39;Transferencia&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RETURN p;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Contar cuántos nodos Habitación hay que sean de tipo Suite.&lt;/li&gt;
&lt;li&gt;Contar cuántos nodos Habitación hay que sean de tipo Suite.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;tipo:&lt;span style="color:#e6db74"&gt;&amp;#39;Suite&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RETURN COUNT&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt; AS habitaciones_suite;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Mostrar todas las relaciones de un nodo. En mi caso, voy a realizar la siguiente
consulta de ejemplo: Mostrar las habitaciones que ha reservado el cliente cuyo
nombre es Jorge y cuyo primer apellido es Santos.&lt;/li&gt;
&lt;li&gt;Mostrar todas las relaciones de un nodo. En mi caso, voy a realizar la siguiente
consulta de ejemplo: Mostrar las habitaciones que ha reservado el cliente cuyo
nombre es Jorge y cuyo primer apellido es Santos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Jorge&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Santos&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;r&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RETURN c.nombre, c.apellido1, r, h.numero, h.tipo;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Obtener las habitaciones que ha reservado y los servicios que ha utilizado la
clienta Marta Lopez Gil.&lt;/li&gt;
&lt;li&gt;Obtener las habitaciones que ha reservado y los servicios que ha utilizado la
clienta Marta Lopez Gil.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;nombre:&lt;span style="color:#e6db74"&gt;&amp;#34;Marta&amp;#34;&lt;/span&gt;, apellido1:&lt;span style="color:#e6db74"&gt;&amp;#34;Lopez&amp;#34;&lt;/span&gt;, apellido2:&lt;span style="color:#e6db74"&gt;&amp;#34;Gil&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;r&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion&lt;span style="color:#f92672"&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;u&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;s:Servicio&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RETURN c.nombre, c.apellido1, c.apellido2, r, h.numero, h.tipo, u, s.nombre, s.precio;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Obtener el número de servicios que ha utilizado cada cliente.&lt;/li&gt;
&lt;li&gt;Obtener el número de servicios que ha utilizado cada cliente.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;u&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;s:Servicio&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RETURN c.nombre, c.apellido1, c.apellido2, u, COUNT&lt;span style="color:#f92672"&gt;(&lt;/span&gt;s&lt;span style="color:#f92672"&gt;)&lt;/span&gt; AS Total_Servicios;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Obtener los clientes que realizaron pagos mayores a 100.&lt;/li&gt;
&lt;li&gt;Obtener los clientes que realizaron pagos mayores a 100.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:PAGA&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;p:Pagos&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;WHERE p.monto &amp;gt; &lt;span style="color:#ae81ff"&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RETURN c.nombre, c.apellido1, c.apellido2, p.monto;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Modificar el precio del servicio Spa de 25€ a 20€.&lt;/li&gt;
&lt;li&gt;Modificar el precio del servicio Spa de 25€ a 20€.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;s:Servicio &lt;span style="color:#f92672"&gt;{&lt;/span&gt;nombre: &lt;span style="color:#e6db74"&gt;&amp;#34;Spa&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SET s.precio &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;20&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RETURN s.id, s.nombre, s.precio;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Agregar una nueva relación entre Cliente y Habitación.&lt;/li&gt;
&lt;li&gt;Agregar una nueva relación entre Cliente y Habitación.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:2&lt;span style="color:#f92672"&gt;})&lt;/span&gt;, &lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:2&lt;span style="color:#f92672"&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva &lt;span style="color:#f92672"&gt;{&lt;/span&gt;fecha_entrada: date&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;2025-10-10&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, fecha_salida:date&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;2025-10-15&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)}]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva &lt;span style="color:#f92672"&gt;{&lt;/span&gt;fecha_entrada: date&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;2025-1010&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;, fecha_salida:date&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;2025-10-15&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)}]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Borrar un nodo junto con sus relaciones.&lt;/li&gt;
&lt;li&gt;Borrar un nodo junto con sus relaciones.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;p:Pagos &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:1&lt;span style="color:#f92672"&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;DETACH DELETE p;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Listar los clientes ordenados por número de reservas.&lt;/li&gt;
&lt;li&gt;Listar los clientes ordenados por número de reservas.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente&lt;span style="color:#f92672"&gt;)&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:Reserva&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h:Habitacion&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RETURN c.nombre, COUNT&lt;span style="color:#f92672"&gt;(&lt;/span&gt;h&lt;span style="color:#f92672"&gt;)&lt;/span&gt; AS Total_Reservas
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ORDER BY Total_Reservas DESC;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Sumar todos los pagos de un cliente.&lt;/li&gt;
&lt;li&gt;Sumar todos los pagos de un cliente.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;neo4j@neo4j&amp;gt; MATCH &lt;span style="color:#f92672"&gt;(&lt;/span&gt;c:Cliente &lt;span style="color:#f92672"&gt;{&lt;/span&gt;id:3&lt;span style="color:#f92672"&gt;})&lt;/span&gt;-&lt;span style="color:#f92672"&gt;[&lt;/span&gt;:PAGA&lt;span style="color:#f92672"&gt;]&lt;/span&gt;-&amp;gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;p:Pagos&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RETURN c.nombre, c.apellido1, c.apellido2, SUM&lt;span style="color:#f92672"&gt;(&lt;/span&gt;p.monto&lt;span style="color:#f92672"&gt;)&lt;/span&gt; AS total_pagado;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="instalación-servidor-redis-en-debian-13"&gt;Instalación Servidor Redis en Debian 13
&lt;/h2&gt;&lt;h3 id="1dependencias-y-configuración-previa-1"&gt;1.Dependencias y configuración previa
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;En primer lugar usaremos apt para instalar las dependencias necesarias para
Redis&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Para añadir el repositorio de Redis a nuestra máquina será necesaria una clave
GPG.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -fsSL https://packages.redis.io/gpg | sudo gpg --dearmor -o /usr/share/keyrings/redis-archivekeyring.gpg &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo chmod &lt;span style="color:#ae81ff"&gt;644&lt;/span&gt; /usr/share/keyrings/redis-archive-keyring.gpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Ahora si podemos añadir el repositorio de Redis y realizar un apt update&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ echo &lt;span style="color:#e6db74"&gt;&amp;#34;deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb &lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;lsb_release -cs&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt; main&amp;#34;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/redis.list &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2instalación-del-servidor-4"&gt;2.Instalación del servidor
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Instalamos el servidor Redis&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install redis
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Iniciamos el servicio de Redis con systemctl&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl enable redis-server
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl start redis-server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que podemos acceder al servidor y ejecutar instrucciones sobre
él&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ redis-cli
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3configuración-del-servidor-redis-para-acceso-remoto"&gt;3.Configuración del servidor Redis para acceso remoto
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Por defecto Redis escucha sólo en localhost. Por lo tanto, vamos a modificar en
el fichero “/etc/redis/redis.conf” en el que buscaremos comentar la linea “bind
127.0.0.1 -::1 la cual hará que se acepten conexiones externas” y la cambiamos&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /etc/redis/redis.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;De igual forma la linea protected-mode la vamos a deshabilitar y a su vez
añadiremos una password para el acceso remoto&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="4configuración-del-cliente-redis-cli-para-acceso-remoto"&gt;4.Configuración del cliente Redis-cli para acceso remoto
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;En primer lugar actualizamos los paquetes del sistema&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install redis-tools
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos que podemos acceder remotamente&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ redis-cli -h bd -p &lt;span style="color:#ae81ff"&gt;6379&lt;/span&gt; -a clienteredis
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="5creación-de-usuariobase-de-datos-e-inserción-de-datos"&gt;5.Creación de usuario,base de datos e inserción de datos
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Ingresamos a la base de datos y creamos el usuario&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ redis-cli
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;bd:6379&amp;gt; ACL SETUSER serjaii on &amp;gt;serjaii ~* +@all
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;OK
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Accedemos con el nuevo usuario&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ redis-cli -h bd -p &lt;span style="color:#ae81ff"&gt;6379&lt;/span&gt; -a serjaii --user serjaii
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Warning: Using a password with &lt;span style="color:#e6db74"&gt;&amp;#39;-a&amp;#39;&lt;/span&gt; or &lt;span style="color:#e6db74"&gt;&amp;#39;-u&amp;#39;&lt;/span&gt; option on the
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;command line interface may not be safe.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Redis no trabaja con bases de datos ni tablas sino grafos y nodos,crearemos un
grafo de ejemplo e insertaremos datos&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Clientes:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;HSET cliente:1 id &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; nombre &lt;span style="color:#e6db74"&gt;&amp;#34;David&amp;#34;&lt;/span&gt; apellido1 &lt;span style="color:#e6db74"&gt;&amp;#34;Dorado&amp;#34;&lt;/span&gt; apellido2 &lt;span style="color:#e6db74"&gt;&amp;#34;Lopez&amp;#34;&lt;/span&gt; email &lt;span style="color:#e6db74"&gt;&amp;#34;davidd@gmail.com&amp;#34;&lt;/span&gt; telefono &lt;span style="color:#e6db74"&gt;&amp;#34;600111222&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;HSET cliente:2 id &lt;span style="color:#ae81ff"&gt;2&lt;/span&gt; nombre &lt;span style="color:#e6db74"&gt;&amp;#34;Maria&amp;#34;&lt;/span&gt; apellido1 &lt;span style="color:#e6db74"&gt;&amp;#34;Dorado&amp;#34;&lt;/span&gt; apellido2 &lt;span style="color:#e6db74"&gt;&amp;#34;Lopez&amp;#34;&lt;/span&gt; email &lt;span style="color:#e6db74"&gt;&amp;#34;maria@gmail.com&amp;#34;&lt;/span&gt; telefono &lt;span style="color:#e6db74"&gt;&amp;#34;600333444&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;HSET cliente:3 id &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt; nombre &lt;span style="color:#e6db74"&gt;&amp;#34;Jorge&amp;#34;&lt;/span&gt; apellido1 &lt;span style="color:#e6db74"&gt;&amp;#34;Santos&amp;#34;&lt;/span&gt; apellido2 &lt;span style="color:#e6db74"&gt;&amp;#34;Diaz&amp;#34;&lt;/span&gt; email &lt;span style="color:#e6db74"&gt;&amp;#34;jorgesantos@gmail.com&amp;#34;&lt;/span&gt; telefono &lt;span style="color:#e6db74"&gt;&amp;#34;600555666&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;HSET cliente:4 id 4 nombre &amp;ldquo;Lucia&amp;rdquo; apellido1 &amp;ldquo;Romero&amp;rdquo; apellido2 &amp;ldquo;Garcia&amp;rdquo; email &amp;ldquo;&lt;a class="link" href="mailto:luciarom@yahoot.es" &gt;luciarom@yahoot.es&lt;/a&gt;&amp;rdquo; telefono &amp;ldquo;600777888&amp;rdquo;
HSET cliente:5 id 5 nombre &amp;ldquo;Pablo&amp;rdquo; apellido1 &amp;ldquo;Ruiz&amp;rdquo; apellido2 &amp;ldquo;Torres&amp;rdquo; email &amp;ldquo;&lt;a class="link" href="mailto:pablo@gmail.com" &gt;pablo@gmail.com&lt;/a&gt;&amp;rdquo; telefono &amp;ldquo;600999000&amp;rdquo;
HSET cliente:6 id 6 nombre &amp;ldquo;Sofia&amp;rdquo; apellido1 &amp;ldquo;Martinez&amp;rdquo; apellido2 &amp;ldquo;Leon&amp;rdquo; email &amp;ldquo;&lt;a class="link" href="mailto:sofleon@yahoot.es" &gt;sofleon@yahoot.es&lt;/a&gt;&amp;rdquo; telefono &amp;ldquo;601111222&amp;rdquo;
HSET cliente:7 id 7 nombre &amp;ldquo;Roberto&amp;rdquo; apellido1 &amp;ldquo;Navas&amp;rdquo; apellido2 &amp;ldquo;Cruz&amp;rdquo; email &amp;ldquo;&lt;a class="link" href="mailto:albertonavas@yahoot.es" &gt;albertonavas@yahoot.es&lt;/a&gt;&amp;rdquo; telefono &amp;ldquo;601333444&amp;rdquo;
HSET cliente:8 id 8 nombre &amp;ldquo;Marta&amp;rdquo; apellido1 &amp;ldquo;Lopez&amp;rdquo; apellido2 &amp;ldquo;Gil&amp;rdquo; email &amp;ldquo;&lt;a class="link" href="mailto:marta@gmail.com" &gt;marta@gmail.com&lt;/a&gt;&amp;rdquo; telefono &amp;ldquo;601555666&amp;rdquo;
HSET cliente:9 id 9 nombre &amp;ldquo;Raul&amp;rdquo; apellido1 &amp;ldquo;Castro&amp;rdquo; apellido2 &amp;ldquo;Vega&amp;rdquo; email &amp;ldquo;&lt;a class="link" href="mailto:raulcastro@gmail.com" &gt;raulcastro@gmail.com&lt;/a&gt;&amp;rdquo; telefono &amp;ldquo;601777888&amp;rdquo;
HSET cliente:10 id 10 nombre &amp;ldquo;Laura&amp;rdquo; apellido1 &amp;ldquo;Morales&amp;rdquo; apellido2 &amp;ldquo;Cano&amp;rdquo; email &amp;ldquo;&lt;a class="link" href="mailto:laura@gmail.com" &gt;laura@gmail.com&lt;/a&gt;&amp;rdquo; telefono &amp;ldquo;601999000&amp;rdquo;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Habitacion:
HSET habitacion:1 id 1 numero 101 tipo &amp;ldquo;Individual&amp;rdquo;
HSET habitacion:2 id 2 numero 102 tipo &amp;ldquo;Doble&amp;rdquo;
HSET habitacion:3 id 3 numero 103 tipo &amp;ldquo;Suite&amp;rdquo;
HSET habitacion:4 id 4 numero 104 tipo &amp;ldquo;Individual&amp;rdquo;
HSET habitacion:5 id 5 numero 105 tipo &amp;ldquo;Doble&amp;rdquo;
HSET habitacion:6 id 6 numero 106 tipo &amp;ldquo;Suite&amp;rdquo;
HSET habitacion:7 id 7 numero 107 tipo &amp;ldquo;Individual&amp;rdquo;
HSET habitacion:8 id 8 numero 108 tipo &amp;ldquo;Doble&amp;rdquo;
HSET habitacion:9 id 9 numero 109 tipo &amp;ldquo;Suite&amp;rdquo;
HSET habitacion:10 id 10 numero 110 tipo &amp;ldquo;Doble&amp;rdquo;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Servicio:
HSET servicio:1 id 1 nombre &amp;ldquo;Restaurante&amp;rdquo; precio 15
HSET servicio:2 id 2 nombre &amp;ldquo;Piscina&amp;rdquo; precio 5
HSET servicio:3 id 3 nombre &amp;ldquo;Spa&amp;rdquo; precio 25
HSET servicio:4 id 4 nombre &amp;ldquo;Gimnasio&amp;rdquo; precio 10
HSET servicio:5 id 5 nombre &amp;ldquo;Parking&amp;rdquo; precio 8
HSET servicio:6 id 6 nombre &amp;ldquo;Transporte&amp;rdquo; precio 12
HSET servicio:7 id 7 nombre &amp;ldquo;WiFi Premium&amp;rdquo; precio 3
HSET servicio:8 id 8 nombre &amp;ldquo;Canguro&amp;rdquo; precio 20
HSET servicio:9 id 9 nombre &amp;ldquo;Excursión&amp;rdquo; precio 30
HSET servicio:10 id 10 nombre &amp;ldquo;Alquiler Bicicleta&amp;rdquo; precio 7&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pago:
HSET pago:1 id 1 monto 100 metodo &amp;ldquo;Tarjeta&amp;rdquo;
HSET pago:2 id 2 monto 200 metodo &amp;ldquo;Efectivo&amp;rdquo;
HSET pago:3 id 3 monto 150 metodo &amp;ldquo;Transferencia&amp;rdquo;
HSET pago:4 id 4 monto 120 metodo &amp;ldquo;Tarjeta&amp;rdquo;
HSET pago:5 id 5 monto 250 metodo &amp;ldquo;Efectivo&amp;rdquo;
HSET pago:6 id 6 monto 180 metodo &amp;ldquo;Tarjeta&amp;rdquo;
HSET pago:7 id 7 monto 90 metodo &amp;ldquo;Transferencia&amp;rdquo;
HSET pago:8 id 8 monto 300 metodo &amp;ldquo;Efectivo&amp;rdquo;
HSET pago:9 id 9 monto 50 metodo &amp;ldquo;Tarjeta&amp;rdquo;
HSET pago:10 id 10 monto 75 metodo &amp;ldquo;Efectivo&amp;rdquo;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="6pruebas-de-funcionamiento"&gt;6.Pruebas de funcionamiento
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Listar todas las claves creadas
bd:6379&amp;gt; KEYS *&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comprobar un cliente
bd:6379&amp;gt; HGETALL cliente:4&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Buscar por campo
bd:6379&amp;gt; SCAN 0 MATCH cliente:* COUNT 100&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="instalación-servidor-cassandra-en-debian-13"&gt;Instalación Servidor Cassandra en Debian 13
&lt;/h2&gt;&lt;h3 id="1dependencias-y-configuración-previa-2"&gt;1.Dependencias y configuración previa
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Como siempre, comenzamos actualizando los repositorios del sistema:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalar Java 11
&lt;ul&gt;
&lt;li&gt;Cassandra 4.1.5 requiere Java 11. Como Debian Trixie no lo tiene en sus
repositorios oficiales, lo instalaremos desde Adoptium:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Instalamos las dependencias necesarias&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install -y wget apt-transport-https gpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Añadir la clave GPG del repositorio de Adoptium&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ wget -qO - https://packages.adoptium.net/artifactory/api/gpg/key/public | sudo gpg --dearmor -o /usr/share/keyrings/adoptium.gpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Añadir el repositorio&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ echo &lt;span style="color:#e6db74"&gt;&amp;#34;deb [signed-by=/usr/share/keyrings/adoptium.gpg] https://packages.adoptium.net/artifactory/deb bookworm main&amp;#34;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/adoptium.list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Actualizar e instalar Java 11&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install -y temurin-11-jdk
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Verificar instalación
java -version&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ java -version openjdk version &lt;span style="color:#e6db74"&gt;&amp;#34;11.0.28&amp;#34;&lt;/span&gt; 2025-07-15 OpenJDK Runtime Environment Temurin-11.0.28+6 &lt;span style="color:#f92672"&gt;(&lt;/span&gt;build 11.0.28+6&lt;span style="color:#f92672"&gt;)&lt;/span&gt; OpenJDK 64-Bit Server VM Temurin-11.0.28+6 &lt;span style="color:#f92672"&gt;(&lt;/span&gt;build 11.0.28+6, mixed mode&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalar dependencias adicionales
&lt;ul&gt;
&lt;li&gt;Necesitamos herramientas para compilar drivers de Python:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install -y python3-pip python3-dev python3-six buildessential libev-dev libssl-dev libffi-dev unzip zip wget
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Explicación:
&lt;ul&gt;
&lt;li&gt;python3-pip → Gestor de paquetes de Python&lt;/li&gt;
&lt;li&gt;python3-dev → Archivos de desarrollo de Python&lt;/li&gt;
&lt;li&gt;python3-six → Librería de compatibilidad Python 2/3&lt;/li&gt;
&lt;li&gt;build-essential → Herramientas de compilación (gcc, make)&lt;/li&gt;
&lt;li&gt;libev-dev → Librería para event loops&lt;/li&gt;
&lt;li&gt;unzip/zip → Para manipular archivos comprimidos&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="2instalación-del-servidor-5"&gt;2.Instalación del servidor
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Descargamos Cassandra desde el archivo oficial de Apache y lo extraemos
en /opt/cassandra para tener una instalación limpia y organizada.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Entramos al directorio /opt
cd /opt&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Descargar Cassandra 4.1.5&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo wget https://archive.apache.org/dist/cassandra/4.1.5/apachecassandra-4.1.5-bin.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Extraer el archivo&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tar -xzf apache-cassandra-4.1.5-bin.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Renombrar para facilitar el acceso&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mv apache-cassandra-4.1.5 cassandra
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Eliminar el archivo comprimido&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo rm apache-cassandra-4.1.5-bin.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Crear usuario para Cassandra
&lt;ul&gt;
&lt;li&gt;Por seguridad, Cassandra no debe ejecutarse como root:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo useradd -r -s /bin/false cassandra
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown -R cassandra:cassandra /opt/cassandra
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Explicación:
&lt;ul&gt;
&lt;li&gt;-r → Crea un usuario del sistema (sin directorio home)&lt;/li&gt;
&lt;li&gt;-s /bin/false → Sin shell de login (más seguro)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Configurar Cassandra como servicio systemd&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Creamos un servicio para que Cassandra se inicie automáticamente:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo nano /etc/systemd/system/cassandra.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Tenemos que añadir lo siguiente&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;[Unit]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Description&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;Apache Cassandra&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;After&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;network.target&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;[Service]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Type&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;forking&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;User&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;cassandra&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Group&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;cassandra&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;ExecStart&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;/opt/cassandra/bin/cassandra -p /opt/cassandra/cassandra.pid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;ExecStop&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;/bin/kill -TERM $MAINPID&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Environment&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;JAVA_HOME=/usr/lib/jvm/temurin-11-jdk-amd64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Restart&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;always&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;LimitNOFILE&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;100000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;[Install]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;WantedBy&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;multi-user.target&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Explicación de las opciones:&lt;/li&gt;
&lt;li&gt;Type=forking → Cassandra se ejecuta en segundo plano&lt;/li&gt;
&lt;li&gt;User=cassandra → Se ejecuta con el usuario cassandra&lt;/li&gt;
&lt;li&gt;Environment=JAVA_HOME → Define dónde está Java instalado&lt;/li&gt;
&lt;li&gt;LimitNOFILE=100000 → Aumenta el límite de archivos abiertos
(necesario para Cassandra)
Iniciar Cassandra&lt;/li&gt;
&lt;li&gt;Recargar systemd&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Habilitar inicio automático&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl enable cassandra
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Iniciar Cassandra&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl start cassandra
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Verificar estado&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl status cassandra
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Ahora esperamos unos 30 segundos para que se inicie todo bien y
comprobamos que esté escuchando en localhost:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo ss -tulpn | grep &lt;span style="color:#ae81ff"&gt;9042&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Nos debería salir algo como lo siguiente&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo ss -tulpn | grep &lt;span style="color:#ae81ff"&gt;9042&lt;/span&gt; tcp LISTEN &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; 127.0.0.1:9042 0.0.0.0:* users:&lt;span style="color:#f92672"&gt;((&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;java&amp;#34;&lt;/span&gt;,pid&lt;span style="color:#f92672"&gt;=&lt;/span&gt;3393,fd&lt;span style="color:#f92672"&gt;=&lt;/span&gt;154&lt;span style="color:#f92672"&gt;))&lt;/span&gt; Instalar y configurar cqlsh &lt;span style="color:#f92672"&gt;(&lt;/span&gt;Cliente de Cassandra&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalar drivers de Python&lt;/li&gt;
&lt;li&gt;Instalar el driver de Cassandra desde código fuente&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pip3 install --user --break-system-packages --no-cache-dir --nobinary :all: cassandra-driver
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Instalar eventlet y futurist (necesarios para Python 3.13)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pip3 install --user --break-system-packages eventlet futurist
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Python 3.13 eliminó el módulo asyncore, por lo que necesitamos usar eventlet
como reactor de eventos alternativo.
Configurar el driver para Python 3.13&lt;/li&gt;
&lt;li&gt;El driver de Cassandra no es compatible con Python 3.13 por defecto.
Necesitamos modificarlo:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Modificar cluster.py automáticamente&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;python3 &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt; &amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;import re
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;site_packages = __import__(&amp;#39;site&amp;#39;).USER_SITE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;cluster_file = f&amp;#34;{site_packages}/cassandra/cluster.py&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;with open(cluster_file, &amp;#39;r&amp;#39;) as f:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; content = f.read()
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;# Buscar y reemplazar el bloque problemático
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;pattern = r&amp;#39;if not conn_class:.*?raise DependencyException\([^)]+\)&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;replacement = &amp;#39;&amp;#39;&amp;#39;if not conn_class:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; from cassandra.io.eventletreactor import EventletConnection
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; default_connection_class = EventletConnection
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; conn_class = EventletConnection
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; DefaultConnection = conn_class&amp;#39;&amp;#39;&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;content_modified = re.sub(pattern, replacement, content, flags=re.DOTALL)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;with open(cluster_file, &amp;#39;w&amp;#39;) as f:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; f.write(content_modified)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;print(&amp;#34;✓ cluster.py modificado correctamente&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Este script modifica el driver para usar Eventlet en lugar de libev o asyncore.
Solucionar problema del driver interno de Cassandra&lt;/li&gt;
&lt;li&gt;El driver interno que viene con Cassandra (en formato ZIP) no puede encontrar
el módulo six. Vamos a extraerlo e insertar six:
cd /opt/cassandra/lib&lt;/li&gt;
&lt;li&gt;Hacer backup del ZIP original&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo cp cassandra-driver-internal-only-3.25.0.zip cassandradriver-internal-only-3.25.0.zip.backup
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Extraer el ZIP permanentemente&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo unzip -q cassandra-driver-internal-only-3.25.0.zip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Copiar el módulo six desde el sistema&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo cp /usr/lib/python3/dist-packages/six.py cassandradriver-3.25.0/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Copiar también la metadata de six&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo cp -r /usr/lib/python3/dist-packages/six-*.dist-info cassandradriver-3.25.0/ 2&amp;gt;/dev/null &lt;span style="color:#f92672"&gt;||&lt;/span&gt; true
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;IMPORTANTE: Eliminar el ZIP para que Python use el directorio extraído&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo rm -f cassandra-driver-internal-only-3.25.0.zip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Ajustar permisos&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown -R cassandra:cassandra cassandra-driver-3.25.0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;El driver empaquetado en ZIP no puede importar módulos externos. Al
extraerlo y copiar six.py dentro, solucionamos el problema.
Crear wrapper para cqlsh&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo nano /usr/local/bin/cqlsh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;tenemos que pegar el siguiente contenido&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export PYTHONPATH&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/usr/lib/python3/dist-packages:$HOME/.local/lib/python3.13/site-packages
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;exec /opt/cassandra/bin/cqlsh &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$@&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Lo guardamos y lo hacemos ejecutable con lo siguiente&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod +x /usr/local/bin/cqlsh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Este wrapper configura el PYTHONPATH correctamente para que cqlsh
encuentre todas las librerías necesarias.
Configurar variables de entorno
echo &amp;rsquo;&amp;rsquo; &amp;raquo; ~/.bashrc
echo &amp;lsquo;# Cassandra configuración&amp;rsquo; &amp;raquo; ~/.bashrc
echo &amp;rsquo;export CASSANDRA_HOME=/opt/cassandra&amp;rsquo; &amp;raquo; ~/.bashrc
echo &amp;rsquo;export PATH=$PATH:$CASSANDRA_HOME/bin&amp;rsquo; &amp;raquo;
~/.bashrc&lt;/li&gt;
&lt;li&gt;Aplicamos los cambios
source ~/.bashrc&lt;/li&gt;
&lt;li&gt;Ya podríamos entrar al servidor localmente ejecutando :
cqlsh&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="3configuración-del-servidor-cassandra-para-acceso-remoto"&gt;3.Configuración del servidor Cassandra para acceso remoto
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Primero tenemos que ver la ip de nuestro servidor , simplemente con un ip a y
quedarnos con la ip
2: enp1s0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu
1500 qdisc fq_codel state UP group default qlen 1000
link/ether 52:54:00:c1:44:60 brd ff:ff:ff:ff:ff:ff
altname enx525400c14460
inet 192.168.122.161/24 brd 192.168.122.255 scope global&lt;/li&gt;
&lt;li&gt;Tenemos que editar el siguiente fichero&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /opt/cassandra/conf/cassandra.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;y cambiar lo siguientes parámetros de localhost a la ip de nuestro servidor&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Esa línea está por defecto comentada la descomentamos y ponemos también la
ip del servidor&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Es importante que en este caso no podemos usar 0.0.0.0 ya que cassandra no lo
permite tenemos que poner siempre la ip de nuestro servidor
Ya con todo eso modificamos guardamos y salimos del fichero&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Reiniciamos cassandra&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl restart cassandra
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Esperamos unos segundos y verificamos que está escuchando&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo ss -tulpn | grep &lt;span style="color:#ae81ff"&gt;9042&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Podemos ver que la ip ha cambiado ahora esta la ip de nuestro servidor en vez
de localhost que es la 127.0.0.1&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo ss -tulpn | grep &lt;span style="color:#ae81ff"&gt;9042&lt;/span&gt; tcp LISTEN &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; 192.168.122.161:9042 0.0.0.0:* users:&lt;span style="color:#f92672"&gt;((&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;java&amp;#34;&lt;/span&gt;,pid &lt;span style="color:#f92672"&gt;=&lt;/span&gt;4057,fd&lt;span style="color:#f92672"&gt;=&lt;/span&gt;159&lt;span style="color:#f92672"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="4configuración-del-cliente-cassandra-para-acceso-remoto"&gt;4.Configuración del cliente Cassandra para acceso remoto
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Actualizar el sistema cliente&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalar cqlsh en el cliente
pip3 install &amp;ndash;user &amp;ndash;break-system-packages cqlsh&lt;/li&gt;
&lt;li&gt;Instalar dependencias necesarias
pip3 install &amp;ndash;user &amp;ndash;break-system-packages eventlet futurist&lt;/li&gt;
&lt;li&gt;Configurar el driver en el cliente es igual que lo que hemos hecho en el
servidor&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;python3 &lt;span style="color:#f92672"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;EOF&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;import&lt;/span&gt; re
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;site_packages &lt;span style="color:#f92672"&gt;=&lt;/span&gt; __import__(&lt;span style="color:#e6db74"&gt;&amp;#39;site&amp;#39;&lt;/span&gt;)&lt;span style="color:#f92672"&gt;.&lt;/span&gt;USER_SITE
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cluster_file &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;f&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#e6db74"&gt;{&lt;/span&gt;site_packages&lt;span style="color:#e6db74"&gt;}&lt;/span&gt;&lt;span style="color:#e6db74"&gt;/cassandra/cluster.py&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;with&lt;/span&gt; open(cluster_file, &lt;span style="color:#e6db74"&gt;&amp;#39;r&amp;#39;&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;as&lt;/span&gt; f:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; content &lt;span style="color:#f92672"&gt;=&lt;/span&gt; f&lt;span style="color:#f92672"&gt;.&lt;/span&gt;read()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pattern &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;r&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;if not conn_class:.*?raise DependencyException\([^)]+\)&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;replacement &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;&amp;#39;&amp;#39;if not conn_class:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; from cassandra.io.eventletreactor import EventletConnection
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; default_connection_class = EventletConnection
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; conn_class = EventletConnection
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; DefaultConnection = conn_class&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;content_modified &lt;span style="color:#f92672"&gt;=&lt;/span&gt; re&lt;span style="color:#f92672"&gt;.&lt;/span&gt;sub(pattern, replacement, content, flags&lt;span style="color:#f92672"&gt;=&lt;/span&gt;re&lt;span style="color:#f92672"&gt;.&lt;/span&gt;DOTALL)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;with&lt;/span&gt; open(cluster_file, &lt;span style="color:#e6db74"&gt;&amp;#39;w&amp;#39;&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;as&lt;/span&gt; f:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; f&lt;span style="color:#f92672"&gt;.&lt;/span&gt;write(content_modified)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;print(&lt;span style="color:#e6db74"&gt;&amp;#34;✓ cluster.py modificado correctamente&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Añadir cqlsh al PATH
echo &amp;rsquo;export PATH=$PATH:~/.local/bin&amp;rsquo; &amp;raquo; ~/.bashrc&lt;/li&gt;
&lt;li&gt;Aplicamos los cambios
source ~/.bashrc&lt;/li&gt;
&lt;li&gt;Ya podemos conectarnos desde el cliente al servidor
cqlsh 192.168.122.161&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="5funcionamiento-básico-de-cassandra"&gt;5.Funcionamiento básico de Cassandra
&lt;/h3&gt;&lt;p&gt;-Conceptos fundamentales&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;¿Qué es un Keyspace?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Un keyspace en Cassandra es equivalente a una base de datos en SQL.
Contiene las tablas y define la estrategia de replicación de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;¿Qué es la replicación?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cassandra distribuye copias de los datos en múltiples nodos para
garantizar disponibilidad y tolerancia a fallos.
-Gestión de usuario en Cassandra&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Por defecto, Cassandra NO requiere usuario/contraseña. Para habilitarla:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo nano /opt/cassandra/conf/cassandra.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Tenemos que cambiar las siguientes líneas
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Reiniciamos el sistema y comprobamos desde remoto con usuario y contraseña&lt;/p&gt;
&lt;p&gt;Para crear usuario con permisos de root usamos lo siguiente
Para ver los usuarios que tenemos creados&lt;/p&gt;
&lt;p&gt;También podemos cambiar la contraseña por defecto de cassandra o cualquier usuario
con :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Dar los permisos de esta tabla a un usuario especifico&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Podemos ver también los permisos que tiene el usuario que queramos y sobre
qué base de datos tiene permisos&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Si queremos darle un permisos específico sobre una base de datos a un usuario
lo hacemos de la siguiente forma&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;GRANT SELECT ON KEYSPACE &lt;span style="color:#f92672"&gt;(&lt;/span&gt;base de datos&lt;span style="color:#f92672"&gt;)&lt;/span&gt; TO &lt;span style="color:#f92672"&gt;(&lt;/span&gt;usuario&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Ahora si listamos los permisos podemos ver que se le han aplicado permisos de
lectura al usuario bibliotecario sobre tienda&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tipos de permisos&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CREATE →Crear nuevas tablas, tipos, índices&lt;/li&gt;
&lt;li&gt;ALTER → Modificar estructura de tablas&lt;/li&gt;
&lt;li&gt;DROP → Eliminar tablas, tipos&lt;/li&gt;
&lt;li&gt;SELECT → Leer datos (consultas)&lt;/li&gt;
&lt;li&gt;MODIFY → Insertar, actualizar, eliminar datos&lt;/li&gt;
&lt;li&gt;AUTHORIZE → Dar/quitar permisos a otros usuarios&lt;/li&gt;
&lt;li&gt;ALL →Todos los permisos anteriores&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Quitar un permiso específico
REVOKE SELECT ON KEYSPACE biblioteca FROM usuario;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Quitar múltiples permisos
REVOKE SELECT, MODIFY ON KEYSPACE biblioteca FROM
usuario;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Quitar todos los permisos
REVOKE ALL PERMISSIONS ON KEYSPACE biblioteca FROM
usuario;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Quitar permisos sobre tabla específica
REVOKE SELECT ON biblioteca.libros FROM usuario;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Para eliminar usuarios&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;DROP USER usuario;&lt;/p&gt;
&lt;p&gt;-Gestión de Keyspaces&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Crear un keyspace
Keyspace simple (un solo datacenter, para desarrollo)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE KEYSPACE biblioteca
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;WITH replication &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;class&amp;#39;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#39;SimpleStrategy&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;replication_factor&amp;#39;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;}&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Explicación:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SimpleStrategy: Para un solo datacenter&lt;/li&gt;
&lt;li&gt;replication_factor: 1: Mantiene 1 copia de los datos (sin redundancia)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Crear keyspace con replicación (producción)
Keyspace con 3 réplicas (recomendado para producción)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE KEYSPACE produccion
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;WITH replication &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;class&amp;#39;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#39;SimpleStrategy&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;replication_factor&amp;#39;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;}&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Explicación:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Con 3 réplicas, los datos se copian en 3 nodos&lt;/li&gt;
&lt;li&gt;Si un nodo falla, los otros 2 siguen sirviendo datos&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Crear keyspace multi-datacenter
Para clusters en múltiples datacenters&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE KEYSPACE global_app
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;WITH replication &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;class&amp;#39;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#39;NetworkTopologyStrategy&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;datacenter1&amp;#39;&lt;/span&gt;: 3,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;datacenter2&amp;#39;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;}&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Explicación:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NetworkTopologyStrategy: Para múltiples datacenters&lt;/li&gt;
&lt;li&gt;3 réplicas en datacenter1, 2 en datacenter2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ver keyspaces existentes
DESCRIBE KEYSPACES;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ver información de un keyspace específico
DESCRIBE KEYSPACE biblioteca;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Usar un keyspace
USE biblioteca;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cambiar factor de replicación de un KEYSPACE&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ALTER KEYSPACE biblioteca
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;WITH replication &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;class&amp;#39;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#39;SimpleStrategy&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;replication_factor&amp;#39;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;}&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Eliminar un KEYSPACE y todas sus tablas
DROP KEYSPACE biblioteca;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;-Gestión de tablas en Cassandra&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Seleccionamos el KEYSPACE que queremos usar&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Creamos las tablas e introducimos los datos&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Creación de tabla autores&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE TABLE autores &lt;span style="color:#f92672"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;id_autor int PRIMARY KEY,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;nombre text,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;nacionalidad text
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Introducir datos&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO autores &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id_autor, nombre, nacionalidad&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;1,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;Homero&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Griega&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO autores &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id_autor, nombre, nacionalidad&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;2,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;Gabriel García Márquez&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Colombiana&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO autores &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id_autor, nombre, nacionalidad&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;3,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;Miguel de Cervantes&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Española&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creación de tabla libros&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE TABLE libros &lt;span style="color:#f92672"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;isbn text PRIMARY KEY,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;titulo text,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;id_autor int,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;anio int,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;categoria text
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Introducir datos&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO libros &lt;span style="color:#f92672"&gt;(&lt;/span&gt;isbn, titulo, id_autor, anio, categoria&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;9780140449136&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;La Odisea&amp;#39;&lt;/span&gt;, 1, -700, &lt;span style="color:#e6db74"&gt;&amp;#39;Clásico&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO libros &lt;span style="color:#f92672"&gt;(&lt;/span&gt;isbn, titulo, id_autor, anio, categoria&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;9788499890944&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Cien años de soledad&amp;#39;&lt;/span&gt;, 2, 1967, &lt;span style="color:#e6db74"&gt;&amp;#39;Novela&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO libros &lt;span style="color:#f92672"&gt;(&lt;/span&gt;isbn, titulo, id_autor, anio, categoria&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;9788437604947&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;Don Quijote de la Mancha&amp;#39;&lt;/span&gt;, 3, 1605, &lt;span style="color:#e6db74"&gt;&amp;#39;Clásico&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creación de tabla prestamos&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CREATE TABLE prestamos &lt;span style="color:#f92672"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;id_usuario int,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fecha_prestamo timestamp,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;isbn text,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fecha_devolucion timestamp,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;PRIMARY KEY &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id_usuario, fecha_prestamo&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt; WITH CLUSTERING ORDER BY &lt;span style="color:#f92672"&gt;(&lt;/span&gt;fecha_prestamo DESC&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Introducir datos&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO prestamos &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id_usuario, fecha_prestamo, isbn,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fecha_devolucion&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;1, toTimestamp&lt;span style="color:#f92672"&gt;(&lt;/span&gt;now&lt;span style="color:#f92672"&gt;())&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;9780140449136&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;null&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO prestamos &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id_usuario, fecha_prestamo, isbn,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fecha_devolucion&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;2, toTimestamp&lt;span style="color:#f92672"&gt;(&lt;/span&gt;now&lt;span style="color:#f92672"&gt;())&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;9788499890944&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;2025-10-10T00:00:00Z&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INSERT INTO prestamos &lt;span style="color:#f92672"&gt;(&lt;/span&gt;id_usuario, fecha_prestamo, isbn,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fecha_devolucion&lt;span style="color:#f92672"&gt;)&lt;/span&gt; VALUES &lt;span style="color:#f92672"&gt;(&lt;/span&gt;3, toTimestamp&lt;span style="color:#f92672"&gt;(&lt;/span&gt;now&lt;span style="color:#f92672"&gt;())&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;9788437604947&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;null&lt;span style="color:#f92672"&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Para eliminar todos los datos de una tabla lo hacemos con TRUNCATE
TRUNCATE autores;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ver información de las tablas&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;En Cassandra se pueden consultar los datos de una tabla utilizando sentencias
SELECT, de manera similar a otros sistemas de gestión de bases de datos. No
obstante, a diferencia de los sistemas relacionales, Cassandra no admite
operaciones JOIN ni relaciones entre tablas, ya que su modelo de datos está&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;desnormalizado y orientado a las consultas. Por este motivo, cada tabla se
diseña específicamente para responder a un tipo de consulta determinado, sin
depender de otras tablas.&lt;/p&gt;
&lt;h2 id="aplicación-web-que-conecte-con-el-servidor"&gt;Aplicación Web que conecte con el servidor
&lt;/h2&gt;&lt;p&gt;MySQL y comprobación de las vulnerabilidad
a SQL Injection.
En este enlace se encuentra mi trabajo sobre el servidor web conectado a MySQL al
igual que la comprobación a la vulnerabilidad SQL Injection&lt;/p&gt;
&lt;h2 id="aplicación-web-que-conecte-con-el-servidor-1"&gt;Aplicación Web que conecte con el servidor
&lt;/h2&gt;&lt;p&gt;MongoDB
En el siguiente enlace esta el codigo de la aplicación web de MongoDB : enlace&lt;/p&gt;
&lt;h2 id="aplicación-web-que-conecte-con-el-servidor-2"&gt;Aplicación Web que conecte con el servidor
&lt;/h2&gt;&lt;p&gt;PostgreSQL tras autenticarse.
Este es el enlace de GitHub donde tengo subida mi aplicación web:
&lt;a class="link" href="https://github.com/ddorluc760/aplicacionWebHotel.git" target="_blank" rel="noopener"
&gt;https://github.com/ddorluc760/aplicacionWebHotel.git&lt;/a&gt;
Dentro del directorio “server”, tengo el fichero .sql, con las consultas de creación de
tablas e inserción de datos que he usado para mi aplicación Web.&lt;/p&gt;
&lt;p&gt;SQL Injection sobre Aplicación Web en
PostgreSQL.
Un ataque SQL Injection ocurre cuando un atacante puede insertar o manipular
consultas SQL a través de entradas no validadas, lo que puede llevar a la exposición
de datos sensibles o incluso a la manipulación de la base de datos&lt;/p&gt;
&lt;h3 id="1cambios-realizados-sobre-mi-aplicación-web-para-hacerla"&gt;1.Cambios realizados sobre mi aplicación web para hacerla
&lt;/h3&gt;&lt;p&gt;vulnerable.
Para la práctica he introducido cambios deliberados en “/server/server.js” para que la
comprobación de login sea vulnerable a SQL Injection en un entorno de laboratorio
controlado. Concretamente, en la ruta “/login” he sustituido la consulta parametrizada
por una construcción por concatenación:&lt;/p&gt;
&lt;p&gt;He realizado la misma acción en las rutas “/menu/tablaHabitaciones”,
“/menu/tablaReservas”,
“/menu/tablaPagos”,
“/menu/tablaClientes”
y
“/menu/tablaUsuarios”:&lt;/p&gt;
&lt;p&gt;Al concatenar valores procedentes del cliente (usuario, password) directamente en la
cadena SQL, los valores dejan de ser únicamente datos y pueden pasar a formar parte
de la estructura de la sentencia SQL. Esto permite que entradas especialmente
formateadas influyan sobre la sintaxis y la lógica de la consulta, es decir, que un
atacante pueda alterar la consulta original. Este comportamiento es conocido como
SQL Injection.
Esto provoca que la entrada del cliente deje de ser tratada solo como datos y pase a
formar parte de la estructura de la sentencia SQL, lo que permite manipular la
consulta si se introducen contenidos especiales en los campos.
Para que la inyección de errores y la inyección de funciones funcionen, es decir, que
mi página web también sea vulnerable a estos ataques, voy a realizar las siguientes
modificaciones en el catch, en dónde además de devolver el mensaje del error,
también devolverá el detalle del error.&lt;/p&gt;
&lt;h3 id="2tipos-de-ataques-sql-injection-sobre-mi-aplicación-web"&gt;2.Tipos de ataques SQL Injection sobre mi aplicación web.
&lt;/h3&gt;&lt;p&gt;Inyección Básica.
Intenta manipular la consulta SQL básica para obtener acceso no autorizado. En caso
de que la aplicación sea vulnerable, deberías poder iniciar sesión sin conocer la
contraseña real.
Vamos a ponerlo en práctica. Para ello, en el formulario de inicio de sesión,
ingresamos en usuario lo siguiente, y en el caso de la contraseña introducimos
también lo siguiente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#e6db74"&gt;&amp;#39; OR &amp;#39;&lt;/span&gt;1&lt;span style="color:#e6db74"&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Inyección de comentarios.
Utiliza comentarios SQL para ignorar el resto de la consulta, y permitiendo de este
modo el acceso. Para ello, necesitaremos un usuario existente solamente, ya que con
los parámetros &lt;code&gt;--&lt;/code&gt;, vamos a ignorar la comprobación de la contraseña en la consulta &lt;code&gt;SELECT&lt;/code&gt; de nuestro login.
Vamos a ponerlo en práctica. Para ello, en el formulario de inicio de sesión,
ingresamos en usuario lo siguiente, y en el caso de la contraseña introducimos
también lo siguiente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: usuarioVálido&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#e6db74"&gt;&amp;#34;cualquierContraseña&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Inyección de Unión (UNION Injection).
Combina resultados de otra consulta para obtener datos adicionales, como por
ejemplo, todos los usuarios y contraseñas.
Vamos a ponerlo en práctica. Para ello, en el formulario de inicio de sesión,
ingresamos en usuario lo siguiente, y en el caso de la contraseña introducimos
también lo siguiente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; UNION SELECT null, usuario,password,null FROM usuarios --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquiercontraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Antes de pasar con la ejecución de la inyección SQL, vamos a abrir la herramienta
para desarrolladores, y en mi caso, voy a aplicar un punto de depuración antes de
cambiar de página, para ver si en la respuesta del login, nos muestra todos los usuarios
y sus contraseñas de la tabla usuarios.&lt;/p&gt;
&lt;p&gt;Probamos a loguearnos, ejecutando la inyección SQL.&lt;/p&gt;
&lt;p&gt;Nos vamos a “Red” o “Network” y pulsamos sobre la última respuesta del login. Tras
haber hecho esto, si todo se ha ejecutado correctamente, nos mostrará los datos que
hemos solicitado en el UNION.&lt;/p&gt;
&lt;p&gt;Inyección de Tiempo (Time-Based Blind SQL Injection).
Usa una función como “pg_sleep” para confirmar la vulnerabilidad mediante retrasos
en la respuesta. En este caso, la respuesta tardará 5 segundos en llegar.
Vamos a ponerlo en práctica. Para ello, en el formulario de inicio de sesión,
ingresamos en usuario lo siguiente, y en el caso de la contraseña introducimos
también lo siguiente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; &lt;span style="color:#f92672"&gt;||&lt;/span&gt; pg_sleep&lt;span style="color:#f92672"&gt;(&lt;/span&gt;5&lt;span style="color:#f92672"&gt;)&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Para verificar que esto funciona correctamente, voy a facilitar capturas en la cuál se
muestra un ejemplo en el que se intenta hacer un inicio de sesión con un usuario o
contraseña que no existen, y comprobaremos el tiempo que tarda en enviar la
respuesta el login.&lt;/p&gt;
&lt;p&gt;Inyección de Cadenas.
Con este ataque SQL, se intenta manipular cadenas para forzar una condición
verdadera.&lt;/p&gt;
&lt;p&gt;Vamos a ponerlo en práctica. Para ello, en el formulario de inicio de sesión,
ingresamos en usuario lo siguiente, y en el caso de la contraseña introducimos
también lo siguiente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#e6db74"&gt;&amp;#39; OR &amp;#39;&lt;/span&gt;a&lt;span style="color:#e6db74"&gt;&amp;#39;=&amp;#39;&lt;/span&gt;a&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;contraseña: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Inyección de Subconsultas.
Usa subconsultas para obtener datos adicionales.
Vamos a ponerlo en práctica. Para ello, en el formulario de inicio de sesión,
ingresamos en usuario lo siguiente, y en el caso de la contraseña introducimos
también lo siguiente. En este caso, en el caso de que cumpla con la subconsulta las
tablas, nos va a permitir loguearnos. Es decir, que en este ejemplo, en el caso de que la
tabla no tenga algún dato nos va a permitir loguearnos. En el caso de que no lo
tuviera, no nos va a permitir loguearnos.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; OR &lt;span style="color:#f92672"&gt;(&lt;/span&gt;SELECT COUNT&lt;span style="color:#f92672"&gt;(&lt;/span&gt;*&lt;span style="color:#f92672"&gt;)&lt;/span&gt; FROM usuarios&lt;span style="color:#f92672"&gt;)&lt;/span&gt; &amp;gt; &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;En el siguiente caso, no deberíamos de poder entrar, ya que la tabla Clientes tiene
datos.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; OR &lt;span style="color:#f92672"&gt;(&lt;/span&gt;SELECT COUNT&lt;span style="color:#f92672"&gt;(&lt;/span&gt;*&lt;span style="color:#f92672"&gt;)&lt;/span&gt; FROM usuarios&lt;span style="color:#f92672"&gt;)&lt;/span&gt; &amp;lt; &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Inyección de Errores.
Provoca un error para obtener información sobre la base de datos. Si la aplicación es
vulnerable, deberíamos obtener un error que revele información sobre la base de
datos.&lt;/p&gt;
&lt;p&gt;Vamos a ponerlo en práctica. Para ello, en el formulario de inicio de sesión,
ingresamos en usuario lo siguiente, y en el caso de la contraseña introducimos
también lo siguiente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#e6db74"&gt;&amp;#39; AND 1=(CAST((SELECT string_agg(nombre || &amp;#39;&lt;/span&gt;:&lt;span style="color:#e6db74"&gt;&amp;#39; || primerApellido || &amp;#39;&lt;/span&gt;:&lt;span style="color:#e6db74"&gt;&amp;#39; || segundoApellido || &amp;#39;&lt;/span&gt;:&lt;span style="color:#e6db74"&gt;&amp;#39; || telefono || &amp;#39;&lt;/span&gt;:&lt;span style="color:#e6db74"&gt;&amp;#39; || email, &amp;#39;&lt;/span&gt;, &lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt; FROM clientes&lt;span style="color:#f92672"&gt;)&lt;/span&gt; AS INT&lt;span style="color:#f92672"&gt;))&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;En la herramienta de desarrollador del navegador web, nos vamos a la opción Red, y
vemos como en la respuesta 500, que nos da el error “Error en la conexión a la base de
datos”, también nos proporciona detalles sobre la versión del servidor PostgreSQL.&lt;/p&gt;
&lt;p&gt;Inyección de Datos.
Con esta inyección SQL, tratamos de intentar insertar datos en la base de datos.
Vamos a ponerlo en práctica. Para ello, en el formulario de inicio de sesión,
ingresamos en usuario lo siguiente, y en el caso de la contraseña introducimos
también lo siguiente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#e6db74"&gt;&amp;#39; ; INSERT INTO usuarios (usuario, password) VALUES (&amp;#39;&lt;/span&gt;hacker&lt;span style="color:#e6db74"&gt;&amp;#39;, &amp;#39;&lt;/span&gt;123&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Comprobamos que podemos acceder con el usuario y contraseña que hemos insertado.&lt;/p&gt;
&lt;p&gt;Inyección de Funciones.
Usa funciones de PostgreSQL para obtener información.
Vamos a ponerlo en práctica. Para ello, en el formulario de inicio de sesión,
ingresamos en usuario lo siguiente, y en el caso de la contraseña introducimos
también lo siguiente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; AND 1&lt;span style="color:#f92672"&gt;=(&lt;/span&gt;SELECT CAST&lt;span style="color:#f92672"&gt;(&lt;/span&gt;version&lt;span style="color:#f92672"&gt;()&lt;/span&gt; AS INT&lt;span style="color:#f92672"&gt;))&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;contraseña: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;En la herramienta de desarrollador del navegador web, nos vamos a la opción Red, y
vemos como en la respuesta 500, que nos da el error “Error en la conexión a la base de
datos”, también nos proporciona detalles sobre la versión del servidor PostgreSQL.&lt;/p&gt;
&lt;p&gt;Inyección de Datos Sensibles&lt;/p&gt;
&lt;p&gt;Intenta extraer datos sensibles con UNION.
Vamos a ponerlo en práctica. Para ello, en el formulario de inicio de sesión,
ingresamos en usuario lo siguiente, y en el caso de la contraseña introducimos
también lo siguiente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#e6db74"&gt;&amp;#39; UNION SELECT 1, json_build_object( &amp;#39;&lt;/span&gt;id&lt;span style="color:#e6db74"&gt;&amp;#39;, id, &amp;#39;&lt;/span&gt;email&lt;span style="color:#e6db74"&gt;&amp;#39;, email, &amp;#39;&lt;/span&gt;nombre_completo&lt;span style="color:#e6db74"&gt;&amp;#39;, nombre || &amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39; || primerApellido || &amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39; || COALESCE(segundoApellido, &amp;#39;&amp;#39;), &amp;#39;&lt;/span&gt;telefono&lt;span style="color:#e6db74"&gt;&amp;#39;, telefono)::text, &amp;#39;&lt;/span&gt;CLIENTE&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;, id FROM clientes --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;contraseña: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Antes de pasar con la ejecución de la inyección SQL, vamos a abrir la herramienta
para desarrolladores, y en mi caso, voy a aplicar un punto de depuración antes de
cambiar de página, para ver si en la respuesta del login, nos muestra todos los usuarios
y sus contraseñas de la tabla usuarios.&lt;/p&gt;
&lt;p&gt;Probamos a loguearnos, ejecutando la inyección SQL.&lt;/p&gt;
&lt;p&gt;Nos vamos a “Red” o “Network” y pulsamos sobre la última respuesta del login. Tras
haber hecho esto, si todo se ha ejecutado correctamente, nos mostrará los datos que
hemos solicitado en el UNION.&lt;/p&gt;
&lt;h3 id="3cambios-realizados-para-que-mi-aplicación-no-sea-vulnerable"&gt;3.Cambios realizados para que mi aplicación no sea vulnerable.
&lt;/h3&gt;&lt;p&gt;Para eliminar la vulnerabilidad de tipo SQL Injection introducida en las consultas, he
realizado los siguientes cambios principales:&lt;/p&gt;
&lt;h3 id="1-reemplazar-todas-las-consultas-que-concatenan-directamente-valores-de-entrada"&gt;1. Reemplazar todas las consultas que concatenan directamente valores de entrada
&lt;/h3&gt;&lt;p&gt;por consultas parametrizadas usando placeholders ($1, $2, …) y pasando un
array de parámetros al driver “pg”.&lt;/p&gt;
&lt;h3 id="2-usar-un-usuario-de-aplicación-app-user-con-permisos-mínimos-en-la-base-de"&gt;2. Usar un usuario de aplicación (app user) con permisos mínimos en la base de
&lt;/h3&gt;&lt;p&gt;datos en lugar de una cuenta con privilegios amplios, usando para el login en
postgreSQL directamente el usuario y contraseña que pasamos parámetros en el
login.&lt;/p&gt;
&lt;h3 id="3-quitar-consolelog-que-imprime-consultas-con-valores-sensibles-en-entornos"&gt;3. Quitar “console.log” que imprime consultas con valores sensibles en entornos
&lt;/h3&gt;&lt;p&gt;de producción.
Quedando el “/server/server.js” con el siguiente contenido:&lt;/p&gt;
&lt;h3 id="4comprobación-de-que-mi-aplicación-no-sea-vulnerable"&gt;4.Comprobación de que mi aplicación no sea vulnerable.
&lt;/h3&gt;&lt;p&gt;Tras haber modificado las partes del código vulnerable de mi aplicación, para que mi
página web no sea vulnerable, no nos deberá funcionar las siguientes inyecciones
SQL.
Inyección Básica.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#e6db74"&gt;&amp;#39; OR &amp;#39;&lt;/span&gt;1&lt;span style="color:#e6db74"&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Inyección de comentarios.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: usuarioVálido&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#e6db74"&gt;&amp;#34;cualquierContraseña&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Inyección de Unión (UNION Injection).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; UNION SELECT null, usuario,password,null FROM usuarios --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquiercontraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Antes de pasar con la ejecución de la inyección SQL, vamos a abrir la herramienta
para desarrolladores, y en mi caso, voy a aplicar un punto de depuración antes de
cambiar de página, para ver si en la respuesta del login, nos muestra todos los usuarios
y sus contraseñas de la tabla usuarios.&lt;/p&gt;
&lt;p&gt;Probamos a loguearnos, ejecutando la inyección SQL.&lt;/p&gt;
&lt;p&gt;Nos vamos a “Red” o “Network” y pulsamos sobre la última respuesta del login. Tras
haber hecho esto, si todo se ha ejecutado correctamente, nos mostrará los datos que
hemos solicitado en el UNION.&lt;/p&gt;
&lt;p&gt;Inyección de Tiempo (Time-Based Blind SQL Injection).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; &lt;span style="color:#f92672"&gt;||&lt;/span&gt; pg_sleep&lt;span style="color:#f92672"&gt;(&lt;/span&gt;5&lt;span style="color:#f92672"&gt;)&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Como vemos en la siguiente captura, no se ha retardado la respuesta de nuestra página
web.&lt;/p&gt;
&lt;p&gt;Inyección de Cadenas.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#e6db74"&gt;&amp;#39; OR &amp;#39;&lt;/span&gt;a&lt;span style="color:#e6db74"&gt;&amp;#39;=&amp;#39;&lt;/span&gt;a&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;contraseña: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Inyección de Subconsultas.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; OR &lt;span style="color:#f92672"&gt;(&lt;/span&gt;SELECT COUNT&lt;span style="color:#f92672"&gt;(&lt;/span&gt;*&lt;span style="color:#f92672"&gt;)&lt;/span&gt; FROM usuarios&lt;span style="color:#f92672"&gt;)&lt;/span&gt; &amp;gt; &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; OR &lt;span style="color:#f92672"&gt;(&lt;/span&gt;SELECT COUNT&lt;span style="color:#f92672"&gt;(&lt;/span&gt;*&lt;span style="color:#f92672"&gt;)&lt;/span&gt; FROM usuarios&lt;span style="color:#f92672"&gt;)&lt;/span&gt; &amp;lt; &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Inyección de Errores.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#e6db74"&gt;&amp;#39; AND 1=(CAST((SELECT string_agg(nombre || &amp;#39;&lt;/span&gt;:&lt;span style="color:#e6db74"&gt;&amp;#39; || primerApellido || &amp;#39;&lt;/span&gt;:&lt;span style="color:#e6db74"&gt;&amp;#39; || segundoApellido || &amp;#39;&lt;/span&gt;:&lt;span style="color:#e6db74"&gt;&amp;#39; || telefono || &amp;#39;&lt;/span&gt;:&lt;span style="color:#e6db74"&gt;&amp;#39; || email, &amp;#39;&lt;/span&gt;, &lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt; FROM clientes&lt;span style="color:#f92672"&gt;)&lt;/span&gt; AS INT&lt;span style="color:#f92672"&gt;))&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Inyección de Datos.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#e6db74"&gt;&amp;#39; ; INSERT INTO usuarios (usuario, password) VALUES (&amp;#39;&lt;/span&gt;aaa&lt;span style="color:#e6db74"&gt;&amp;#39;, &amp;#39;&lt;/span&gt;bbb&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;password: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Comprobamos que no se haya insertado el usuario, no pudiendo loguearnos con el
usuario que hemos intentado insertar con la vulnerabilidad.&lt;/p&gt;
&lt;p&gt;Inyección de Funciones.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt; AND 1&lt;span style="color:#f92672"&gt;=(&lt;/span&gt;SELECT CAST&lt;span style="color:#f92672"&gt;(&lt;/span&gt;version&lt;span style="color:#f92672"&gt;()&lt;/span&gt; AS INT&lt;span style="color:#f92672"&gt;))&lt;/span&gt; --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;contraseña: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Inyección de Datos Sensibles&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;usuario: admin&lt;span style="color:#e6db74"&gt;&amp;#39; UNION SELECT 1, json_build_object( &amp;#39;&lt;/span&gt;id&lt;span style="color:#e6db74"&gt;&amp;#39;, id, &amp;#39;&lt;/span&gt;email&lt;span style="color:#e6db74"&gt;&amp;#39;, email, &amp;#39;&lt;/span&gt;nombre_completo&lt;span style="color:#e6db74"&gt;&amp;#39;, nombre || &amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39; || primerApellido || &amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39; || COALESCE(segundoApellido, &amp;#39;&amp;#39;), &amp;#39;&lt;/span&gt;telefono&lt;span style="color:#e6db74"&gt;&amp;#39;, telefono)::text, &amp;#39;&lt;/span&gt;CLIENTE&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;, id FROM clientes --
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;contraseña: &lt;span style="color:#f92672"&gt;[&lt;/span&gt;cualquierContraseña&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Antes de pasar con la ejecución de la inyección SQL, vamos a abrir la herramienta
para desarrolladores, y en mi caso, voy a aplicar un punto de depuración antes de
cambiar de página, para ver si en la respuesta del login, nos muestra todos los usuarios
y sus contraseñas de la tabla usuarios.&lt;/p&gt;
&lt;p&gt;Probamos a loguearnos, ejecutando la inyección SQL.&lt;/p&gt;
&lt;p&gt;Nos vamos a “Red” o “Network” y pulsamos sobre la última respuesta del login. Tras
haber hecho esto, si todo se ha ejecutado correctamente, nos mostrará los datos que
hemos solicitado en el UNION. En este caso, no nos va a mostrar datos ya que mi
página no es vulnerable a este tipo de ataques.&lt;/p&gt;
&lt;h2 id="instalación-servidor-memcached-en-debian-13"&gt;Instalación Servidor Memcached en Debian 13
&lt;/h2&gt;&lt;h3 id="1instalación-de-paquetes"&gt;1.Instalación de Paquetes
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;En primer lugar, actualizamos los repositorios&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos el servidor memcached con la biblioteca cliente y herramientas&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install memcached libmemcachedtools
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Comprobamos el estado del servicio&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Esto ocurre porque en versiones recientes de Memcached, no admite dos
directivas -l en el mismo archivo; eso causa exactamente el error
status=71.Editamos el fichero /etc/memcached.conf y comentamos la segunda
línea que hace referencia a -l&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /etc/memcached.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Reiniciamos y omprobamos de nuevo el estado del servicio&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo systemctl restart memcached &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo systemctl status memcached
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2memcached-en-un-servidor-web"&gt;2.Memcached en un Servidor Web
&lt;/h3&gt;&lt;p&gt;Primero que nada debemos saber que es Memcached,ya que está no es en sí una base
de datos, podemos entenderla como un servicio que funciona de caché de la base de&lt;/p&gt;
&lt;p&gt;datos cuando esta se conecta con una aplicación web. Para probar su funcionalidad
voy a implementarla en un Servidor Web que accede a una base de datos MySQL.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Como estamos trabajando en un escenario demasiado pequeño como para notar
una diferencia cuando la información llega desde memcached o desde el propio
servidor de base de datos he añadido un aviso en el servidor web para poder
reconocerlo.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-html" data-lang="html"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{% if cached %}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;&lt;span style="color:#f92672"&gt;div&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;style&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;background:#ffc107;color:#212529;padding:6px 10px;border-radius:6px;font-weight:600;&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Servido desde cache
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;/&lt;span style="color:#f92672"&gt;div&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{% endif %}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3implementación-en-flask"&gt;3.Implementación en Flask
&lt;/h3&gt;&lt;p&gt;Partiendo del siguiente proyecto repasaré los pasos que he seguido para
implementar memcached en un servidor web,aunque bien hay que decir que este
proceso puede ser diferente dependiendo si se ha realizado con Flask o cualquier
otra aplicacion&lt;/p&gt;
&lt;p&gt;En primer lugar empezaremos añadiendo al entorno virtual pymemcache==4.0.8
esto lo haremos en requirements.txt&lt;/p&gt;
&lt;p&gt;El resto de cambios los haremos sobre el fichero app.py&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Importar librería&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Iniciar el cliente memcached&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Instalación, uso básico y explicación del
funcionamiento de CouchDB en Debian 13
Apache CouchDB es una base de datos NoSQL orientada a documentos que almacena
documentos JSON, expone una API HTTP/REST y una vistas MapReduce y un
sistema de replicación eficiente. Está escrita en Erlang y usa un almacenamiento
append-only sobre B-trees, lo que facilita la tolerancia a fallos y lecturas concurrentes.
Fauxton es su interfaz web integrada para administración y pruebas.&lt;/p&gt;
&lt;h3 id="1instalación-de-dependencias-y-servidor-de-couchdb"&gt;1.Instalación de dependencias y servidor de CouchDB.
&lt;/h3&gt;&lt;p&gt;El repositorio oficial de CouchDB aún no tiene paquetes específicos para Debian 13,
ya que es una versión muy reciente. Por tanto, usaremos los paquetes de Debian 12&lt;/p&gt;
&lt;p&gt;para la instalación de CouchDB de forma temporal, hasta que CouchDB publique
paquetes específicos para su instalación en Debian 13.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Actualizamos los paquetes del sistema, asegurando que los paquetes y
metadatos APT estén actualizados y así evitar conflictos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Instalamos las dependencias necesarias para la instalación de CouchDB, para
poder añadir repositorios HTTPS y gestionar claves GPG.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install -y curl gnupg ca-certificates lsb-release apt-transport-https
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;curl&lt;/strong&gt;: para descargar la clave GPG.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gnupg&lt;/strong&gt;: para convertir la clave GPG a formato apt (dearmor).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;lsb-release&lt;/strong&gt;: para obtener “VERSION_CODENAME”.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- Añadimos el repositorio oficial de CouchDB, donde se encuentran los paquetes
oficiales de CouchDB. Además, añadimos también su clave GPG para que apt
confíe en el repo. Para ello, en este paso, descargamos la clave y la guardamos
en formato apt (.gpg).
```bash
serjaii@db:~$ curl -fsSL https://couchdb.apache.org/repo/keys.asc | gpg --dearmor | sudo tee /usr/share/keyrings/couchdb-archive-keyring.gpg &amp;gt;/dev/null
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;Añadimos la entrada al sources list.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ echo &lt;span style="color:#e6db74"&gt;&amp;#34;deb [signed-by=/usr/share/keyrings/couchdb-archive-keyring.gpg] https://apache.jfrog.io/artifactory/couchdb-deb/ bookworm main&amp;#34;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/couchdb.list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Actualizamos los índices APT, para que el sistema reconozca la clave GPG.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Lanzamos la instalación de CouchDB.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install couchdb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Como vemos, nos ha salido dos errores típicos, debido a que está intentando
instalar CouchDB en Debian 12, usando dependencias que en Debian 13
pueden estar obsoletas. Para que podamos instalar CouchDB, tendremos que
descargarnos e instalar las dependencias “libicu72” y “libmozjs-78-0”
previamente, que son las dependencias que nos están fallando durante la
instalación de CouchDB.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ wget http://ftp.debian.org/debian/pool/main/i/icu/libicu72_72.1-3+deb12u1_amd64.deb
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ wget http://ftp.debian.org/debian/pool/main/m/mozjs78/libmozjs-78-0_78.15.0-7_amd64.deb
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install ./libicu72_72.1-3+deb12u1_amd64.deb ./libmozjs-78-0_78.15.0-7_amd64.deb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;El ./ delante del nombre del archivo le dice a apt que instale desde un
archivo local, no desde los repositorios.
Esto también resolverá las dependencias automáticamente si falta algo
más.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Volvemos a actualizar el sistema para actualizar la paquetería y ejecutamos el
comando para instalar “CouchDB”.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo apt install couchdb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Seleccionamos “Aceptar”.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Seleccionamos la opción “Standalone”, ya que CouchDB funcionará en esta
máquina solamente. Además, es la opción habitual para pruebas y entornos
locales.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ponemos un valor de CouchDB Erlang magic cookie.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;En la siguiente página, como quiero que mi servidor escuche conexiones
remotas, voy a configurar para que la interfaz de CouchDB sea la interfaz
“0.0.0.0”.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Añadimos una contraseña para el usuario admin, en mi caso “admin”.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Volvemos a repetir la contraseña.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Comprobamos que podemos acceder a CouchDB.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl http://localhost:5984/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2-configuración-para-conexión-remota"&gt;2. Configuración para conexión remota.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Editamos la sección “[httpd]” en el fichero “/etc/couchdb/local.ini”, indicando
con el valor “0.0.0.0”, que CouchDB escuchará en todas las interfaces de red,
no solo en localhost. Además, también le vamos a añadir una contraseña para
cuando nos conectemos al usuario admin desde el remoto.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ sudo nano /opt/couchdb/etc/local.ini
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ grep -Ev &lt;span style="color:#e6db74"&gt;&amp;#34;^;|^&lt;/span&gt;$&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; /opt/couchdb/etc/local.ini
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Verificamos que CouchDB escucha en todas las interfaces.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ ss -tuln | grep &lt;span style="color:#ae81ff"&gt;5984&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3-instalación-del-cliente-de-couchdb"&gt;3. Instalación del Cliente de CouchDB.
&lt;/h3&gt;&lt;p&gt;A diferencia de otros sistemas de bases de datos, CouchDB no requiere la instalación
de un cliente independiente. Esto se debe a que CouchDB está diseñado como un
servidor HTTP/REST, lo que significa que todas las operaciones de gestión y
manipulación de datos se realizan mediante peticiones HTTP en formato JSON.
Tenemos las siguientes opciones de clientes disponibles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CouchDB incluye un cliente web llamado Fauxton que se ejecuta directamente
en el navegador.
Se requiere el usuario administrador configurado durante la instalación
de CouchDB. Además, no requiere instalación adicional, es multiplataforma y
se accede desde cualquier navegador moderno.
Permite realizar las siguientes acciones:&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Crear y eliminar bases de datos.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Insertar, actualizar y eliminar documentos.
Gestionar usuarios y permisos.
Consultar vistas y realizar replicaciones.
Ejemplo de acceso a Fauxton desde otra máquina:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;http://IP_DEL_SERVIDOR:5984/_utils/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;CouchDB se puede controlar completamente usando curl, una herramienta
estándar para enviar peticiones HTTP.
Funciona en cualquier sistema operativo, no necesita instalación extra y
permite la automatización mediante scripts.
Ejemplo de acceso remoto haciendo uso de curl:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/_all_dbs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="4-uso-básico-de-couchdb"&gt;4. Uso básico de CouchDB.
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Después de instalar CouchDB y configurar la conexión remota, lo primero es
verificar que el servidor esté activo.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;También podemos crear y listar bases de datos. Para ello, primero vamos a
crear una base de datos de prueba y a continuación vamos a listar todas las
bases de datos para comprobar que se ha creado correctamente.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -X PUT -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/prueba1
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/_all_dbs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creación de un documento con ID automático.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -X POST -H &lt;span style="color:#e6db74"&gt;&amp;#34;Content-Type: application/json&amp;#34;&lt;/span&gt; -d &lt;span style="color:#e6db74"&gt;&amp;#39;{&amp;#34;tipo&amp;#34;:&amp;#34;persona&amp;#34;,&amp;#34;nombre&amp;#34;:&amp;#34;Ana&amp;#34;,&amp;#34;edad&amp;#34;:29}&amp;#39;&lt;/span&gt; -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/prueba1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creación de un documento con ID conocido.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -X PUT -H &lt;span style="color:#e6db74"&gt;&amp;#34;Content-Type: application/json&amp;#34;&lt;/span&gt; -d &lt;span style="color:#e6db74"&gt;&amp;#39;{&amp;#34;tipo&amp;#34;:&amp;#34;persona&amp;#34;,&amp;#34;nombre&amp;#34;:&amp;#34;Juan&amp;#34;,&amp;#34;edad&amp;#34;:35}&amp;#39;&lt;/span&gt; -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/prueba1/juan
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Lectura de los documentos creados previamente.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/prueba1/_all_docs
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/prueba1/juan
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/prueba1/4d8a13414adb24b358662682d0000e13
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Borrado de un documento.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -X DELETE &lt;span style="color:#e6db74"&gt;&amp;#34;http://IP_DEL_SERVIDOR:5984/prueba1/juan?rev=175f7db8e2f472106529dba1e056feb54&amp;#34;&lt;/span&gt; -u admin:miContraseña
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creación de un índice sobre los campos “tipo” y “edad”, usando consultas
Mango, para acelerar consultas que filtren por “tipo” y “edad”. Las consultas
Mango son consultas JSON similares a MongoDB.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -X POST -H &lt;span style="color:#e6db74"&gt;&amp;#34;Content-Type: application/json&amp;#34;&lt;/span&gt; -d &lt;span style="color:#e6db74"&gt;&amp;#39;{&amp;#34;index&amp;#34;:{&amp;#34;fields&amp;#34;: [&amp;#34;tipo&amp;#34;,&amp;#34;edad&amp;#34;]},&amp;#34;name&amp;#34;:&amp;#34;idx_tipo_edad&amp;#34;,&amp;#34;type&amp;#34;:&amp;#34;json&amp;#34;}&amp;#39;&lt;/span&gt; -u admin:miContraseña http://IP_DEL_SERVIDOR/prueba1/_index
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Ejecución de una consulta Mango. En la siguiente consulta, va a devolver un
JSON con todos los documentos que cumplen los criterios de que sean de tipo
“persona” y con “edad” mayor a 25 años, usando los índices si existen para
acelerar la búsqueda.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -X POST -H &lt;span style="color:#e6db74"&gt;&amp;#34;Content-Type: application/json&amp;#34;&lt;/span&gt; -d &lt;span style="color:#e6db74"&gt;&amp;#39;{&amp;#34;selector&amp;#34;:{&amp;#34;tipo&amp;#34;:&amp;#34;persona&amp;#34;,&amp;#34;edad&amp;#34;: {&amp;#34;$gt&amp;#34;:25}},&amp;#34;fields&amp;#34;:[&amp;#34;_id&amp;#34;,&amp;#34;nombre&amp;#34;,&amp;#34;edad&amp;#34;]}&amp;#39;&lt;/span&gt; -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/prueba1/_find
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creación de vistas con MapReduce.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -X PUT -H &lt;span style="color:#e6db74"&gt;&amp;#34;Content-Type: application/json&amp;#34;&lt;/span&gt; -d &lt;span style="color:#e6db74"&gt;&amp;#39;{&amp;#34;views&amp;#34;:{&amp;#34;by_tipo&amp;#34;: {&amp;#34;map&amp;#34;:&amp;#34;function(doc) {if(doc.tipo)emit(doc.tipo,null);}&amp;#34;}},&amp;#34;language&amp;#34;:&amp;#34;javascript&amp;#34;} &amp;#39;&lt;/span&gt; -u admin:admin http://192.168.122.79:5984/prueba1/_design/people
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Listamos la vista o la podemos ejecutar también.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/prueba1/_design/people
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -u admin:miContraseña &lt;span style="color:#e6db74"&gt;&amp;#34;http://IP_DEL_SERVIDOR:5984/prueba1/_design/people/_vie w/by_tipo&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Replicación local de la base de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -X POST -H &lt;span style="color:#e6db74"&gt;&amp;#34;Content-Type: application/json&amp;#34;&lt;/span&gt; -d &lt;span style="color:#e6db74"&gt;&amp;#39;{&amp;#34;source&amp;#34;:&amp;#34;prueba1&amp;#34;,&amp;#34;target&amp;#34;:&amp;#34;prueba1_backup&amp;#34;,&amp;#34;create_target&amp;#34;:true}&amp;#39;&lt;/span&gt; -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/_replicate
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creación de un usuario en CouchDB.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -X POST -H &lt;span style="color:#e6db74"&gt;&amp;#34;Content-Type: application/json&amp;#34;&lt;/span&gt; -d &lt;span style="color:#e6db74"&gt;&amp;#39;{&amp;#34;_id&amp;#34;:&amp;#34;org.couchdb.user:sergio&amp;#34;,&amp;#34;name&amp;#34;:&amp;#34;sergio&amp;#34;,&amp;#34;roles&amp;#34;: [&amp;#34;admin&amp;#34;],&amp;#34;type&amp;#34;:&amp;#34;user&amp;#34;,&amp;#34;password&amp;#34;:&amp;#34;sergio&amp;#34;}&amp;#39;&lt;/span&gt; -u admin:admin http://192.168.122.79:5984/_users
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Asignación de permisos al usuario sobre la base de datos.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -X PUT -H &lt;span style="color:#e6db74"&gt;&amp;#34;Content-Type: application/json&amp;#34;&lt;/span&gt; -d &lt;span style="color:#e6db74"&gt;&amp;#39;{&amp;#34;admins&amp;#34;:{&amp;#34;names&amp;#34;: [],&amp;#34;roles&amp;#34;: []},&amp;#34;members&amp;#34;:{&amp;#34;names&amp;#34;:[&amp;#34;sergio&amp;#34;],&amp;#34;roles&amp;#34;:[&amp;#34;admin&amp;#34;]}}&amp;#39;&lt;/span&gt; -u admin:miContraseña http://IP_DEL_SERVIDOR:5984/prueba1/_security
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobación de que podemos acceder a la base de datos y ejecutar acciones
sobre la base de datos de prueba con el nuevo usuario.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ curl -u sergio:sergio http://192.168.122.79:5984/prueba1/_all_docs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="5-funcionamiento-interno-de-couchdb"&gt;5. Funcionamiento interno de CouchDB.
&lt;/h3&gt;&lt;p&gt;Arquitectura.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CouchDB está escrito en Erlang/OTP, usando la VM beam.smp.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Toda la comunicación es HTTP/REST, usando JSON como formato de
datos.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cada documento tiene un _id único y un _rev (revisión), permitiendo
control de versiones y concurrencia.
Almacenamiento.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CouchDB usa B-trees append-only (copy-on-write).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cada modificación crea un nuevo nodo en el B-tree, garantizando
lecturas consistentes sin bloqueos.
MVCC (Multi-Version Concurrency Control).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cada documento tiene varias revisiones (_rev).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Permite lecturas concurrentes sin bloqueos y detecta conflictos de
escritura.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Los conflictos se resuelven por la aplicación, CouchDB mantiene ambas
versiones.
Replicación.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Modelo push/pull: CouchDB compara secuencias (_changes) y replica
solo diferencias.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Soporta replicación continua, ideal para bases distribuidas o offline-first.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Conflictos se detectan en el destino y la app decide cómo resolverlos.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Vistas MapReduce: índices persistentes para consultas predefinidas.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mango: API JSON para consultas más amigables.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Sin índice, las consultas requieren full-scan de documentos.
Compaction y mantenimiento.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Debido al modelo append-only, los archivos crecen continuamente.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Se utiliza compactación periódica de DB y vistas para liberar espacio.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Instalación de SQL Developer como cliente
remoto de ORACLE usando una conexión
TNS.&lt;/p&gt;
&lt;h3 id="1instalación-de-java-17"&gt;1.Instalación de Java 17
&lt;/h3&gt;&lt;p&gt;SQL Developer requiere Java 17. Como Debian Trixie no lo tiene en sus repositorios
oficiales, lo instalaremos desde Adoptium:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Instalamos las dependencias necesarias&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install -y wget apt-transport-https gpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Añadir la clave GPG del repositorio de Adoptium&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ wget -qO - https://packages.adoptium.net/artifactory/api/gpg/key/public | sudo gpg --dearmor -o /usr/share/keyrings/adoptium.gpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Añadir el repositorio&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ echo &lt;span style="color:#e6db74"&gt;&amp;#34;deb [signed-by=/usr/share/keyrings/adoptium.gpg] https://packages.adoptium.net/artifactory/deb bookworm main&amp;#34;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/adoptium.list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Actualizar e instalar Java 17&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install -y temurin-17-jdk
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Verificar instalación&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;java -version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2descarga-sql-developer-desde-oracle"&gt;2.Descarga SQL Developer desde Oracle
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Lo hacemos a través del siguiente enlace SQL Developer&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Una vez descargada descomprimimos el .zip&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ unzip sqldeveloper-24.3.1.347.1826-no-jre.zip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Tendremos una carpeta con todos los archivos que hemos descomprimidos ,
ahora tenemos que darle permisos de ejecución a un .sh que hay en ese
directorio&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ chmod +x sqldeveloper/sqldeveloper.sh
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ ./sqldeveloper.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Creamos el tnsnames.ora&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ nano .oracle/tnsnames.ora
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;En mi caso con el siguiente contenido dentro dependiendo de el hostname de el
servidor y la ip tendremos que hacer algún cambio&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ORCLCDB &lt;span style="color:#f92672"&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;DESCRIPTION &lt;span style="color:#f92672"&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;ADDRESS &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;PROTOCOL &lt;span style="color:#f92672"&gt;=&lt;/span&gt; TCP&lt;span style="color:#f92672"&gt;)(&lt;/span&gt;HOST &lt;span style="color:#f92672"&gt;=&lt;/span&gt; 192.168.122.78&lt;span style="color:#f92672"&gt;)(&lt;/span&gt;PORT &lt;span style="color:#f92672"&gt;=&lt;/span&gt; 1521&lt;span style="color:#f92672"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;CONNECT_DATA &lt;span style="color:#f92672"&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;SERVER &lt;span style="color:#f92672"&gt;=&lt;/span&gt; DEDICATED&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;SERVICE_NAME &lt;span style="color:#f92672"&gt;=&lt;/span&gt; ORCLCDB&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Tendremos que introducir algunas variables de entorno de oracle dentro
de .bashrc&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ nano ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export ORACLE_HOME&lt;span style="color:#f92672"&gt;=&lt;/span&gt;$HOME/oracle/instantclient_21_19
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export TNS_ADMIN&lt;span style="color:#f92672"&gt;=&lt;/span&gt;$HOME/.oracle
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export PATH&lt;span style="color:#f92672"&gt;=&lt;/span&gt;$ORACLE_HOME:$PATH
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export LD_LIBRARY_PATH&lt;span style="color:#f92672"&gt;=&lt;/span&gt;$ORACLE_HOME:$LD_LIBRARY_PATH
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;alias sqlplus&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;rlwrap sqlplus&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Algunas líneas ya las tenía yo en .bashrc por la conexión que hacemos de
normal en oracle la línea importante es :
export TNS_ADMIN=$HOME/.oracle&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Aplicamos los cambios en bashrc y comprobamos que las variables se han
establecido correctamente&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo $TNS_ADMIN
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Debe mostrar algo como lo siguiente&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ echo $TNS_ADMIN /home/serjaii/SQL-Developer/.oracle
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Comprobamos también que tnsnames.ora es accesible&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;serjaii@db:~$ cat $TNS_ADMIN/tnsnames.ora
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ORCLCDB &lt;span style="color:#f92672"&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;DESCRIPTION &lt;span style="color:#f92672"&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;ADDRESS &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;PROTOCOL &lt;span style="color:#f92672"&gt;=&lt;/span&gt; TCP&lt;span style="color:#f92672"&gt;)(&lt;/span&gt;HOST &lt;span style="color:#f92672"&gt;=&lt;/span&gt; 192.168.122.78&lt;span style="color:#f92672"&gt;)(&lt;/span&gt;PORT &lt;span style="color:#f92672"&gt;=&lt;/span&gt; 1521&lt;span style="color:#f92672"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;CONNECT_DATA &lt;span style="color:#f92672"&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;SERVER &lt;span style="color:#f92672"&gt;=&lt;/span&gt; DEDICATED&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;SERVICE_NAME &lt;span style="color:#f92672"&gt;=&lt;/span&gt; ORCLCDB&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>Interconexión de Servidores de Bases de Datos: Oracle y PostgreSQL</title><link>http://sergiojimenez.org/post/interconexion-servidores-bd/</link><pubDate>Wed, 03 Dec 2025 00:00:00 +0000</pubDate><guid>http://sergiojimenez.org/post/interconexion-servidores-bd/</guid><description>&lt;img src="http://sergiojimenez.org/post/interconexion-servidores-bd/cover.png" alt="Featured image of post Interconexión de Servidores de Bases de Datos: Oracle y PostgreSQL" /&gt;&lt;h1 id="interconexión-de-servidores"&gt;Interconexión de Servidores
&lt;/h1&gt;&lt;p&gt;En este artículo detallo el proceso realizado para interconectar servidores de bases de datos Oracle y PostgreSQL en diferentes configuraciones: Oracle-Oracle, PostgreSQL-PostgreSQL y conexiones heterogéneas entre ambos sistemas.&lt;/p&gt;
&lt;h2 id="preparación-del-entorno"&gt;Preparación del Entorno
&lt;/h2&gt;&lt;p&gt;Para realizar esta práctica, he partido de una máquina virtual existente (&lt;code&gt;bd&lt;/code&gt;) que ya contaba con los servidores de base de datos instalados. He clonado esta máquina para crear un segundo nodo (&lt;code&gt;bd2&lt;/code&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;virt-clone --original bd --name bd2 --auto-clone
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="configuración-de-red-en-bd2"&gt;Configuración de red en bd2
&lt;/h3&gt;&lt;p&gt;Una vez clonada, he modificado la configuración de red de &amp;lsquo;bd2&amp;rsquo; para asignarle la IP &lt;strong&gt;192.168.122.127&lt;/strong&gt; y cambiar su hostname, evitando conflictos con la máquina original (cuya IP es 192.168.122.126).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Cambiar IP&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo sed -i &lt;span style="color:#e6db74"&gt;&amp;#39;s/192.168.122.126/192.168.122.127/g&amp;#39;&lt;/span&gt; /etc/network/interfaces
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Cambiar hostname&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo sed -i &lt;span style="color:#e6db74"&gt;&amp;#39;s/bd/bd2/g&amp;#39;&lt;/span&gt; /etc/hosts
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo hostnamectl set-hostname bd2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="renombrar-bases-de-datos-en-bd2"&gt;Renombrar bases de datos en bd2
&lt;/h3&gt;&lt;h4 id="postgresql"&gt;PostgreSQL
&lt;/h4&gt;&lt;p&gt;En el servidor PostgreSQL de &amp;lsquo;bd2&amp;rsquo;, renombré la base de datos a &lt;code&gt;prueba_db_2&lt;/code&gt; para distinguirla claramente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ALTER&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;DATABASE&lt;/span&gt; prueba_db &lt;span style="color:#66d9ef"&gt;RENAME&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TO&lt;/span&gt; prueba_db_2;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="oracle"&gt;Oracle
&lt;/h4&gt;&lt;p&gt;Para Oracle, realicé una serie de comandos para cerrar, renombrar y volver a abrir la Pluggable Database como &lt;code&gt;ORCLPDB2&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ALTER&lt;/span&gt; PLUGGABLE &lt;span style="color:#66d9ef"&gt;DATABASE&lt;/span&gt; ORCLPDB1 &lt;span style="color:#66d9ef"&gt;CLOSE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;IMMEDIATE&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ALTER&lt;/span&gt; PLUGGABLE &lt;span style="color:#66d9ef"&gt;DATABASE&lt;/span&gt; ORCLPDB1 &lt;span style="color:#66d9ef"&gt;OPEN&lt;/span&gt; RESTRICTED;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ALTER&lt;/span&gt; PLUGGABLE &lt;span style="color:#66d9ef"&gt;DATABASE&lt;/span&gt; ORCLPDB1 &lt;span style="color:#66d9ef"&gt;RENAME&lt;/span&gt; GLOBAL_NAME &lt;span style="color:#66d9ef"&gt;TO&lt;/span&gt; ORCLPDB2;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ALTER&lt;/span&gt; PLUGGABLE &lt;span style="color:#66d9ef"&gt;DATABASE&lt;/span&gt; ORCLPDB2 &lt;span style="color:#66d9ef"&gt;CLOSE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;IMMEDIATE&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ALTER&lt;/span&gt; PLUGGABLE &lt;span style="color:#66d9ef"&gt;DATABASE&lt;/span&gt; ORCLPDB2 &lt;span style="color:#66d9ef"&gt;OPEN&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ALTER&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;SYSTEM&lt;/span&gt; REGISTER;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="1-interconexión-oracle-oracle"&gt;1. Interconexión Oracle-Oracle
&lt;/h2&gt;&lt;p&gt;Configuré un Database Link para conectar desde la base de datos Oracle en &lt;code&gt;bd&lt;/code&gt; hacia la base de datos Oracle en &lt;code&gt;bd2&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="configuración-en-bd"&gt;Configuración en ‘bd’
&lt;/h3&gt;&lt;p&gt;Edité el archivo &lt;code&gt;tnsnames.ora&lt;/code&gt; para definir la conexión hacia &lt;code&gt;bd2&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Archivo&lt;/strong&gt;: &lt;code&gt;/opt/oracle/homes/OraDBHome21cEE/network/admin/tnsnames.ora&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;BD2_LINK&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (DESCRIPTION =
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.122.127)(PORT = 1521))
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (CONNECT_DATA =
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (SERVER = DEDICATED)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (SERVICE_NAME = ORCLPDB2)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; )&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="configuración-en-bd2"&gt;Configuración en ‘bd2’
&lt;/h3&gt;&lt;p&gt;Me aseguré de que el listener estuviera escuchando correctamente y creé un usuario específico para la conexión.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ALTER&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;SYSTEM&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;SET&lt;/span&gt; local_listener&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.122.127)(PORT=1521))&amp;#39;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;SCOPE&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;BOTH&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ALTER&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;SYSTEM&lt;/span&gt; REGISTER;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Crear usuario en ORCLPDB2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ALTER&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;SESSION&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;SET&lt;/span&gt; CONTAINER&lt;span style="color:#f92672"&gt;=&lt;/span&gt;ORCLPDB2;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;USER&lt;/span&gt; serjaii IDENTIFIED &lt;span style="color:#66d9ef"&gt;BY&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;0191&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;GRANT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;CONNECT&lt;/span&gt;, RESOURCE &lt;span style="color:#66d9ef"&gt;TO&lt;/span&gt; serjaii;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;GRANT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;SESSION&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TO&lt;/span&gt; serjaii;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="crear-database-link"&gt;Crear Database Link
&lt;/h3&gt;&lt;p&gt;En &lt;code&gt;bd&lt;/code&gt;, creé el enlace utilizando las credenciales del usuario creado anteriormente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;DATABASE&lt;/span&gt; LINK link_to_bd2
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONNECT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TO&lt;/span&gt; serjaii IDENTIFIED &lt;span style="color:#66d9ef"&gt;BY&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;0191&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;USING&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;BD2_LINK&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="comprobación"&gt;Comprobación
&lt;/h3&gt;&lt;p&gt;Realicé una consulta distribuida para verificar el enlace:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SELECT&lt;/span&gt; e.ename &lt;span style="color:#66d9ef"&gt;AS&lt;/span&gt; empleado_local, d.dname &lt;span style="color:#66d9ef"&gt;AS&lt;/span&gt; departamento_remoto
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;FROM&lt;/span&gt; emp e
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;JOIN&lt;/span&gt; dept&lt;span style="color:#f92672"&gt;@&lt;/span&gt;link_to_bd2 d &lt;span style="color:#66d9ef"&gt;ON&lt;/span&gt; e.deptno &lt;span style="color:#f92672"&gt;=&lt;/span&gt; d.deptno
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;WHERE&lt;/span&gt; e.deptno &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;10&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Resultado:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;EMPLEADO_L DEPARTAMENTO_REMOTO
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;---------- ------------------
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CLARK ACCOUNTING
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;KING ACCOUNTING
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MILLER ACCOUNTING
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="2-interconexión-postgresql-postgresql"&gt;2. Interconexión PostgreSQL-PostgreSQL
&lt;/h2&gt;&lt;p&gt;Para conectar dos servidores PostgreSQL, utilicé la extensión &lt;code&gt;dblink&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="configuración-previa"&gt;Configuración Previa
&lt;/h3&gt;&lt;p&gt;Es necesario asegurar que ambos servidores permitan conexiones remotas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;pg_hba.conf&lt;/code&gt;: añadir &lt;code&gt;host all all 0.0.0.0/0 md5&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;postgresql.conf&lt;/code&gt;: establecer &lt;code&gt;listen_addresses = '*'&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="crear-extensión-dblink"&gt;Crear extensión dblink
&lt;/h3&gt;&lt;p&gt;Habilité la extensión en ambas bases de datos.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; EXTENSION &lt;span style="color:#66d9ef"&gt;IF&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;NOT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;EXISTS&lt;/span&gt; dblink;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="verificación"&gt;Verificación
&lt;/h3&gt;&lt;p&gt;Probé la conexión ejecutando una consulta remota desde &lt;code&gt;bd&lt;/code&gt; hacia &lt;code&gt;bd2&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SELECT&lt;/span&gt; e.ename, t.dname, t.loc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;FROM&lt;/span&gt; emp e
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;JOIN&lt;/span&gt; dblink(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;host=192.168.122.127 user=serjaii password=0191 dbname=prueba_db_2&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;SELECT deptno, dname, loc FROM dept&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;) &lt;span style="color:#66d9ef"&gt;AS&lt;/span&gt; t(deptno int, dname varchar, loc varchar)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;ON&lt;/span&gt; e.deptno &lt;span style="color:#f92672"&gt;=&lt;/span&gt; t.deptno
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;WHERE&lt;/span&gt; e.deptno &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;20&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Resultado:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ename | dname | loc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-------+----------+--------
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; SMITH | RESEARCH | DALLAS
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; JONES | RESEARCH | DALLAS
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; SCOTT | RESEARCH | DALLAS
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ADAMS | RESEARCH | DALLAS
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; FORD | RESEARCH | DALLAS
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="3-interconexión-oracle-postgresql-heterogeneous-services"&gt;3. Interconexión Oracle-PostgreSQL (Heterogeneous Services)
&lt;/h2&gt;&lt;p&gt;Esta configuración permite conectar desde Oracle hacia una base de datos PostgreSQL utilizando ODBC y Oracle Heterogeneous Services.&lt;/p&gt;
&lt;h3 id="instalación-de-odbc-en-bd"&gt;Instalación de ODBC en bd
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt-get update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt-get install -y unixodbc unixodbc-dev odbc-postgresql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="configuración-odbc"&gt;Configuración ODBC
&lt;/h3&gt;&lt;p&gt;Definí el Data Source Name (DSN) en &lt;code&gt;/etc/odbc.ini&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;[PostgreSQL_bd2]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Description&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;PostgreSQL connection to bd2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Driver&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;PostgreSQL Unicode&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Servername&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;192.168.122.127&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Port&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;5432&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Database&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;prueba_db_2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Username&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;serjaii&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;Password&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;0191&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Verifiqué la conexión con &lt;code&gt;isql -v PostgreSQL_bd2&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="configuración-heterogeneous-services"&gt;Configuración Heterogeneous Services
&lt;/h3&gt;&lt;p&gt;Creé el archivo de inicialización del gateway.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Archivo&lt;/strong&gt;: &lt;code&gt;/opt/oracle/homes/OraDBHome21cEE/hs/admin/initpgbd2.ora&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;HS_FDS_CONNECT_INFO&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;PostgreSQL_bd2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;HS_FDS_TRACE_LEVEL&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;DEBUG&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Apuntar a la librería correcta es CRÍTICO para evitar errores&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;HS_FDS_SHAREABLE_NAME&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;/usr/lib/x86_64-linux-gnu/libodbc.so&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;set ODBCINI&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;/etc/odbc.ini&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;set LD_LIBRARY_PATH&lt;/span&gt;&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;/usr/lib/x86_64-linux-gnu/odbc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="configuración-de-listener-y-tns"&gt;Configuración de Listener y TNS
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;Archivo&lt;/strong&gt;: &lt;code&gt;listener.ora&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;SID_LIST_LISTENER&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (SID_LIST =
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (SID_DESC =
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (SID_NAME = pgbd2)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (ORACLE_HOME = /opt/oracle/product/21c/dbhome_1)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (PROGRAM = dg4odbc)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (ENVS=&amp;#34;ODBCINI=/home/oracle/odbc.ini&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; )
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; )&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;Nota: Es importante asegurar que el usuario Oracle tenga acceso al archivo odbc.ini, a veces es necesario copiarlo a su home o definir la variable ENVS adecuadamente.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Archivo&lt;/strong&gt;: &lt;code&gt;tnsnames.ora&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;PGBD2&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (DESCRIPTION =
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.122.126)(PORT = 1521))
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (CONNECT_DATA = (SID = pgbd2))
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; (HS = OK)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; )&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Recargué el listener con &lt;code&gt;lsnrctl reload&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="crear-database-link-1"&gt;Crear Database Link
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;DATABASE&lt;/span&gt; LINK link_to_postgres
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;CONNECT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TO&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;serjaii&amp;#34;&lt;/span&gt; IDENTIFIED &lt;span style="color:#66d9ef"&gt;BY&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;0191&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;USING&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;PGBD2&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="solución-de-errores-comunes"&gt;Solución de Errores Comunes
&lt;/h3&gt;&lt;p&gt;Durante el proceso encontré el error &lt;code&gt;ORA-28500&lt;/code&gt; con mensaje &lt;code&gt;[unixODBC][Driver Manager]Data source name not found&lt;/code&gt;. Esto se debió a que el proceso del listener no encontraba el archivo &lt;code&gt;odbc.ini&lt;/code&gt;. La solución fue configurar explícitamente la variable de entorno &lt;code&gt;ODBCINI&lt;/code&gt; en el &lt;code&gt;listener.ora&lt;/code&gt; o asegurar permisos de lectura para el usuario &lt;code&gt;oracle&lt;/code&gt;. También corregí el &lt;code&gt;HS_FDS_SHAREABLE_NAME&lt;/code&gt; para apuntar a &lt;code&gt;libodbc.so&lt;/code&gt; en lugar del driver de Postgres directamente.&lt;/p&gt;
&lt;h3 id="verificación-1"&gt;Verificación
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SELECT&lt;/span&gt; e.ename, e.job, e.sal
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;FROM&lt;/span&gt; emp e
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;WHERE&lt;/span&gt; e.sal &lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; (&lt;span style="color:#66d9ef"&gt;SELECT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;AVG&lt;/span&gt;(&lt;span style="color:#e6db74"&gt;&amp;#34;sal&amp;#34;&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;FROM&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;emp&amp;#34;&lt;/span&gt;&lt;span style="color:#f92672"&gt;@&lt;/span&gt;link_to_postgres);
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Resultado:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ENAME JOB SAL
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;--------- --------- ---------
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;JONES MANAGER 2975
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;BLAKE MANAGER 2850
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CLARK MANAGER 2450
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SCOTT ANALYST 3000
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;KING PRESIDENT 5000
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;FORD ANALYST 3000
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="4-interconexión-postgresql-oracle"&gt;4. Interconexión PostgreSQL-Oracle
&lt;/h2&gt;&lt;p&gt;Para conectar desde PostgreSQL hacia Oracle, utilicé la extensión &lt;code&gt;oracle_fdw&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="instalación"&gt;Instalación
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt-get install -y postgresql-server-dev-all build-essential unzip
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Descargar y compilar oracle_fdw&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://github.com/laurenz/oracle_fdw/archive/refs/heads/master.zip
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;unzip master.zip
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd oracle_fdw-master
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;export ORACLE_HOME&lt;span style="color:#f92672"&gt;=&lt;/span&gt;/opt/oracle/product/21c/dbhome_1
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo make install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Configuré las librerías dinámicas para que PostgreSQL encuentre las de Oracle:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;/opt/oracle/product/21c/dbhome_1/lib&amp;#34;&lt;/span&gt; | sudo tee /etc/ld.so.conf.d/oracle.conf
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo ldconfig
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl restart postgresql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="configuración-en-postgresql"&gt;Configuración en PostgreSQL
&lt;/h3&gt;&lt;p&gt;En la base de datos &lt;code&gt;prueba_db&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; EXTENSION oracle_fdw;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Crear el servidor foráneo
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; SERVER oracle_bd2 &lt;span style="color:#66d9ef"&gt;FOREIGN&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;DATA&lt;/span&gt; WRAPPER oracle_fdw
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;OPTIONS&lt;/span&gt; (dbserver &lt;span style="color:#e6db74"&gt;&amp;#39;//192.168.122.127:1521/ORCLPDB2&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Mapeo de usuario
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;CREATE&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;USER&lt;/span&gt; MAPPING &lt;span style="color:#66d9ef"&gt;FOR&lt;/span&gt; serjaii SERVER oracle_bd2
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;OPTIONS&lt;/span&gt; (&lt;span style="color:#66d9ef"&gt;user&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;serjaii&amp;#39;&lt;/span&gt;, password &lt;span style="color:#e6db74"&gt;&amp;#39;0191&amp;#39;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Importar esquema
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;IMPORT &lt;span style="color:#66d9ef"&gt;FOREIGN&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;SCHEMA&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;SERJAII&amp;#34;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;LIMIT&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;TO&lt;/span&gt; (&lt;span style="color:#e6db74"&gt;&amp;#34;EMP&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;DEPT&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;FROM&lt;/span&gt; SERVER oracle_bd2 &lt;span style="color:#66d9ef"&gt;INTO&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;public&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="verificación-2"&gt;Verificación
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;SELECT&lt;/span&gt; ename, job, sal &lt;span style="color:#66d9ef"&gt;FROM&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;EMP&amp;#34;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;WHERE&lt;/span&gt; deptno &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;10&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Resultado:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ename | job | sal
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;--------+-----------+---------
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; CLARK | MANAGER | 2450.00
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; KING | PRESIDENT | 5000.00
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; MILLER | CLERK | 1300.00
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>Creación de un Sistema Automatizado de Instalación para Debian 13 (Trixie)</title><link>http://sergiojimenez.org/post/creacion-sistema-automatizado-debian-13/</link><pubDate>Tue, 02 Dec 2025 00:00:00 +0000</pubDate><guid>http://sergiojimenez.org/post/creacion-sistema-automatizado-debian-13/</guid><description>&lt;img src="http://sergiojimenez.org/post/creacion-sistema-automatizado-debian-13/cover.jpg" alt="Featured image of post Creación de un Sistema Automatizado de Instalación para Debian 13 (Trixie)" /&gt;&lt;h1 id="automatización-de-instalación-de-debian-13-con-preseed-y-custom-iso"&gt;Automatización de Instalación de Debian 13 con Preseed y Custom ISO
&lt;/h1&gt;&lt;p&gt;En este artículo documentaré el proceso que he seguido para crear una imagen ISO de instalación totalmente desatendida para &lt;strong&gt;Debian 13 (Trixie)&lt;/strong&gt;. El objetivo de este proyecto es configurar el sistema para que responda automáticamente a todas las preguntas del instalador, configure la red, usuarios, particiones y paquetes adicionales, generando una ISO híbrida compatible tanto con sistemas &lt;strong&gt;BIOS&lt;/strong&gt; como &lt;strong&gt;UEFI&lt;/strong&gt;.&lt;/p&gt;
&lt;h2 id="objetivos-del-proyecto"&gt;Objetivos del Proyecto
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Instalación Desatendida&lt;/strong&gt;: Automatizar respuestas (idioma, teclado, red, espejo, etc.).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Seguridad&lt;/strong&gt;: Las contraseñas de usuario deben estar encriptadas, no en texto plano.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Particionamiento&lt;/strong&gt;: Esquema personalizado (en este caso, particionado regular con separación de &lt;code&gt;/&lt;/code&gt;, &lt;code&gt;/home&lt;/code&gt; y &lt;code&gt;/boot&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Compatibilidad&lt;/strong&gt;: La ISO debe arrancar tanto en equipos con firmware BIOS como UEFI.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Paquetes Adicionales&lt;/strong&gt;: Instalación automática de &lt;code&gt;firewalld&lt;/code&gt;, &lt;code&gt;openssh-server&lt;/code&gt; y entorno de escritorio GNOME.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="herramientas-necesarias"&gt;Herramientas Necesarias
&lt;/h2&gt;&lt;p&gt;Para realizar este trabajo, partimos de una imagen &lt;code&gt;netinst&lt;/code&gt; oficial de Debian y utilizamos la herramienta &lt;code&gt;xorriso&lt;/code&gt; para manipular la imagen.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install xorriso
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Descargamos la imagen base:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-13.1.0-amd64-netinst.iso
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="el-corazón-de-la-automatización-preseedcfg"&gt;El Corazón de la Automatización: &lt;code&gt;preseed.cfg&lt;/code&gt;
&lt;/h2&gt;&lt;p&gt;El fichero &lt;em&gt;preseed&lt;/em&gt; es donde definimos todas las respuestas para el instalador de Debian (&lt;code&gt;d-i&lt;/code&gt;). A continuación, muestro la configuración final que he utilizado.&lt;/p&gt;
&lt;p&gt;Puntos clave de mi configuración:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Localización&lt;/strong&gt;: Configurado para España (&lt;code&gt;es_ES.UTF-8&lt;/code&gt;, zona horaria &lt;code&gt;Europe/Madrid&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Red&lt;/strong&gt;: Configuración automática por DHCP.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Usuario&lt;/strong&gt;: Creación del usuario &lt;code&gt;serjaii&lt;/code&gt; con contraseña encriptada (generada con &lt;code&gt;mkpasswd -m sha-512&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Particionamiento&lt;/strong&gt;: He definido una receta personalizada &lt;code&gt;myregular&lt;/code&gt; que crea particiones para EFI, &lt;code&gt;/boot&lt;/code&gt; (ext2), &lt;code&gt;/&lt;/code&gt; (ext4), &lt;code&gt;/home&lt;/code&gt; (ext4) y &lt;code&gt;swap&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Paquetes&lt;/strong&gt;: Selección de &lt;code&gt;gnome-desktop&lt;/code&gt;, &lt;code&gt;openssh-server&lt;/code&gt;, &lt;code&gt;build-essential&lt;/code&gt; y &lt;code&gt;firewalld&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-conf" data-lang="conf"&gt;# preseed.cfg
# Localización y Teclado
d-i debian-installer/locale string es_ES.UTF-8
d-i debian-installer/language string es
d-i debian-installer/country string ES
d-i keyboard-configuration/xkb-keymap select es
# Red
d-i netcfg/choose_interface select auto
d-i netcfg/get_hostname string debian
d-i netcfg/get_domain string sergiojimenez.org
d-i netcfg/wireless_wep string
# Espejo (Mirror)
d-i mirror/country string manual
d-i mirror/http/hostname string ftp.es.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string
# Usuarios (Root deshabilitado, usuario serjaii creado)
d-i passwd/root-login boolean false
d-i passwd/user-fullname string Sergio Jimenez
d-i passwd/username string serjaii
# La contraseña debe ser el hash, no el texto plano
d-i passwd/user-password-crypted password $6$c3X/q67VgcznJhFw$uXRYRdnOpMeYtO/YGXJEXDvYj0njGYxBGbxTn5BZqHocFPCauvrGQm16QzqEUb1aEa1ZZu5NlrTIjznyP9D/y41
# Reloj
d-i clock-setup/utc boolean true
d-i time/zone string Europe/Madrid
d-i clock-setup/ntp boolean true
# Particionamiento
d-i partman-auto/method string regular
d-i partman-auto/expert_recipe string \
myregular :: \
128 128 128 free \
$iflabel{ gpt } \
$reusemethod{ } \
method{ efi } \
format{ } \
. \
512 512 512 ext2 \
$defaultignore{ } \
method{ format } format{ } \
use_filesystem{ } filesystem{ ext2 } \
mountpoint{ /boot } \
$bootable{ } \
. \
5000 5050 -1 ext4 \
$primary{ } \
method{ format } format{ } \
use_filesystem{ } filesystem{ ext4 } \
mountpoint{ / } \
. \
2000 2030 -1 ext4 \
method{ format } format{ } \
use_filesystem{ } filesystem{ ext4 } \
mountpoint{ /home } \
. \
1024 1020 -1 linux-swap \
method{ swap } format{ } \
.
d-i partman-auto/choose_recipe select myregular
d-i partman-partitioning/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true
# Selección de Paquetes
d-i apt-setup/cdrom/set-first boolean false
tasksel tasksel/first multiselect standard, gnome-desktop
d-i pkgsel/include string openssh-server build-essential firewalld
popularity-contest popularity-contest/participate boolean false
# Cargador de Arranque (GRUB)
d-i grub-installer/only_debian boolean true
d-i grub-installer/with_other_os boolean true
d-i grub-installer/bootdev string default
# Finalización
d-i finish-install/reboot_in_progress note
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="automatización-del-proceso-el-script"&gt;Automatización del Proceso: El Script
&lt;/h2&gt;&lt;p&gt;Para evitar realizar los pasos de extracción, modificación y reempaquetado manualmente cada vez que necesitaba ajustar el &lt;em&gt;preseed&lt;/em&gt;, creé un script en Bash (&lt;code&gt;automatizado_preseed.sh&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Este script realiza las siguientes tareas:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Limpia&lt;/strong&gt; el entorno de trabajo anterior.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Extrae&lt;/strong&gt; el contenido de la ISO original usando &lt;code&gt;xorriso&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Inyecta&lt;/strong&gt; el fichero &lt;code&gt;preseed.cfg&lt;/code&gt; dentro del archivo &lt;code&gt;initrd.gz&lt;/code&gt; (esto es crucial para que el instalador cargue nuestra configuración automáticamente).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Modifica&lt;/strong&gt; los ficheros de configuración de arranque (&lt;code&gt;isolinux.cfg&lt;/code&gt; para BIOS y &lt;code&gt;grub.cfg&lt;/code&gt; para UEFI) estableciendo los &lt;em&gt;timeouts&lt;/em&gt; a 0 para que no pida confirmación al usuario.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Regenera&lt;/strong&gt; la lista de sumas MD5 (&lt;code&gt;md5sum.txt&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Construye&lt;/strong&gt; la nueva ISO híbrida bootable.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="script-automatizado_preseedsh"&gt;Script &lt;code&gt;automatizado_preseed.sh&lt;/code&gt;
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Detener el script si hay algún error&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;set -e
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# --- VARIABLES ---&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ISO_ORIGINAL&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;debian-13.1.0-amd64-netinst.iso&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ISO_FINAL&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;preseed-debian13.iso&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;DIR_TRABAJO&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;iso&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;PRESEED_FILE&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;preseed.cfg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;=== 0. Limpieza inicial y Chequeo de Espacio ===&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Verificamos espacio (mínimo 2GB libres recomendados)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;FREE_SPACE&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;df . --output&lt;span style="color:#f92672"&gt;=&lt;/span&gt;avail | tail -1&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$FREE_SPACE&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; -lt &lt;span style="color:#ae81ff"&gt;2000000&lt;/span&gt; &lt;span style="color:#f92672"&gt;]&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;ADVERTENCIA: Tienes menos de 2GB libres. Podría fallar.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; df -h .
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;Esperando 3 segundos...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; sleep &lt;span style="color:#ae81ff"&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; -d &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;]&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;-&amp;gt; Borrando directorio &amp;#39;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;&amp;#39; existente...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; sudo rm -rf &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; -f &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$ISO_FINAL&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;]&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;-&amp;gt; Borrando archivo &amp;#39;&lt;/span&gt;$ISO_FINAL&lt;span style="color:#e6db74"&gt;&amp;#39; existente...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; sudo rm -f &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$ISO_FINAL&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# --- COMPROBACIONES ---&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; ! -f &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$ISO_ORIGINAL&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;]&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;Error: No se encuentra la imagen &lt;/span&gt;$ISO_ORIGINAL&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; exit &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; ! -f &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$PRESEED_FILE&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;]&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;Error: No se encuentra el fichero &lt;/span&gt;$PRESEED_FILE&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; exit &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;=== 1. Extrayendo ISO original ===&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Usamos xorriso para extraer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo xorriso -osirrox on -indev &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$ISO_ORIGINAL&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; -extract / &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;=== 2. Inyectando Preseed en initrd ===&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod +w -R &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;/install.amd/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo gunzip &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;/install.amd/initrd.gz&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Inyectamos el preseed.cfg&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$PRESEED_FILE&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; | sudo cpio -H newc -o -A -F &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;/install.amd/initrd&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo gzip &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;/install.amd/initrd&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod -w -R &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;/install.amd/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;=== 3. Configurando arranque BIOS (Isolinux) ===&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CFG_ISOLINUX&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;/isolinux/isolinux.cfg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod +w &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_ISOLINUX&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Modificaciones para Isolinux&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo sed -i &lt;span style="color:#e6db74"&gt;&amp;#39;s/^default/#default/g&amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_ISOLINUX&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo sed -i &lt;span style="color:#e6db74"&gt;&amp;#39;s/^timeout.*/timeout 0/g&amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_ISOLINUX&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; grep -q &lt;span style="color:#e6db74"&gt;&amp;#34;prompt&amp;#34;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_ISOLINUX&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; sudo sed -i &lt;span style="color:#e6db74"&gt;&amp;#39;s/^prompt.*/prompt 0/g&amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_ISOLINUX&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;prompt 0&amp;#34;&lt;/span&gt; | sudo tee -a &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_ISOLINUX&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &amp;gt; /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod -w &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_ISOLINUX&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;=== 4. Configurando arranque UEFI (GRUB) ===&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CFG_GRUB&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;/boot/grub/grub.cfg&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod +w &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_GRUB&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Modificaciones para GRUB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; grep -q &lt;span style="color:#e6db74"&gt;&amp;#34;set timeout=&amp;#34;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_GRUB&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; sudo sed -i &lt;span style="color:#e6db74"&gt;&amp;#39;s/set timeout=.*/set timeout=0/g&amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_GRUB&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;set timeout=0&amp;#34;&lt;/span&gt; | sudo tee -a &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_GRUB&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &amp;gt; /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; grep -q &lt;span style="color:#e6db74"&gt;&amp;#34;set default=&amp;#34;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_GRUB&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; sudo sed -i &lt;span style="color:#e6db74"&gt;&amp;#39;s/set default=.*/set default=1/g&amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_GRUB&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;set default=1&amp;#34;&lt;/span&gt; | sudo tee -a &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_GRUB&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &amp;gt; /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; ! grep -q &lt;span style="color:#e6db74"&gt;&amp;#34;set timeout_style=hidden&amp;#34;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_GRUB&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; sudo sed -i &lt;span style="color:#e6db74"&gt;&amp;#39;1i set timeout_style=hidden&amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_GRUB&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod -w &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$CFG_GRUB&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;=== 5. Asegurando Permisos y Regenerando MD5 ===&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# 1. Aseguramos que TODOS los archivos sean legibles por todos&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod -R u+w,a+r &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;rm -f md5sum.txt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;Generando md5sum.txt limpio...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;find . -type f -not -name &lt;span style="color:#e6db74"&gt;&amp;#39;md5sum.txt&amp;#39;&lt;/span&gt; -not -path &lt;span style="color:#e6db74"&gt;&amp;#39;*/debian/*&amp;#39;&lt;/span&gt; -print0 | &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; xargs -0 md5sum | &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; sed &lt;span style="color:#e6db74"&gt;&amp;#39;s| \./| |&amp;#39;&lt;/span&gt; &amp;gt; md5sum.txt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod a-w md5sum.txt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd ..
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;=== 6. Creando ISO final (&lt;/span&gt;$ISO_FINAL&lt;span style="color:#e6db74"&gt;) con XORRISO ===&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$DIR_TRABAJO&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo xorriso -as mkisofs &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -r -V &lt;span style="color:#e6db74"&gt;&amp;#39;Debian_Custom&amp;#39;&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -o &lt;span style="color:#e6db74"&gt;&amp;#34;../&lt;/span&gt;$ISO_FINAL&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -J -joliet-long &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -b isolinux/isolinux.bin &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -c isolinux/boot.cat &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -boot-load-size &lt;span style="color:#ae81ff"&gt;4&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -boot-info-table &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -no-emul-boot &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -eltorito-alt-boot &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -e boot/grub/efi.img &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -no-emul-boot &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; -isohybrid-gpt-basdat &lt;span style="color:#ae81ff"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; .
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cd ..
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;=== ¡Proceso completado! ===&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ls -lh &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$ISO_FINAL&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="ejecución-y-resultado"&gt;Ejecución y Resultado
&lt;/h2&gt;&lt;p&gt;Para generar la ISO, simplemente ejecutamos el script con permisos de superusuario:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo bash automatizado_preseed.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;El resultado es un archivo &lt;code&gt;preseed-debian13.iso&lt;/code&gt; de aproximadamente 968MB. Esta imagen puede ser grabada en un USB o utilizada en una máquina virtual (VirtualBox, KVM, VMware). Al arrancar, el sistema iniciará automáticamente la instalación sin realizar ninguna pregunta, y al finalizar, tendremos un sistema Debian 13 con entorno GNOME, usuario configurado y particiones listas para usar.&lt;/p&gt;
&lt;h2 id="instalación-por-red"&gt;Instalación por Red
&lt;/h2&gt;&lt;p&gt;Además de la instalación mediante USB o imagen ISO directa, he habilitado la posibilidad de realizar la instalación a través de la red utilizando los recursos alojados en este mismo servidor.&lt;/p&gt;
&lt;p&gt;He subido tanto la imagen ISO personalizada como el fichero &lt;code&gt;preseed.cfg&lt;/code&gt; para que estén accesibles públicamente.&lt;/p&gt;
&lt;h3 id="descarga-de-recursos"&gt;Descarga de Recursos
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Imagen ISO Personalizada&lt;/strong&gt;: &lt;a class="link" href="http://sergiojimenez.org/isos/preseed-debian13.iso" &gt;preseed-debian13.iso&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fichero Preseed&lt;/strong&gt;: &lt;a class="link" href="http://sergiojimenez.org/isos/preseed.cfg" &gt;preseed.cfg&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="cómo-usar-el-preseed-por-red"&gt;Cómo usar el Preseed por Red
&lt;/h3&gt;&lt;p&gt;Si dispones de una imagen de instalación estándar de Debian (netinst) y quieres aplicar mi configuración automatizada sin modificar la ISO, puedes hacerlo pasando la URL del preseed como parámetro de arranque.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Arranca el instalador de Debian.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;En el menú de arranque (GRUB o Isolinux), presiona &lt;code&gt;TAB&lt;/code&gt; o &lt;code&gt;e&lt;/code&gt; para editar las opciones de arranque.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Añade el siguiente parámetro a la línea de comandos del kernel:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;auto url=http://sergiojimenez.org/isos/preseed.cfg
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Inicia el arranque. El instalador descargará el fichero de configuración y procederá con la instalación desatendida tal como se ha definido.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Esto es especialmente útil para entornos de virtualización o instalaciones masivas donde no queremos mantener múltiples imágenes ISO modificadas.&lt;/p&gt;
&lt;h2 id="guía-manual-de-instalación-pxe--preseed"&gt;Guía Manual de Instalación PXE + Preseed
&lt;/h2&gt;&lt;h3 id="1-prerrequisitos-e-instalación-de-paquetes"&gt;1. Prerrequisitos e Instalación de Paquetes
&lt;/h3&gt;&lt;p&gt;Partimos de una máquina con Debian (server) que actuará como servidor de infraestructura. Necesitaremos instalar los servicios de DHCP, TFTP y Web.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install isc-dhcp-server tftpd-hpa apache2 wget
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2-configuración-del-servidor-dhcp"&gt;2. Configuración del Servidor DHCP
&lt;/h3&gt;&lt;p&gt;El servidor DHCP es el encargado de asignar IP a los clientes y decirles dónde encontrar el archivo de arranque.&lt;/p&gt;
&lt;p&gt;Editamos el archivo &lt;code&gt;/etc/dhcp/dhcpd.conf&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;option arch code 93 &lt;span style="color:#f92672"&gt;=&lt;/span&gt; unsigned integer 16;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;default-lease-time 600;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;max-lease-time 7200;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;authoritative;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Ajustar la subred según tu entorno de red actual&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;subnet 192.168.122.0 netmask 255.255.255.0 &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; range 192.168.122.100 192.168.122.200;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; option routers 192.168.122.1;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; option domain-name-servers 8.8.8.8;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; class &lt;span style="color:#e6db74"&gt;&amp;#34;pxeclients&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; match &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; substring &lt;span style="color:#f92672"&gt;(&lt;/span&gt;option vendor-class-identifier, 0, 9&lt;span style="color:#f92672"&gt;)&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;PXEClient&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# IP de este mismo servidor (PXE)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; next-server 192.168.122.18;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# Lógica para servir el fichero correcto según sea BIOS o UEFI&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; option arch &lt;span style="color:#f92672"&gt;=&lt;/span&gt; 00:07 &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; filename &lt;span style="color:#e6db74"&gt;&amp;#34;debian-installer/amd64/bootnetx64.efi&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;}&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;else&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; option arch &lt;span style="color:#f92672"&gt;=&lt;/span&gt; 00:09 &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; filename &lt;span style="color:#e6db74"&gt;&amp;#34;debian-installer/amd64/bootnetx64.efi&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;}&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;else&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; filename &lt;span style="color:#e6db74"&gt;&amp;#34;pxelinux.0&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Además, definimos la interfaz de escucha en &lt;code&gt;/etc/default/isc-dhcp-server&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;INTERFACESv4&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;ens3&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3-configuración-tftp-y-ficheros-de-arranque-netboot"&gt;3. Configuración TFTP y Ficheros de Arranque (Netboot)
&lt;/h3&gt;&lt;p&gt;El servicio TFTP servirá el kernel y el instalador inicial. Descargamos la imagen &lt;em&gt;netboot&lt;/em&gt; diaria de Debian Trixie y la extraemos en el directorio raíz del TFTP (&lt;code&gt;/srv/tftp&lt;/code&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Limpiamos directorio anterior si existe&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo rm -rf /srv/tftp/*
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Descargamos la imagen netboot&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget https://d-i.debian.org/daily-images/amd64/daily/netboot/netboot.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Extraemos en el directorio del servidor TFTP&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo tar -xzf netboot.tar.gz -C /srv/tftp/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chown -R tftp:tftp /srv/tftp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="4-automatización-del-arranque-boot-menus"&gt;4. Automatización del Arranque (Boot Menus)
&lt;/h3&gt;&lt;p&gt;Para evitar preguntas durante la carga inicial y forzar el uso de nuestro &lt;em&gt;preseed&lt;/em&gt;, debemos editar los menús de arranque por defecto.&lt;/p&gt;
&lt;h4 id="configuración-para-bios-legacy"&gt;Configuración para BIOS (Legacy)
&lt;/h4&gt;&lt;p&gt;Editamos el archivo &lt;code&gt;/srv/tftp/pxelinux.cfg/default&lt;/code&gt;. Creamos una entrada que pase los parámetros &lt;code&gt;auto=true&lt;/code&gt;, &lt;code&gt;priority=critical&lt;/code&gt; y la URL de nuestro preseed.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;DEFAULT install
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;LABEL install
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; KERNEL debian-installer/amd64/linux
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; APPEND vga&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;788&lt;/span&gt; initrd&lt;span style="color:#f92672"&gt;=&lt;/span&gt;debian-installer/amd64/initrd.gz auto&lt;span style="color:#f92672"&gt;=&lt;/span&gt;true priority&lt;span style="color:#f92672"&gt;=&lt;/span&gt;critical url&lt;span style="color:#f92672"&gt;=&lt;/span&gt;http://192.168.122.18/preseed.cfg --- quiet
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="configuración-para-uefi-grub"&gt;Configuración para UEFI (GRUB)
&lt;/h4&gt;&lt;p&gt;Editamos el archivo &lt;code&gt;/srv/tftp/debian-installer/amd64/grub/grub.cfg&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;set default&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;set timeout&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;menuentry &lt;span style="color:#e6db74"&gt;&amp;#34;Install Debian 13 (Automated)&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; linux /debian-installer/amd64/linux auto&lt;span style="color:#f92672"&gt;=&lt;/span&gt;true priority&lt;span style="color:#f92672"&gt;=&lt;/span&gt;critical url&lt;span style="color:#f92672"&gt;=&lt;/span&gt;http://192.168.122.18/preseed.cfg --- quiet
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; initrd /debian-installer/amd64/initrd.gz
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="5-publicación-del-fichero-preseed"&gt;5. Publicación del Fichero Preseed
&lt;/h3&gt;&lt;p&gt;El instalador buscará el archivo de configuración en la URL que especificamos. Copiamos nuestro &lt;code&gt;preseed.cfg&lt;/code&gt; al directorio raíz del servidor web Apache.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo cp preseed.cfg /var/www/html/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod &lt;span style="color:#ae81ff"&gt;644&lt;/span&gt; /var/www/html/preseed.cfg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="6-finalización"&gt;6. Finalización
&lt;/h3&gt;&lt;p&gt;Reiniciamos los servicios para aplicar cambios:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl restart isc-dhcp-server
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl restart tftpd-hpa
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo systemctl restart apache2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ahora el servidor está listo para recibir peticiones de arranque por red.&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="automatización-mediante-script"&gt;Automatización mediante Script
&lt;/h3&gt;&lt;p&gt;Para simplificar y estandarizar este proceso, he desarrollado un script llamado &lt;code&gt;install_pxe.sh&lt;/code&gt; que automatiza &lt;strong&gt;todos los pasos descritos anteriormente&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Para usarlo, basta con ejecutar:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo ./install_pxe.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Descargar Script: &lt;a class="link" href="http://sergiojimenez.org/files/install_pxe.sh" &gt;install_pxe.sh&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Ejercicios de Gestión de Paquetería</title><link>http://sergiojimenez.org/post/gestion-de-paqueteria/</link><pubDate>Sat, 22 Nov 2025 14:00:00 +0100</pubDate><guid>http://sergiojimenez.org/post/gestion-de-paqueteria/</guid><description>&lt;img src="http://sergiojimenez.org/post/gestion-de-paqueteria/cover.png" alt="Featured image of post Ejercicios de Gestión de Paquetería" /&gt;&lt;h1 id="ejercicios-de-gestión-de-paquetería"&gt;Ejercicios de Gestión de Paquetería
&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;Por:&lt;/strong&gt; Sergio Jimenez Suarez
&lt;strong&gt;Curso:&lt;/strong&gt; 2ºASIR - IES Gonzalo Nazareno&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="trabajo-con-apt-aptitude-dpkg"&gt;Trabajo con apt, aptitude, dpkg
&lt;/h2&gt;&lt;p&gt;Prepara una máquina virtual con Debian trixie, realizar las siguientes acciones:&lt;/p&gt;
&lt;h3 id="1-que-acciones-consigo-al-realizar-apt-update-y-apt-upgrade-explica-detalladamente"&gt;1. Que acciones consigo al realizar apt update y apt upgrade. Explica detalladamente.
&lt;/h3&gt;&lt;p&gt;El comando &lt;code&gt;apt update&lt;/code&gt; constituye el primer paso esencial al actualizar paquetes. Este procedimiento lleva a cabo las siguientes funciones:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Obtención de Metadatos Externos:&lt;/strong&gt; &lt;code&gt;apt update&lt;/code&gt; establece comunicación con los repositorios de software en línea para obtener los metadatos de los paquetes que están disponibles. Esta información incluye detalles sobre las últimas versiones, sus dependencias y otros datos importantes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Renovación de la Copia Local de Metadatos:&lt;/strong&gt; Posteriormente, &lt;code&gt;apt&lt;/code&gt; actualiza su copia local con estos metadatos. Esto permite que el sistema tenga acceso inmediato a la información acerca de los paquetes sin necesidad de volver a descargarla.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Tras haber actualizado la información sobre los paquetes disponibles, el siguiente paso a seguir es ejecutar el comando &lt;code&gt;apt upgrade&lt;/code&gt;. Este comando abarca una serie de acciones clave:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Elección de Versiones Disponibles:&lt;/strong&gt; &lt;code&gt;apt&lt;/code&gt; selecciona las versiones que se considerarán para los paquetes disponibles. Normalmente, estas son las versiones más recientes, aunque pueden hacerse algunas excepciones.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Resolución de Dependencias:&lt;/strong&gt; &lt;code&gt;apt&lt;/code&gt; se encarga de verificar y manejar las dependencias entre los paquetes para asegurar que la actualización se efectúe de forma coherente y que todas las dependencias sean cumplidas.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Descarga de Paquetes:&lt;/strong&gt; Si se detectan nuevas versiones de paquetes, &lt;code&gt;apt&lt;/code&gt; procede a descargarlas desde los repositorios en línea a la caché local del sistema.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Extracción de Paquetes:&lt;/strong&gt; &lt;code&gt;apt&lt;/code&gt; realiza la extracción de los paquetes binarios descargados.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ejecución de Scripts Preinstalación:&lt;/strong&gt; Durante el proceso de actualización, se llevan a cabo los scripts de preinstalación, que pueden incluir configuraciones y ajustes necesarios antes del proceso de instalación.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Instalación de Paquetes Binarios:&lt;/strong&gt; A continuación, se instalan los archivos binarios de las nuevas versiones de los paquetes en el sistema.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ejecución de Scripts Postinstalación:&lt;/strong&gt; Finalmente, se ejecutan los scripts de postinstalación, que pueden llevar a cabo configuraciones adicionales después de que se complete la instalación.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt upgrade
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2-lista-la-relación-de-paquetes-que-pueden-ser-actualizados-qué-información-puedes-sacar-a-tenor-de-lo-mostrado-en-el-listado"&gt;2. Lista la relación de paquetes que pueden ser actualizados. ¿Qué información puedes sacar a tenor de lo mostrado en el listado?
&lt;/h3&gt;&lt;p&gt;Como ya upgradeamos no nos encuentra paquetes pero la sintaxis sería la siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;apt list --upgradable
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Formato:&lt;/strong&gt; Nombre del paquete/Versión actual - Versión Disponible - Estado - Descripción del paquete&lt;/p&gt;
&lt;h3 id="3-indica-la-versión-instalada-candidata-así-como-la-prioridad-del-paquete-openssh-client"&gt;3. Indica la versión instalada, candidata así como la prioridad del paquete openssh-client.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;apt policy openssh-client
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="4-cómo-puedes-sacar-información-de-un-paquete-oficial-instalado-o-que-no-este-instalado"&gt;4. ¿Cómo puedes sacar información de un paquete oficial instalado o que no este instalado?
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;apt show openssh-client
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="5-saca-toda-la-información-que-puedas-del-paquete-openssh-client-que-tienes-actualmente-instalado-en-tu-máquina"&gt;5. Saca toda la información que puedas del paquete openssh-client que tienes actualmente instalado en tu máquina.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;dpkg -s openssh-client
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="6-saca-toda-la-información-que-puedas-del-paquete-openssh-client-candidato-a-actualizar-en-tu-máquina"&gt;6. Saca toda la información que puedas del paquete openssh-client candidato a actualizar en tu máquina.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;apt show openssh-client
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Como vemos no hay candidatos nuevos.&lt;/p&gt;
&lt;h3 id="7-lista-todo-el-contenido-referente-al-paquete-openssh-client-actual-de-tu-máquina-utiliza-para-ello-tanto-dpkg-como-apt"&gt;7. Lista todo el contenido referente al paquete openssh-client actual de tu máquina. Utiliza para ello tanto dpkg como apt.
&lt;/h3&gt;&lt;p&gt;Con &lt;code&gt;dpkg&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;dpkg -L openssh-client
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Con &lt;code&gt;apt-file&lt;/code&gt; (si está instalado):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;apt-file list openssh-client
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="8-listar-el-contenido-de-un-paquete-sin-la-necesidad-de-instalarlo-o-descargarlo"&gt;8. Listar el contenido de un paquete sin la necesidad de instalarlo o descargarlo.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;apt-file list openssh-client
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="9-simula-la-instalación-del-paquete-openssh-client"&gt;9. Simula la instalación del paquete openssh-client.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install -s openssh-client
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ya cuento con openssh-client, pruebo otro paquete ya que el funcionamiento es el mismo.&lt;/p&gt;
&lt;h3 id="10-qué-comando-te-informa-de-los-posible-bugs-que-presente-un-determinado-paquete"&gt;10. ¿Qué comando te informa de los posible bugs que presente un determinado paquete?
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;apt-listbugs list openssh-client
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="11-después-de-realizar-un-apt-update--apt-upgrade-si-quisieras-actualizar-únicamente-los-paquetes-que-tienen-de-cadena-openssh-qué-procedimiento-seguirías"&gt;11. Después de realizar un apt update &amp;amp;&amp;amp; apt upgrade. Si quisieras actualizar únicamente los paquetes que tienen de cadena openssh. ¿Qué procedimiento seguirías?
&lt;/h3&gt;&lt;p&gt;Realiza esta acción, con las estructuras repetitivas que te ofrece bash, así como con el comando xargs.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;apt list --installed | grep openssh | cut -d/ -f1 | xargs sudo apt install --only-upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="12-cómo-encontrarías-qué-paquetes-dependen-de-un-paquete-específico"&gt;12. ¿Cómo encontrarías qué paquetes dependen de un paquete específico?
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;apt-cache rdepends openssh-client
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="13-cómo-procederías-para-encontrar-el-paquete-al-que-pertenece-un-determinado-fichero"&gt;13. ¿Cómo procederías para encontrar el paquete al que pertenece un determinado fichero?
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;dpkg -S /usr/bin/ssh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="14-que-procedimientos-emplearías-para-liberar-la-caché-en-cuanto-a-descargas-de-paquetería"&gt;14. ¿Que procedimientos emplearías para liberar la caché en cuanto a descargas de paquetería?
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt clean
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="15-realiza-la-instalación-del-paquete-keyboard-configuration-pasando-previamente-los-valores-de-los-parámetros-de-configuración-como-variables-de-entorno"&gt;15. Realiza la instalación del paquete keyboard-configuration pasando previamente los valores de los parámetros de configuración como variables de entorno.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;keyboard-configuration keyboard-configuration/layoutcode string es&amp;#34;&lt;/span&gt; | sudo debconf-set-selections
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo DEBIAN_FRONTEND&lt;span style="color:#f92672"&gt;=&lt;/span&gt;noninteractive apt install keyboard-configuration
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="16-reconfigura-el-paquete-locales-de-tu-equipo-añadiendo-una-localización-que-no-exista-previamente"&gt;16. Reconfigura el paquete locales de tu equipo, añadiendo una localización que no exista previamente.
&lt;/h3&gt;&lt;p&gt;Comprueba a modificar las variables de entorno correspondientes para que la sesión del usuario utilice otra localización.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo dpkg-reconfigure locales
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Comprobación:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;locale
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="17-interrumpe-la-configuración-de-un-paquete-y-explica-los-pasos-a-dar-para-continuar-la-instalación"&gt;17. Interrumpe la configuración de un paquete y explica los pasos a dar para continuar la instalación.
&lt;/h3&gt;&lt;p&gt;Interrumpimos con &lt;code&gt;Ctl+C&lt;/code&gt;, para reanudarla simplemente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo dpkg --configure -a
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="18-explica-la-instrucción-que-utilizarías-para-hacer-una-actualización-completa-de-todos-los-paquetes-de-tu-sistema-de-manera-completamente-no-interactiva"&gt;18. Explica la instrucción que utilizarías para hacer una actualización completa de todos los paquetes de tu sistema de manera completamente no interactiva.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo DEBIAN_FRONTEND&lt;span style="color:#f92672"&gt;=&lt;/span&gt;noninteractive apt upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="19-bloquea-la-actualización-de-determinados-paquetes"&gt;19. Bloquea la actualización de determinados paquetes.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt-mark hold apache2
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt-mark showhold
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="trabajo-con-ficheros-deb"&gt;Trabajo con ficheros .deb
&lt;/h2&gt;&lt;h3 id="1-descarga-un-paquete-sin-instalarlo-es-decir-descarga-el-fichero-deb-correspondiente-indica-diferentes-formas-de-hacerlo"&gt;1. Descarga un paquete sin instalarlo, es decir, descarga el fichero .deb correspondiente. Indica diferentes formas de hacerlo.
&lt;/h3&gt;&lt;p&gt;Copiando el enlace desde los repositorios debian y usando wget:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;wget http://ftp.es.debian.org/debian/pool/main/a/apache2/apache2_2.4.65-2_amd64.deb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Con apt:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt download apache2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2-cómo-puedes-ver-el-contenido-que-no-extraerlo-de-lo-que-se-instalará-en-el-sistema-de-un-paquete-deb"&gt;2. ¿Cómo puedes ver el contenido, que no extraerlo, de lo que se instalará en el sistema de un paquete deb?
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;dpkg -c apache2_2.4.65-2_amd64.deb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3-sobre-el-fichero-deb-descargado-utiliza-el-comando-ar"&gt;3. Sobre el fichero .deb descargado, utiliza el comando ar.
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;ar&lt;/code&gt; permite extraer el contenido de una paquete deb. Indica el procedimiento para visualizar con ar el contenido del paquete deb. Con el paquete que has descargado y utilizando el comando ar, descomprime el paquete. ¿Qué información dispones después de la extracción?. Indica la finalidad de lo extraído.&lt;/p&gt;
&lt;p&gt;Visualizar contenido:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ar t apache2_2.4.65-2_amd64.deb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Extraer contenido:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ar x apache2_2.4.65-2_amd64.deb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Contenido extraído:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;debian-binary&lt;/code&gt;: Versión del formato deb.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;control.tar.xz&lt;/code&gt;: Metadatos del paquete (dependencias, scripts, etc).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;data.tar.xz&lt;/code&gt;: Archivos del programa.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="4-indica-el-procedimiento-para-descomprimir-lo-extraído-por-ar-del-punto-anterior-qué-información-contiene"&gt;4. Indica el procedimiento para descomprimir lo extraído por ar del punto anterior. ¿Qué información contiene?
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tar -tf data.tar.xz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="trabajo-con-repositorios"&gt;Trabajo con repositorios
&lt;/h2&gt;&lt;h3 id="1-añade-a-tu-fichero-sourceslist-los-repositorios-de-trixie-backports-y-sid"&gt;1. Añade a tu fichero sources.list los repositorios de trixie-backports y sid.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cat /etc/apt/sources.list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2-configura-el-sistema-apt-para-que-los-paquetes-de-debian-trixie-tengan-mayor-prioridad-y-por-tanto-sean-los-que-se-instalen-por-defecto"&gt;2. Configura el sistema APT para que los paquetes de debian trixie tengan mayor prioridad y por tanto sean los que se instalen por defecto.
&lt;/h3&gt;&lt;p&gt;Archivo &lt;code&gt;/etc/apt/preferences.d/trixie&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Package: *
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Pin: release n=trixie
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Pin-Priority: 900
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3-configura-el-sistema-apt-para-que-los-paquetes-de-trixie-backports-tengan-mayor-prioridad-que-los-de-unstable"&gt;3. Configura el sistema APT para que los paquetes de trixie-backports tengan mayor prioridad que los de unstable.
&lt;/h3&gt;&lt;p&gt;Archivo &lt;code&gt;/etc/apt/preferences.d/trixie&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Package: *
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Pin: release n=trixie
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Pin-Priority: 900
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Package: *
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Pin: release n=trixie-backports
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Pin-Priority: 750
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Package: *
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Pin: release n=unstable
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Pin-Priority: 500
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="4-cómo-añades-la-posibilidad-de-descargar-paquetería-de-la-arquitectura-i386-en-tu-sistema"&gt;4. ¿Cómo añades la posibilidad de descargar paquetería de la arquitectura i386 en tu sistema?
&lt;/h3&gt;&lt;p&gt;¿Que comando has empleado?. Lista arquitecturas no nativas. ¿Cómo procederías para desechar la posibilidad de descargar paquetería de la arquitectura i386?&lt;/p&gt;
&lt;p&gt;Añadir arquitectura:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo dpkg --add-architecture i386
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Eliminar arquitectura:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo dpkg --remove-architecture i386
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="5-si-quisieras-descargar-un-paquete-cómo-puedes-saber-todas-las-versiones-disponible-de-dicho-paquete"&gt;5. Si quisieras descargar un paquete, ¿cómo puedes saber todas las versiones disponible de dicho paquete?
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;apt policy apache2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="6-indica-el-procedimiento-para-descargar-un-paquete-del-repositorio-stable"&gt;6. Indica el procedimiento para descargar un paquete del repositorio stable.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt download --target-release stable apache2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="7-indica-el-procedimiento-para-descargar-un-paquete-del-repositorio-de-trixie-backports"&gt;7. Indica el procedimiento para descargar un paquete del repositorio de trixie-backports.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt download --target-release trixie-backports apache2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="8-indica-el-procedimiento-para-descargar-un-paquete-del-repositorio-de-sid"&gt;8. Indica el procedimiento para descargar un paquete del repositorio de sid.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt download --target-release sid apache2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="9-indica-el-procedimiento-para-descargar-un-paquete-de-arquitectura-i386"&gt;9. Indica el procedimiento para descargar un paquete de arquitectura i386.
&lt;/h3&gt;&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt download apache2:i386
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id="trabajo-con-directorios"&gt;Trabajo con directorios
&lt;/h2&gt;&lt;h3 id="1-que-cometidos-tienen"&gt;1. Que cometidos tienen:
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;&lt;code&gt;/var/lib/apt/lists/&lt;/code&gt;&lt;/strong&gt;
Este directorio guarda las listas de los paquetes que ofrecen los repositorios configurados en tu sistema. Los ficheros, con extensión .list, incluyen datos como el nombre del paquete, la versión y la dirección del repositorio. Al ejecutar &lt;code&gt;apt update&lt;/code&gt;, se renuevan estas listas con la información más reciente.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;/var/lib/dpkg/available&lt;/code&gt;&lt;/strong&gt;
Este archivo recoge información de los paquetes que están disponibles e instalados en tu sistema junto con sus versiones. Lo utiliza &lt;code&gt;dpkg&lt;/code&gt; para llevar el inventario de lo que tienes instalado y para consultar detalles sobre dependencias.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;/var/lib/dpkg/status&lt;/code&gt;&lt;/strong&gt;
También contiene información sobre los paquetes instalados, pero de forma más completa que available. Indica el estado actual de cada paquete: instalado, eliminado, pendiente de configurar o con errores, ofreciendo así un control más preciso al gestor de paquetes.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;/var/cache/apt/archives/&lt;/code&gt;&lt;/strong&gt;
Aquí se almacenan los archivos .deb descargados antes de instalarse. Cuando haces un &lt;code&gt;apt-get install&lt;/code&gt; o &lt;code&gt;apt-get upgrade&lt;/code&gt;, los paquetes primero se bajan a este directorio y luego se instalan. Conservarlos resulta útil si necesitas reinstalar un paquete sin tener que volver a descargarlo, lo que ahorra tiempo y conexión.&lt;/p&gt;</description></item><item><title>Hunger Games</title><link>http://sergiojimenez.org/post/hunger-games/</link><pubDate>Sat, 11 Oct 2025 23:06:17 +0200</pubDate><guid>http://sergiojimenez.org/post/hunger-games/</guid><description>&lt;img src="http://sergiojimenez.org/post/hunger-games/cover.jpg" alt="Featured image of post Hunger Games" /&gt;&lt;h1 id="hunger-games"&gt;Hunger Games
&lt;/h1&gt;&lt;p&gt;Vas a participar en The Hunger Games, un juego de alianzas donde el objetivo es sobrevivir. El mundo se divide en distritos, numerados del 1 al 12 del más rico al más pobre. También se rumorea la existencia de un distrito 13, pero nadie está muy seguro de su existencia. En este momento solo quedan representantes de cuatro distritos.&lt;/p&gt;
&lt;p&gt;El escenario del juego incluye todos los distritos anteriores y el distrito secreto, al que al principio nadie sabe llegar.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image44.png"
width="1407"
height="692"
srcset="http://sergiojimenez.org/post/hunger-games/image44_hu_fb0ffadff2c0560b.png 480w, http://sergiojimenez.org/post/hunger-games/image44_hu_f9cfdd84772bc48e.png 1024w"
loading="lazy"
alt="Topología de red"
class="gallery-image"
data-flex-grow="203"
data-flex-basis="487px"
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ejercicio-1-configuración-de-red"&gt;Ejercicio 1: Configuración de red
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Realizar la configuración de la red que sea necesaria para que todos los participantes puedan comunicarse entre sí por la ruta más corta posible. Documenta el proceso y demuestra su funcionamiento.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Para permitir la comunicación de todos los participantes en primer lugar le asignaremos direcciones IP tanto a estos como a las interfaces de los routers en el camino.&lt;/p&gt;
&lt;h3 id="direcciones-ip-de-los-participantes"&gt;Direcciones IP de los Participantes
&lt;/h3&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;Marvel: 10.0.1.2 /24
Glimmer: 10.0.1.3 /24
Cato: 10.0.2.2 /24
Clover: 10.0.2.3 /24
Thresh: 10.0.11.2 /24
Rue: 10.0.11.3 /24
Peeta: 10.0.12.2 /24
Katniss: 10.0.12.3 /24
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id="direcciones-ip-de-los-routers"&gt;Direcciones IP de los Routers
&lt;/h3&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;R1 f0/0: 10.0.1.1 /24
R1 f0/1: 172.23.0.1 /24
R1 f1/0: 192.168.1.2 /24
R2 f0/0: 10.0.11.1 /24
R2 f0/1: 172.23.0.2 /24
R2 f1/0: 172.24.0.1 /24
R2 f1/1: 192.168.11.2 /24
R3 f0/0: 10.0.2.1 /24
R3 f0/1: 172.25.0.1 /24
R3 f1/0: 192.168.2.2 /24
R4 f0/0: 10.0.12.1 /24
R4 f0/1: 172.24.0.2 /24
R4 f1/0: 192.168.12.2 /24
R4 f1/1: 172.25.0.2 /24
R5 f0/0: 192.168.11.1 /24
R5 f0/1: 192.168.12.1 /24
R5 f1/0: 192.168.1.1 /24
R5 f1/1: 192.168.2.1 /24
R5 f2/0: 10.0.13.1 /24
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Una vez asignadas las IP pasaremos con el direccionamiento de los routers.&lt;/p&gt;
&lt;h3 id="configuración-de-enrutamiento"&gt;Configuración de Enrutamiento
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;R1:&lt;/strong&gt;
Si el distrito 1 quiere comunicar con el distrito 11 el tráfico irá a R2, en el resto de casos saldrá por la salida por defecto hacia R5.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image23.png"
width="482"
height="238"
srcset="http://sergiojimenez.org/post/hunger-games/image23_hu_2f72b72314f0e547.png 480w, http://sergiojimenez.org/post/hunger-games/image23_hu_f4f7b99dcd3ae04f.png 1024w"
loading="lazy"
alt="Configuración R1"
class="gallery-image"
data-flex-grow="202"
data-flex-basis="486px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;R2:&lt;/strong&gt;
Como el Distrito 13 es aún desconocido por los participantes ignoraremos su presencia a la hora de hacer el enrutamiento, esto nos ahorrará momentáneamente una línea a la tabla. La comunicación para el distrito 1 saldrá hacia R1 y la salida por defecto será hacia R4.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image41.png"
width="483"
height="262"
srcset="http://sergiojimenez.org/post/hunger-games/image41_hu_da6d0cfe536f0d18.png 480w, http://sergiojimenez.org/post/hunger-games/image41_hu_2f77bb4b85045b92.png 1024w"
loading="lazy"
alt="Configuración R2"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="442px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;R3:&lt;/strong&gt;
Similar a R1, salida por defecto camino a R5, excepto mensajes para el distrito 12 que saldrán hasta R4.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image11.png"
width="474"
height="241"
srcset="http://sergiojimenez.org/post/hunger-games/image11_hu_92de81a7e3f1943a.png 480w, http://sergiojimenez.org/post/hunger-games/image11_hu_5b01d3fb06bf3d6c.png 1024w"
loading="lazy"
alt="Configuración R3"
class="gallery-image"
data-flex-grow="196"
data-flex-basis="472px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;R4:&lt;/strong&gt;
Similar a R2, los mensajes a distrito 2 viajarán a R3, el resto hasta R2.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image9.png"
width="478"
height="265"
srcset="http://sergiojimenez.org/post/hunger-games/image9_hu_c19fca94350ae658.png 480w, http://sergiojimenez.org/post/hunger-games/image9_hu_3a937de0de4a194e.png 1024w"
loading="lazy"
alt="Configuración R4"
class="gallery-image"
data-flex-grow="180"
data-flex-basis="432px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;R5:&lt;/strong&gt;
En este caso sí deberemos especificar las rutas hacia cada distrito, la salida por defecto la dejaré mirando hacia el distrito 13 pensando a futuro, pues en cualquier caso no nos va a ahorrar líneas a la tabla de enrutamiento.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image16.png"
width="480"
height="302"
srcset="http://sergiojimenez.org/post/hunger-games/image16_hu_71c0d20da5f3e164.png 480w, http://sergiojimenez.org/post/hunger-games/image16_hu_efb49ea1255591e5.png 1024w"
loading="lazy"
alt="Configuración R5"
class="gallery-image"
data-flex-grow="158"
data-flex-basis="381px"
&gt;&lt;/p&gt;
&lt;h3 id="comprobación-de-ping-entre-distritos"&gt;Comprobación de ping entre distritos
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;Distrito 1:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image6.png"
width="403"
height="347"
srcset="http://sergiojimenez.org/post/hunger-games/image6_hu_a055eb2cbe9bb026.png 480w, http://sergiojimenez.org/post/hunger-games/image6_hu_c7ceffeafa8d3f04.png 1024w"
loading="lazy"
alt="Ping desde Distrito 1"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="278px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Distrito 2:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image34.png"
width="403"
height="347"
srcset="http://sergiojimenez.org/post/hunger-games/image34_hu_3f845991719e2411.png 480w, http://sergiojimenez.org/post/hunger-games/image34_hu_512e28517ca9de3c.png 1024w"
loading="lazy"
alt="Ping desde Distrito 2"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="278px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Distrito 11:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image8.png"
width="403"
height="347"
srcset="http://sergiojimenez.org/post/hunger-games/image8_hu_f4da333952b4dbc5.png 480w, http://sergiojimenez.org/post/hunger-games/image8_hu_9eb1967da7af7aaf.png 1024w"
loading="lazy"
alt="Ping desde Distrito 11"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="278px"
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ejercicio-2-acl-según-alianzas"&gt;Ejercicio 2: ACL según alianzas
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Establecer las ACL necesarias para reflejar la situación descrita. Documenta el proceso y demuestra su funcionamiento.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A medida que avanza el juego se van modificando las alianzas y, por tanto, algunos participantes pasan a ser enemigos y dejan de tener comunicación entre ellos. Así, el segundo día la situación es la siguiente:&lt;/p&gt;
&lt;h3 id="los-superpijos-se-han-peleado-con-todos"&gt;Los superpijos se han peleado con todos
&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;Los superpijos se han peleado con todos y no se comunican con el resto de distritos, cuyos mensajes no quieren escuchar.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Para esta situación tenemos 2 opciones usando ACL:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;En el router de cada distrito bloquear el tráfico con destino 10.0.1.0, requiere crear una ACL en R2, R3 y R4.&lt;/li&gt;
&lt;li&gt;Cortar todo el tráfico de R1, en mi opinión la más eficiente y la que voy a usar, el inconveniente es que los mensajes provenientes de los demás distritos recorren un mayor camino antes de ser desechados por R1.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Con esto he creado una ACL estándar en el router del distrito 1, todo el tráfico que intente salir desde la interfaz del switch será denegado.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image3.png"
width="250"
height="96"
srcset="http://sergiojimenez.org/post/hunger-games/image3_hu_fc725038d19b8a84.png 480w, http://sergiojimenez.org/post/hunger-games/image3_hu_c576dbedc31f0755.png 1024w"
loading="lazy"
alt="ACL Distrito 1"
class="gallery-image"
data-flex-grow="260"
data-flex-basis="625px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ping desde fuera hacia Distrito 1:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image38.png"
width="484"
height="164"
srcset="http://sergiojimenez.org/post/hunger-games/image38_hu_73d6a915b0ebfd51.png 480w, http://sergiojimenez.org/post/hunger-games/image38_hu_c06cc42fe42a554c.png 1024w"
loading="lazy"
alt="Ping desde fuera"
class="gallery-image"
data-flex-grow="295"
data-flex-basis="708px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ping desde Distrito 1 hacia fuera:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image2.png"
width="190"
height="55"
srcset="http://sergiojimenez.org/post/hunger-games/image2_hu_6c56f0244c228e05.png 480w, http://sergiojimenez.org/post/hunger-games/image2_hu_134b6478684a11a9.png 1024w"
loading="lazy"
alt="Ping desde dentro"
class="gallery-image"
data-flex-grow="345"
data-flex-basis="829px"
&gt;&lt;/p&gt;
&lt;p&gt;Como podemos ver el mensaje de error es distinto, si hacemos el ping desde un PC fuera del distrito 1 nos encontraremos de cara con la ACL que nos denegará el paso y nos devolverá el mensaje de &amp;lsquo;administratively prohibited&amp;rsquo;. Sin embargo si probamos un ping desde dentro del distrito 1 el mensaje será timeout debido a que la comunicación sí está alcanzando el destino, pero a su vuelta esta se encuentra de nuevo con la ACL que ahora sí, le deniega el paso.&lt;/p&gt;
&lt;h3 id="los-indigentes-y-los-demás-distritos"&gt;Los indigentes y los demás distritos
&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;Los indigentes se comunican con los pobres, pero los demás distritos no quieren saber nada de ellos.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Crearemos una ACL extendida en la interfaz del switch de R4, para denegar todo el tráfico que se intente enviar a los distritos 1 y 2.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image17.png"
width="184"
height="104"
srcset="http://sergiojimenez.org/post/hunger-games/image17_hu_e64a8cae67d2b86.png 480w, http://sergiojimenez.org/post/hunger-games/image17_hu_80cd7270f3649204.png 1024w"
loading="lazy"
alt="ACL R4"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="424px"
&gt;&lt;/p&gt;
&lt;p&gt;Comprobamos ping a cada distrito desde el 12:&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image12.png"
width="384"
height="126"
srcset="http://sergiojimenez.org/post/hunger-games/image12_hu_e82aa24bc4df5d9d.png 480w, http://sergiojimenez.org/post/hunger-games/image12_hu_5046472aa14ec3d1.png 1024w"
loading="lazy"
alt="Comprobación pings"
class="gallery-image"
data-flex-grow="304"
data-flex-basis="731px"
&gt;&lt;/p&gt;
&lt;h3 id="alianza-entre-pobres-y-pijos"&gt;Alianza entre pobres y pijos
&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;Los pobres y los pijos han establecido una alianza un tanto sorprendente y pueden comunicarse aun entre ellos, aunque solo a través de R5.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ahora sí deberemos modificar nuestras tablas de enrutamiento de R2 y R4. Enviaremos el tráfico por defecto a R5, tendremos que añadir la ruta entre R2 y R4 manualmente.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image40.png"
width="473"
height="280"
srcset="http://sergiojimenez.org/post/hunger-games/image40_hu_e740e98b24cbf8bf.png 480w, http://sergiojimenez.org/post/hunger-games/image40_hu_5d4b63f24529b91d.png 1024w"
loading="lazy"
alt="Modificación enrutamiento R4"
class="gallery-image"
data-flex-grow="168"
data-flex-basis="405px"
&gt;&lt;/p&gt;
&lt;p&gt;No será necesario configurar ACL en este punto ya que toda comunicación entre Distritos 2 y 11 pasará por R5.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ejercicio-3-servidor-dhcp"&gt;Ejercicio 3: Servidor DHCP
&lt;/h2&gt;&lt;p&gt;Al día siguiente, los superpijos deciden que es supercansado poner las direcciones IP a mano, así que tienes que montarles un servidor DHCP en el router de su red para que sus máquinas reciban automáticamente una dirección IP de las cinco primeras de su rango de direcciones, reservando la primera para el propio router.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Configura el servidor DHCP de los superpijos. Documenta el proceso y demuestra su funcionamiento.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Excluimos la IP del router y las que no queremos que sean asignadas:&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image4.png"
width="349"
height="34"
srcset="http://sergiojimenez.org/post/hunger-games/image4_hu_40b39701becaf6dc.png 480w, http://sergiojimenez.org/post/hunger-games/image4_hu_3f86896969235089.png 1024w"
loading="lazy"
alt="Exclusión IPs"
class="gallery-image"
data-flex-grow="1026"
data-flex-basis="2463px"
&gt;&lt;/p&gt;
&lt;p&gt;Ahora configuramos los parámetros del servidor DHCP:&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image14.png"
width="292"
height="85"
srcset="http://sergiojimenez.org/post/hunger-games/image14_hu_24454e161252c754.png 480w, http://sergiojimenez.org/post/hunger-games/image14_hu_9aecb892bb42a138.png 1024w"
loading="lazy"
alt="Configuración DHCP"
class="gallery-image"
data-flex-grow="343"
data-flex-basis="824px"
&gt;&lt;/p&gt;
&lt;p&gt;Comprobamos su funcionamiento:&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image30.png"
width="315"
height="241"
srcset="http://sergiojimenez.org/post/hunger-games/image30_hu_7f6788aca0ac681.png 480w, http://sergiojimenez.org/post/hunger-games/image30_hu_d9923373d19f03a1.png 1024w"
loading="lazy"
alt="Comprobación DHCP 1"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image28.png"
width="315"
height="241"
srcset="http://sergiojimenez.org/post/hunger-games/image28_hu_c6f49c8a4ab4e2d3.png 480w, http://sergiojimenez.org/post/hunger-games/image28_hu_d00a598a80662030.png 1024w"
loading="lazy"
alt="Comprobación DHCP 2"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ejercicio-4-acl-por-relaciones-personales"&gt;Ejercicio 4: ACL por relaciones personales
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Configura las ACL (extendidas o no) que sean necesarias para representar este nuevo escenario. Documenta el proceso y demuestra su funcionamiento.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Cuando pasa una semana, las alianzas y enemistades ya no son solo entre distritos sino entre participantes individuales.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Peeta establece una alianza con Clove y debe poder comunicarse con él.&lt;/li&gt;
&lt;li&gt;Katniss deja de hablarse con Rue.&lt;/li&gt;
&lt;li&gt;Katniss y Cato están empezando una bonita relación y necesitan comunicarse entre ellos.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Como anteriormente se denegó todo el tráfico proveniente del Distrito 12 debemos reescribir dicha ACL, permitiendo las comunicaciones que se indican, será una ACL extendida.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image22.png"
width="481"
height="97"
srcset="http://sergiojimenez.org/post/hunger-games/image22_hu_cb9ea7674c6dad36.png 480w, http://sergiojimenez.org/post/hunger-games/image22_hu_6e03036e99ca3ccc.png 1024w"
loading="lazy"
alt="ACL extendida R4"
class="gallery-image"
data-flex-grow="495"
data-flex-basis="1190px"
&gt;&lt;/p&gt;
&lt;p&gt;Con esto:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Katniss solo puede comunicarse con Peeta, Cato y Thresh.&lt;/li&gt;
&lt;li&gt;Peeta podrá comunicarse con Katniss, Clove y el Distrito 11.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Comprobaciones:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image31.png"
width="485"
height="411"
srcset="http://sergiojimenez.org/post/hunger-games/image31_hu_96518345cb7bb0c4.png 480w, http://sergiojimenez.org/post/hunger-games/image31_hu_de982b7e72b747c6.png 1024w"
loading="lazy"
alt="Comprobación Katniss"
class="gallery-image"
data-flex-grow="118"
data-flex-basis="283px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image29.png"
width="485"
height="411"
srcset="http://sergiojimenez.org/post/hunger-games/image29_hu_7ef7452b64db1def.png 480w, http://sergiojimenez.org/post/hunger-games/image29_hu_b5b7ee3a6ba2266e.png 1024w"
loading="lazy"
alt="Comprobación Peeta"
class="gallery-image"
data-flex-grow="118"
data-flex-basis="283px"
&gt;&lt;/p&gt;
&lt;p&gt;Si intentamos hacer un ping denegado en sentido contrario volveremos a encontrarnos con el mensaje de timeout anteriormente explicado.&lt;/p&gt;
&lt;h3 id="cato-y-thresh-se-pelean"&gt;Cato y Thresh se pelean
&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;Cato y Thresh han acabado peleándose y ya no hay comunicación entre ellos.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Denegamos la comunicación con una ACL extendida, podemos colocarla tanto en R2 como R3 y R5, en cualquiera de los casos al menos uno de los mensajes tendrán que recorrer más de un router antes de ser eliminado.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image43.png"
width="428"
height="100"
srcset="http://sergiojimenez.org/post/hunger-games/image43_hu_be06aaa7567be9df.png 480w, http://sergiojimenez.org/post/hunger-games/image43_hu_762c6cbd4ae02b9e.png 1024w"
loading="lazy"
alt="ACL Cato-Thresh"
class="gallery-image"
data-flex-grow="428"
data-flex-basis="1027px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image7.png"
width="476"
height="85"
srcset="http://sergiojimenez.org/post/hunger-games/image7_hu_ae1d944769fa8942.png 480w, http://sergiojimenez.org/post/hunger-games/image7_hu_f86379931e9a3889.png 1024w"
loading="lazy"
alt="Comprobación Cato-Thresh"
class="gallery-image"
data-flex-grow="560"
data-flex-basis="1344px"
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="ejercicio-5-servidor-web-del-distrito-13"&gt;Ejercicio 5: Servidor web del distrito 13
&lt;/h2&gt;&lt;p&gt;Los juegos del hambre van avanzando y algunos participantes han descubierto al fin el secreto del distrito 13. No parece existir vida en él, pero hay un servidor web lleno de documentos muy útiles para sobrevivir.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Monta un servidor web en el distrito 13 que sea accesible mediante ACL extendidas solo para los participantes de los distritos 11 y 12. La comunicación se establecerá por el puerto 80. Documenta el proceso y demuestra su funcionamiento.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Para montar el servidor sustituiremos la máquina VPCS por un Debian al que le instalaremos Apache, le daremos acceso a una nube NAT momentáneamente.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image5.png"
width="563"
height="293"
srcset="http://sergiojimenez.org/post/hunger-games/image5_hu_bb9ac5dacccb736c.png 480w, http://sergiojimenez.org/post/hunger-games/image5_hu_c4081066c1ada4e1.png 1024w"
loading="lazy"
alt="Nube NAT"
class="gallery-image"
data-flex-grow="192"
data-flex-basis="461px"
&gt;&lt;/p&gt;
&lt;p&gt;Instalamos Apache2 y le damos una IP estática, ya podemos quitar la nube.&lt;/p&gt;
&lt;p&gt;Si hacemos ping desde las distintas máquinas veremos que tenemos acceso desde los Distritos 2 y 11.&lt;/p&gt;
&lt;p&gt;En primer lugar modificaremos la ACL de R4 para permitirle el acceso al distrito 12.&lt;/p&gt;
&lt;p&gt;Como las ACL se leen en orden debemos añadir la línea que permita el paso antes de &amp;lsquo;deny ip any any&amp;rsquo;.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image10.png"
width="482"
height="181"
srcset="http://sergiojimenez.org/post/hunger-games/image10_hu_9685d114546cb28f.png 480w, http://sergiojimenez.org/post/hunger-games/image10_hu_59899a2d47dcf0c5.png 1024w"
loading="lazy"
alt="Modificación ACL R4"
class="gallery-image"
data-flex-grow="266"
data-flex-basis="639px"
&gt;&lt;/p&gt;
&lt;p&gt;El &amp;lsquo;45&amp;rsquo; colocará la regla justo antes del deny any.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comprobación:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image1.png"
width="434"
height="46"
srcset="http://sergiojimenez.org/post/hunger-games/image1_hu_c9de14823df9aaab.png 480w, http://sergiojimenez.org/post/hunger-games/image1_hu_6b1b0867cebcaa23.png 1024w"
loading="lazy"
alt="Comprobación acceso D12"
class="gallery-image"
data-flex-grow="943"
data-flex-basis="2264px"
&gt;&lt;/p&gt;
&lt;p&gt;Ahora denegamos el paso al distrito 2 desde R3 de igual forma modificando la ACL ya establecida:&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image33.png"
width="388"
height="94"
srcset="http://sergiojimenez.org/post/hunger-games/image33_hu_f6865308e4216b99.png 480w, http://sergiojimenez.org/post/hunger-games/image33_hu_9f846f5a192f65b8.png 1024w"
loading="lazy"
alt="Denegación D2"
class="gallery-image"
data-flex-grow="412"
data-flex-basis="990px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comprobación:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image18.png"
width="340"
height="25"
srcset="http://sergiojimenez.org/post/hunger-games/image18_hu_f20092ab5171e5cb.png 480w, http://sergiojimenez.org/post/hunger-games/image18_hu_c67cfe3e0c8dd56c.png 1024w"
loading="lazy"
alt="Comprobación acceso denegado D2"
class="gallery-image"
data-flex-grow="1360"
data-flex-basis="3264px"
&gt;&lt;/p&gt;
&lt;p&gt;Ahora que solo tienen acceso los Distritos 11 y 12 cortaremos este a únicamente el puerto 80 mediante una ACL en R5:&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image19.png"
width="344"
height="70"
srcset="http://sergiojimenez.org/post/hunger-games/image19_hu_217be6607d371056.png 480w, http://sergiojimenez.org/post/hunger-games/image19_hu_e5915fc179bc4c49.png 1024w"
loading="lazy"
alt="ACL puerto 80 R5"
class="gallery-image"
data-flex-grow="491"
data-flex-basis="1179px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image35.png"
width="244"
height="61"
srcset="http://sergiojimenez.org/post/hunger-games/image35_hu_51cadd33a93de7f9.png 480w, http://sergiojimenez.org/post/hunger-games/image35_hu_828f1a07ba3b9fdf.png 1024w"
loading="lazy"
alt="Aplicar ACL R5"
class="gallery-image"
data-flex-grow="400"
data-flex-basis="960px"
&gt;&lt;/p&gt;
&lt;p&gt;Si ahora probamos a volver a hacer un ping nos encontramos con que la ACL nos lo cortará, esto es debido a que el protocolo ICMP (ping) no trabaja en el puerto 80.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image26.png"
width="286"
height="99"
srcset="http://sergiojimenez.org/post/hunger-games/image26_hu_e8c6ae8a39f63f7.png 480w, http://sergiojimenez.org/post/hunger-games/image26_hu_1b1e58c9cccd713.png 1024w"
loading="lazy"
alt="Ping bloqueado"
class="gallery-image"
data-flex-grow="288"
data-flex-basis="693px"
&gt;&lt;/p&gt;
&lt;p&gt;Para comprobar que el servidor web es accesible desde los distritos 11 y 12 vamos a añadir 1 tinycore con firefox al switch de dichos distritos.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image39.png"
width="1566"
height="788"
srcset="http://sergiojimenez.org/post/hunger-games/image39_hu_689749b943345573.png 480w, http://sergiojimenez.org/post/hunger-games/image39_hu_154b36fdc2c47cfb.png 1024w"
loading="lazy"
alt="TinyCore setup"
class="gallery-image"
data-flex-grow="198"
data-flex-basis="476px"
&gt;&lt;/p&gt;
&lt;p&gt;Será necesario configurar la IP de ambas máquinas en rango. Una vez hecho podremos acceder al servidor web.&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image36.png"
width="392"
height="158"
srcset="http://sergiojimenez.org/post/hunger-games/image36_hu_cdc0455713f17d84.png 480w, http://sergiojimenez.org/post/hunger-games/image36_hu_b9d5d66a5c7d05d1.png 1024w"
loading="lazy"
alt="Acceso web Distrito 12"
class="gallery-image"
data-flex-grow="248"
data-flex-basis="595px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image15.png"
width="483"
height="122"
srcset="http://sergiojimenez.org/post/hunger-games/image15_hu_fa3d6a62d124754d.png 480w, http://sergiojimenez.org/post/hunger-games/image15_hu_831614742403b32e.png 1024w"
loading="lazy"
alt="Acceso web Distrito 11"
class="gallery-image"
data-flex-grow="395"
data-flex-basis="950px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="http://sergiojimenez.org/post/hunger-games/image37.png"
width="1603"
height="629"
srcset="http://sergiojimenez.org/post/hunger-games/image37_hu_b6df842b0e8590c2.png 480w, http://sergiojimenez.org/post/hunger-games/image37_hu_663acd1740d76fde.png 1024w"
loading="lazy"
alt="Página web del Distrito 13"
class="gallery-image"
data-flex-grow="254"
data-flex-basis="611px"
&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Fin del documento&lt;/strong&gt;&lt;/p&gt;</description></item></channel></rss>