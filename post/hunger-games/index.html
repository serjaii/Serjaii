<!doctype html><html lang=es dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Ejercicio de configuración de red y ACL - Hunger Games"><title>Hunger Games</title><link rel=canonical href=http://sergiojimenez.org/post/hunger-games/><link rel=stylesheet href=/scss/style.min.b0e76e98cdd4f7082d1fc36f7af7e0843a81201db2197c03ca426751dc923735.css><meta property='og:title' content="Hunger Games"><meta property='og:description' content="Ejercicio de configuración de red y ACL - Hunger Games"><meta property='og:url' content='http://sergiojimenez.org/post/hunger-games/'><meta property='og:site_name' content='SerjAii'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Redes'><meta property='article:tag' content='ACL'><meta property='article:tag' content='DHCP'><meta property='article:tag' content='Cisco'><meta property='article:published_time' content='2025-10-11T23:06:17+02:00'><meta property='article:modified_time' content='2025-10-11T23:06:17+02:00'><meta property='og:image' content='http://sergiojimenez.org/post/hunger-games/cover.jpg'><meta name=twitter:title content="Hunger Games"><meta name=twitter:description content="Ejercicio de configuración de red y ACL - Hunger Games"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='http://sergiojimenez.org/post/hunger-games/cover.jpg'><link rel="shortcut icon" href=/img/mi-logo.jpg></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Ocultar menú">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/mi-logo_hu_f9e78d550823d191.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>SerjAii</a></h1><h2 class=site-description>Sys and Network Admin</h2></div></header><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Inicio</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>Sobre Mí</span></a></li><li><a href=/proyectos/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Proyectos</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Buscar</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><a href=/en/post/hunger-games/ title=English><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<span>EN</span></a></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Modo oscuro</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Tabla de contenido</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#ejercicio-1-configuración-de-red>Ejercicio 1: Configuración de red</a><ul><li><a href=#direcciones-ip-de-los-participantes>Direcciones IP de los Participantes</a></li><li><a href=#direcciones-ip-de-los-routers>Direcciones IP de los Routers</a></li><li><a href=#configuración-de-enrutamiento>Configuración de Enrutamiento</a></li><li><a href=#comprobación-de-ping-entre-distritos>Comprobación de ping entre distritos</a></li></ul></li><li><a href=#ejercicio-2-acl-según-alianzas>Ejercicio 2: ACL según alianzas</a><ul><li><a href=#los-superpijos-se-han-peleado-con-todos>Los superpijos se han peleado con todos</a></li><li><a href=#los-indigentes-y-los-demás-distritos>Los indigentes y los demás distritos</a></li><li><a href=#alianza-entre-pobres-y-pijos>Alianza entre pobres y pijos</a></li></ul></li><li><a href=#ejercicio-3-servidor-dhcp>Ejercicio 3: Servidor DHCP</a></li><li><a href=#ejercicio-4-acl-por-relaciones-personales>Ejercicio 4: ACL por relaciones personales</a><ul><li><a href=#cato-y-thresh-se-pelean>Cato y Thresh se pelean</a></li></ul></li><li><a href=#ejercicio-5-servidor-web-del-distrito-13>Ejercicio 5: Servidor web del distrito 13</a></li></ul></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/hunger-games/><img src=/post/hunger-games/cover_hu_3abd638b5d77a00a.jpg srcset="/post/hunger-games/cover_hu_3abd638b5d77a00a.jpg 800w, /post/hunger-games/cover_hu_5d58f7aaa90e5fb0.jpg 1600w" width=800 height=518 loading=lazy alt="Featured image of post Hunger Games"></a></div><div class=article-details><header class=article-category><a href=/categories/redes/>Redes</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/hunger-games/>Hunger Games</a></h2><h3 class=article-subtitle>Ejercicio de configuración de red y ACL - Hunger Games</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2025-10-11T23:06:17+02:00>11 oct. 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>Tiempo de lectura 7 minutos</time></div></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=http://sergiojimenez.org/en/post/hunger-games/ class=link>English</a></div></footer></div></header><section class=article-content><h1 id=hunger-games>Hunger Games</h1><p>Vas a participar en The Hunger Games, un juego de alianzas donde el objetivo es sobrevivir. El mundo se divide en distritos, numerados del 1 al 12 del más rico al más pobre. También se rumorea la existencia de un distrito 13, pero nadie está muy seguro de su existencia. En este momento solo quedan representantes de cuatro distritos.</p><p>El escenario del juego incluye todos los distritos anteriores y el distrito secreto, al que al principio nadie sabe llegar.</p><p><img src=/post/hunger-games/image44.png width=1407 height=692 srcset="/post/hunger-games/image44_hu_fb0ffadff2c0560b.png 480w, /post/hunger-games/image44_hu_f9cfdd84772bc48e.png 1024w" loading=lazy alt="Topología de red" class=gallery-image data-flex-grow=203 data-flex-basis=487px></p><hr><h2 id=ejercicio-1-configuración-de-red>Ejercicio 1: Configuración de red</h2><p><strong>Realizar la configuración de la red que sea necesaria para que todos los participantes puedan comunicarse entre sí por la ruta más corta posible. Documenta el proceso y demuestra su funcionamiento.</strong></p><p>Para permitir la comunicación de todos los participantes en primer lugar le asignaremos direcciones IP tanto a estos como a las interfaces de los routers en el camino.</p><h3 id=direcciones-ip-de-los-participantes>Direcciones IP de los Participantes</h3><pre tabindex=0><code>Marvel: 10.0.1.2 /24
Glimmer: 10.0.1.3 /24
Cato: 10.0.2.2 /24
Clover: 10.0.2.3 /24
Thresh: 10.0.11.2 /24
Rue: 10.0.11.3 /24
Peeta: 10.0.12.2 /24
Katniss: 10.0.12.3 /24
</code></pre><h3 id=direcciones-ip-de-los-routers>Direcciones IP de los Routers</h3><pre tabindex=0><code>R1 f0/0: 10.0.1.1 /24
R1 f0/1: 172.23.0.1 /24
R1 f1/0: 192.168.1.2 /24

R2 f0/0: 10.0.11.1 /24
R2 f0/1: 172.23.0.2 /24
R2 f1/0: 172.24.0.1 /24
R2 f1/1: 192.168.11.2 /24

R3 f0/0: 10.0.2.1 /24
R3 f0/1: 172.25.0.1 /24
R3 f1/0: 192.168.2.2 /24

R4 f0/0: 10.0.12.1 /24
R4 f0/1: 172.24.0.2 /24
R4 f1/0: 192.168.12.2 /24
R4 f1/1: 172.25.0.2 /24

R5 f0/0: 192.168.11.1 /24
R5 f0/1: 192.168.12.1 /24
R5 f1/0: 192.168.1.1 /24
R5 f1/1: 192.168.2.1 /24
R5 f2/0: 10.0.13.1 /24
</code></pre><p>Una vez asignadas las IP pasaremos con el direccionamiento de los routers.</p><h3 id=configuración-de-enrutamiento>Configuración de Enrutamiento</h3><p><strong>R1:</strong>
Si el distrito 1 quiere comunicar con el distrito 11 el tráfico irá a R2, en el resto de casos saldrá por la salida por defecto hacia R5.</p><p><img src=/post/hunger-games/image23.png width=482 height=238 srcset="/post/hunger-games/image23_hu_2f72b72314f0e547.png 480w, /post/hunger-games/image23_hu_f4f7b99dcd3ae04f.png 1024w" loading=lazy alt="Configuración R1" class=gallery-image data-flex-grow=202 data-flex-basis=486px></p><p><strong>R2:</strong>
Como el Distrito 13 es aún desconocido por los participantes ignoraremos su presencia a la hora de hacer el enrutamiento, esto nos ahorrará momentáneamente una línea a la tabla. La comunicación para el distrito 1 saldrá hacia R1 y la salida por defecto será hacia R4.</p><p><img src=/post/hunger-games/image41.png width=483 height=262 srcset="/post/hunger-games/image41_hu_da6d0cfe536f0d18.png 480w, /post/hunger-games/image41_hu_2f77bb4b85045b92.png 1024w" loading=lazy alt="Configuración R2" class=gallery-image data-flex-grow=184 data-flex-basis=442px></p><p><strong>R3:</strong>
Similar a R1, salida por defecto camino a R5, excepto mensajes para el distrito 12 que saldrán hasta R4.</p><p><img src=/post/hunger-games/image11.png width=474 height=241 srcset="/post/hunger-games/image11_hu_92de81a7e3f1943a.png 480w, /post/hunger-games/image11_hu_5b01d3fb06bf3d6c.png 1024w" loading=lazy alt="Configuración R3" class=gallery-image data-flex-grow=196 data-flex-basis=472px></p><p><strong>R4:</strong>
Similar a R2, los mensajes a distrito 2 viajarán a R3, el resto hasta R2.</p><p><img src=/post/hunger-games/image9.png width=478 height=265 srcset="/post/hunger-games/image9_hu_c19fca94350ae658.png 480w, /post/hunger-games/image9_hu_3a937de0de4a194e.png 1024w" loading=lazy alt="Configuración R4" class=gallery-image data-flex-grow=180 data-flex-basis=432px></p><p><strong>R5:</strong>
En este caso sí deberemos especificar las rutas hacia cada distrito, la salida por defecto la dejaré mirando hacia el distrito 13 pensando a futuro, pues en cualquier caso no nos va a ahorrar líneas a la tabla de enrutamiento.</p><p><img src=/post/hunger-games/image16.png width=480 height=302 srcset="/post/hunger-games/image16_hu_71c0d20da5f3e164.png 480w, /post/hunger-games/image16_hu_efb49ea1255591e5.png 1024w" loading=lazy alt="Configuración R5" class=gallery-image data-flex-grow=158 data-flex-basis=381px></p><h3 id=comprobación-de-ping-entre-distritos>Comprobación de ping entre distritos</h3><p><strong>Distrito 1:</strong></p><p><img src=/post/hunger-games/image6.png width=403 height=347 srcset="/post/hunger-games/image6_hu_a055eb2cbe9bb026.png 480w, /post/hunger-games/image6_hu_c7ceffeafa8d3f04.png 1024w" loading=lazy alt="Ping desde Distrito 1" class=gallery-image data-flex-grow=116 data-flex-basis=278px></p><p><strong>Distrito 2:</strong></p><p><img src=/post/hunger-games/image34.png width=403 height=347 srcset="/post/hunger-games/image34_hu_3f845991719e2411.png 480w, /post/hunger-games/image34_hu_512e28517ca9de3c.png 1024w" loading=lazy alt="Ping desde Distrito 2" class=gallery-image data-flex-grow=116 data-flex-basis=278px></p><p><strong>Distrito 11:</strong></p><p><img src=/post/hunger-games/image8.png width=403 height=347 srcset="/post/hunger-games/image8_hu_f4da333952b4dbc5.png 480w, /post/hunger-games/image8_hu_9eb1967da7af7aaf.png 1024w" loading=lazy alt="Ping desde Distrito 11" class=gallery-image data-flex-grow=116 data-flex-basis=278px></p><hr><h2 id=ejercicio-2-acl-según-alianzas>Ejercicio 2: ACL según alianzas</h2><p><strong>Establecer las ACL necesarias para reflejar la situación descrita. Documenta el proceso y demuestra su funcionamiento.</strong></p><p>A medida que avanza el juego se van modificando las alianzas y, por tanto, algunos participantes pasan a ser enemigos y dejan de tener comunicación entre ellos. Así, el segundo día la situación es la siguiente:</p><h3 id=los-superpijos-se-han-peleado-con-todos>Los superpijos se han peleado con todos</h3><blockquote><p>Los superpijos se han peleado con todos y no se comunican con el resto de distritos, cuyos mensajes no quieren escuchar.</p></blockquote><p>Para esta situación tenemos 2 opciones usando ACL:</p><ul><li>En el router de cada distrito bloquear el tráfico con destino 10.0.1.0, requiere crear una ACL en R2, R3 y R4.</li><li>Cortar todo el tráfico de R1, en mi opinión la más eficiente y la que voy a usar, el inconveniente es que los mensajes provenientes de los demás distritos recorren un mayor camino antes de ser desechados por R1.</li></ul><p>Con esto he creado una ACL estándar en el router del distrito 1, todo el tráfico que intente salir desde la interfaz del switch será denegado.</p><p><img src=/post/hunger-games/image3.png width=250 height=96 srcset="/post/hunger-games/image3_hu_fc725038d19b8a84.png 480w, /post/hunger-games/image3_hu_c576dbedc31f0755.png 1024w" loading=lazy alt="ACL Distrito 1" class=gallery-image data-flex-grow=260 data-flex-basis=625px></p><p><strong>Ping desde fuera hacia Distrito 1:</strong></p><p><img src=/post/hunger-games/image38.png width=484 height=164 srcset="/post/hunger-games/image38_hu_73d6a915b0ebfd51.png 480w, /post/hunger-games/image38_hu_c06cc42fe42a554c.png 1024w" loading=lazy alt="Ping desde fuera" class=gallery-image data-flex-grow=295 data-flex-basis=708px></p><p><strong>Ping desde Distrito 1 hacia fuera:</strong></p><p><img src=/post/hunger-games/image2.png width=190 height=55 srcset="/post/hunger-games/image2_hu_6c56f0244c228e05.png 480w, /post/hunger-games/image2_hu_134b6478684a11a9.png 1024w" loading=lazy alt="Ping desde dentro" class=gallery-image data-flex-grow=345 data-flex-basis=829px></p><p>Como podemos ver el mensaje de error es distinto, si hacemos el ping desde un PC fuera del distrito 1 nos encontraremos de cara con la ACL que nos denegará el paso y nos devolverá el mensaje de &lsquo;administratively prohibited&rsquo;. Sin embargo si probamos un ping desde dentro del distrito 1 el mensaje será timeout debido a que la comunicación sí está alcanzando el destino, pero a su vuelta esta se encuentra de nuevo con la ACL que ahora sí, le deniega el paso.</p><h3 id=los-indigentes-y-los-demás-distritos>Los indigentes y los demás distritos</h3><blockquote><p>Los indigentes se comunican con los pobres, pero los demás distritos no quieren saber nada de ellos.</p></blockquote><p>Crearemos una ACL extendida en la interfaz del switch de R4, para denegar todo el tráfico que se intente enviar a los distritos 1 y 2.</p><p><img src=/post/hunger-games/image17.png width=184 height=104 srcset="/post/hunger-games/image17_hu_e64a8cae67d2b86.png 480w, /post/hunger-games/image17_hu_80cd7270f3649204.png 1024w" loading=lazy alt="ACL R4" class=gallery-image data-flex-grow=176 data-flex-basis=424px></p><p>Comprobamos ping a cada distrito desde el 12:</p><p><img src=/post/hunger-games/image12.png width=384 height=126 srcset="/post/hunger-games/image12_hu_e82aa24bc4df5d9d.png 480w, /post/hunger-games/image12_hu_5046472aa14ec3d1.png 1024w" loading=lazy alt="Comprobación pings" class=gallery-image data-flex-grow=304 data-flex-basis=731px></p><h3 id=alianza-entre-pobres-y-pijos>Alianza entre pobres y pijos</h3><blockquote><p>Los pobres y los pijos han establecido una alianza un tanto sorprendente y pueden comunicarse aun entre ellos, aunque solo a través de R5.</p></blockquote><p>Ahora sí deberemos modificar nuestras tablas de enrutamiento de R2 y R4. Enviaremos el tráfico por defecto a R5, tendremos que añadir la ruta entre R2 y R4 manualmente.</p><p><img src=/post/hunger-games/image40.png width=473 height=280 srcset="/post/hunger-games/image40_hu_e740e98b24cbf8bf.png 480w, /post/hunger-games/image40_hu_5d4b63f24529b91d.png 1024w" loading=lazy alt="Modificación enrutamiento R4" class=gallery-image data-flex-grow=168 data-flex-basis=405px></p><p>No será necesario configurar ACL en este punto ya que toda comunicación entre Distritos 2 y 11 pasará por R5.</p><hr><h2 id=ejercicio-3-servidor-dhcp>Ejercicio 3: Servidor DHCP</h2><p>Al día siguiente, los superpijos deciden que es supercansado poner las direcciones IP a mano, así que tienes que montarles un servidor DHCP en el router de su red para que sus máquinas reciban automáticamente una dirección IP de las cinco primeras de su rango de direcciones, reservando la primera para el propio router.</p><p><strong>Configura el servidor DHCP de los superpijos. Documenta el proceso y demuestra su funcionamiento.</strong></p><p>Excluimos la IP del router y las que no queremos que sean asignadas:</p><p><img src=/post/hunger-games/image4.png width=349 height=34 srcset="/post/hunger-games/image4_hu_40b39701becaf6dc.png 480w, /post/hunger-games/image4_hu_3f86896969235089.png 1024w" loading=lazy alt="Exclusión IPs" class=gallery-image data-flex-grow=1026 data-flex-basis=2463px></p><p>Ahora configuramos los parámetros del servidor DHCP:</p><p><img src=/post/hunger-games/image14.png width=292 height=85 srcset="/post/hunger-games/image14_hu_24454e161252c754.png 480w, /post/hunger-games/image14_hu_9aecb892bb42a138.png 1024w" loading=lazy alt="Configuración DHCP" class=gallery-image data-flex-grow=343 data-flex-basis=824px></p><p>Comprobamos su funcionamiento:</p><p><img src=/post/hunger-games/image30.png width=315 height=241 srcset="/post/hunger-games/image30_hu_7f6788aca0ac681.png 480w, /post/hunger-games/image30_hu_d9923373d19f03a1.png 1024w" loading=lazy alt="Comprobación DHCP 1" class=gallery-image data-flex-grow=130 data-flex-basis=313px></p><p><img src=/post/hunger-games/image28.png width=315 height=241 srcset="/post/hunger-games/image28_hu_c6f49c8a4ab4e2d3.png 480w, /post/hunger-games/image28_hu_d00a598a80662030.png 1024w" loading=lazy alt="Comprobación DHCP 2" class=gallery-image data-flex-grow=130 data-flex-basis=313px></p><hr><h2 id=ejercicio-4-acl-por-relaciones-personales>Ejercicio 4: ACL por relaciones personales</h2><p><strong>Configura las ACL (extendidas o no) que sean necesarias para representar este nuevo escenario. Documenta el proceso y demuestra su funcionamiento.</strong></p><p>Cuando pasa una semana, las alianzas y enemistades ya no son solo entre distritos sino entre participantes individuales.</p><ul><li>Peeta establece una alianza con Clove y debe poder comunicarse con él.</li><li>Katniss deja de hablarse con Rue.</li><li>Katniss y Cato están empezando una bonita relación y necesitan comunicarse entre ellos.</li></ul><p>Como anteriormente se denegó todo el tráfico proveniente del Distrito 12 debemos reescribir dicha ACL, permitiendo las comunicaciones que se indican, será una ACL extendida.</p><p><img src=/post/hunger-games/image22.png width=481 height=97 srcset="/post/hunger-games/image22_hu_cb9ea7674c6dad36.png 480w, /post/hunger-games/image22_hu_6e03036e99ca3ccc.png 1024w" loading=lazy alt="ACL extendida R4" class=gallery-image data-flex-grow=495 data-flex-basis=1190px></p><p>Con esto:</p><ul><li>Katniss solo puede comunicarse con Peeta, Cato y Thresh.</li><li>Peeta podrá comunicarse con Katniss, Clove y el Distrito 11.</li></ul><p><strong>Comprobaciones:</strong></p><p><img src=/post/hunger-games/image31.png width=485 height=411 srcset="/post/hunger-games/image31_hu_96518345cb7bb0c4.png 480w, /post/hunger-games/image31_hu_de982b7e72b747c6.png 1024w" loading=lazy alt="Comprobación Katniss" class=gallery-image data-flex-grow=118 data-flex-basis=283px></p><p><img src=/post/hunger-games/image29.png width=485 height=411 srcset="/post/hunger-games/image29_hu_7ef7452b64db1def.png 480w, /post/hunger-games/image29_hu_b5b7ee3a6ba2266e.png 1024w" loading=lazy alt="Comprobación Peeta" class=gallery-image data-flex-grow=118 data-flex-basis=283px></p><p>Si intentamos hacer un ping denegado en sentido contrario volveremos a encontrarnos con el mensaje de timeout anteriormente explicado.</p><h3 id=cato-y-thresh-se-pelean>Cato y Thresh se pelean</h3><blockquote><p>Cato y Thresh han acabado peleándose y ya no hay comunicación entre ellos.</p></blockquote><p>Denegamos la comunicación con una ACL extendida, podemos colocarla tanto en R2 como R3 y R5, en cualquiera de los casos al menos uno de los mensajes tendrán que recorrer más de un router antes de ser eliminado.</p><p><img src=/post/hunger-games/image43.png width=428 height=100 srcset="/post/hunger-games/image43_hu_be06aaa7567be9df.png 480w, /post/hunger-games/image43_hu_762c6cbd4ae02b9e.png 1024w" loading=lazy alt="ACL Cato-Thresh" class=gallery-image data-flex-grow=428 data-flex-basis=1027px></p><p><img src=/post/hunger-games/image7.png width=476 height=85 srcset="/post/hunger-games/image7_hu_ae1d944769fa8942.png 480w, /post/hunger-games/image7_hu_f86379931e9a3889.png 1024w" loading=lazy alt="Comprobación Cato-Thresh" class=gallery-image data-flex-grow=560 data-flex-basis=1344px></p><hr><h2 id=ejercicio-5-servidor-web-del-distrito-13>Ejercicio 5: Servidor web del distrito 13</h2><p>Los juegos del hambre van avanzando y algunos participantes han descubierto al fin el secreto del distrito 13. No parece existir vida en él, pero hay un servidor web lleno de documentos muy útiles para sobrevivir.</p><p><strong>Monta un servidor web en el distrito 13 que sea accesible mediante ACL extendidas solo para los participantes de los distritos 11 y 12. La comunicación se establecerá por el puerto 80. Documenta el proceso y demuestra su funcionamiento.</strong></p><p>Para montar el servidor sustituiremos la máquina VPCS por un Debian al que le instalaremos Apache, le daremos acceso a una nube NAT momentáneamente.</p><p><img src=/post/hunger-games/image5.png width=563 height=293 srcset="/post/hunger-games/image5_hu_bb9ac5dacccb736c.png 480w, /post/hunger-games/image5_hu_c4081066c1ada4e1.png 1024w" loading=lazy alt="Nube NAT" class=gallery-image data-flex-grow=192 data-flex-basis=461px></p><p>Instalamos Apache2 y le damos una IP estática, ya podemos quitar la nube.</p><p>Si hacemos ping desde las distintas máquinas veremos que tenemos acceso desde los Distritos 2 y 11.</p><p>En primer lugar modificaremos la ACL de R4 para permitirle el acceso al distrito 12.</p><p>Como las ACL se leen en orden debemos añadir la línea que permita el paso antes de &lsquo;deny ip any any&rsquo;.</p><p><img src=/post/hunger-games/image10.png width=482 height=181 srcset="/post/hunger-games/image10_hu_9685d114546cb28f.png 480w, /post/hunger-games/image10_hu_59899a2d47dcf0c5.png 1024w" loading=lazy alt="Modificación ACL R4" class=gallery-image data-flex-grow=266 data-flex-basis=639px></p><p>El &lsquo;45&rsquo; colocará la regla justo antes del deny any.</p><p><strong>Comprobación:</strong></p><p><img src=/post/hunger-games/image1.png width=434 height=46 srcset="/post/hunger-games/image1_hu_c9de14823df9aaab.png 480w, /post/hunger-games/image1_hu_6b1b0867cebcaa23.png 1024w" loading=lazy alt="Comprobación acceso D12" class=gallery-image data-flex-grow=943 data-flex-basis=2264px></p><p>Ahora denegamos el paso al distrito 2 desde R3 de igual forma modificando la ACL ya establecida:</p><p><img src=/post/hunger-games/image33.png width=388 height=94 srcset="/post/hunger-games/image33_hu_f6865308e4216b99.png 480w, /post/hunger-games/image33_hu_9f846f5a192f65b8.png 1024w" loading=lazy alt="Denegación D2" class=gallery-image data-flex-grow=412 data-flex-basis=990px></p><p><strong>Comprobación:</strong></p><p><img src=/post/hunger-games/image18.png width=340 height=25 srcset="/post/hunger-games/image18_hu_f20092ab5171e5cb.png 480w, /post/hunger-games/image18_hu_c67cfe3e0c8dd56c.png 1024w" loading=lazy alt="Comprobación acceso denegado D2" class=gallery-image data-flex-grow=1360 data-flex-basis=3264px></p><p>Ahora que solo tienen acceso los Distritos 11 y 12 cortaremos este a únicamente el puerto 80 mediante una ACL en R5:</p><p><img src=/post/hunger-games/image19.png width=344 height=70 srcset="/post/hunger-games/image19_hu_217be6607d371056.png 480w, /post/hunger-games/image19_hu_e5915fc179bc4c49.png 1024w" loading=lazy alt="ACL puerto 80 R5" class=gallery-image data-flex-grow=491 data-flex-basis=1179px></p><p><img src=/post/hunger-games/image35.png width=244 height=61 srcset="/post/hunger-games/image35_hu_51cadd33a93de7f9.png 480w, /post/hunger-games/image35_hu_828f1a07ba3b9fdf.png 1024w" loading=lazy alt="Aplicar ACL R5" class=gallery-image data-flex-grow=400 data-flex-basis=960px></p><p>Si ahora probamos a volver a hacer un ping nos encontramos con que la ACL nos lo cortará, esto es debido a que el protocolo ICMP (ping) no trabaja en el puerto 80.</p><p><img src=/post/hunger-games/image26.png width=286 height=99 srcset="/post/hunger-games/image26_hu_e8c6ae8a39f63f7.png 480w, /post/hunger-games/image26_hu_1b1e58c9cccd713.png 1024w" loading=lazy alt="Ping bloqueado" class=gallery-image data-flex-grow=288 data-flex-basis=693px></p><p>Para comprobar que el servidor web es accesible desde los distritos 11 y 12 vamos a añadir 1 tinycore con firefox al switch de dichos distritos.</p><p><img src=/post/hunger-games/image39.png width=1566 height=788 srcset="/post/hunger-games/image39_hu_689749b943345573.png 480w, /post/hunger-games/image39_hu_154b36fdc2c47cfb.png 1024w" loading=lazy alt="TinyCore setup" class=gallery-image data-flex-grow=198 data-flex-basis=476px></p><p>Será necesario configurar la IP de ambas máquinas en rango. Una vez hecho podremos acceder al servidor web.</p><p><img src=/post/hunger-games/image36.png width=392 height=158 srcset="/post/hunger-games/image36_hu_cdc0455713f17d84.png 480w, /post/hunger-games/image36_hu_b9d5d66a5c7d05d1.png 1024w" loading=lazy alt="Acceso web Distrito 12" class=gallery-image data-flex-grow=248 data-flex-basis=595px></p><p><img src=/post/hunger-games/image15.png width=483 height=122 srcset="/post/hunger-games/image15_hu_fa3d6a62d124754d.png 480w, /post/hunger-games/image15_hu_831614742403b32e.png 1024w" loading=lazy alt="Acceso web Distrito 11" class=gallery-image data-flex-grow=395 data-flex-basis=950px></p><p><img src=/post/hunger-games/image37.png width=1603 height=629 srcset="/post/hunger-games/image37_hu_b6df842b0e8590c2.png 480w, /post/hunger-games/image37_hu_663acd1740d76fde.png 1024w" loading=lazy alt="Página web del Distrito 13" class=gallery-image data-flex-grow=254 data-flex-basis=611px></p><hr><p><strong>Fin del documento</strong></p></section><footer class=article-footer><section class=article-tags><a href=/tags/redes/>Redes</a>
<a href=/tags/acl/>ACL</a>
<a href=/tags/dhcp/>DHCP</a>
<a href=/tags/cisco/>Cisco</a></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=[".main-article",".widget--toc"];e.forEach(e=>{const t=document.querySelector(e);t&&renderMathInElement(t,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})})</script></article><footer class=site-footer><section class=copyright>&copy;
2023 -
2026 SerjAii</section><section class=powerby>Creado con <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Tema <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.32.0>Stack</a></b> diseñado por <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>