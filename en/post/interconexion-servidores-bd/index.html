<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Server Interconnection In this article, I detail the process performed to interconnect Oracle and PostgreSQL database servers in different configurations: Oracle-Oracle, PostgreSQL-PostgreSQL, and heterogeneous connections between both systems.\nEnvironment Preparation To perform this practice, I started from an existing virtual machine (bd) that already had the database servers installed. I cloned this machine to create a second node (bd2).\nvirt-clone --original bd --name bd2 --auto-clone Network Configuration on bd2 Once cloned, I modified bd2&rsquo;s network configuration to assign it IP 192.168.122.127 and change its hostname, avoiding conflicts with the original machine (whose IP is 192.168.122.126).\n"><title>Database Server Interconnection: Oracle and PostgreSQL</title><link rel=canonical href=http://sergiojimenez.org/en/post/interconexion-servidores-bd/><link rel=stylesheet href=/scss/style.min.b0e76e98cdd4f7082d1fc36f7af7e0843a81201db2197c03ca426751dc923735.css><meta property='og:title' content="Database Server Interconnection: Oracle and PostgreSQL"><meta property='og:description' content="Server Interconnection In this article, I detail the process performed to interconnect Oracle and PostgreSQL database servers in different configurations: Oracle-Oracle, PostgreSQL-PostgreSQL, and heterogeneous connections between both systems.\nEnvironment Preparation To perform this practice, I started from an existing virtual machine (bd) that already had the database servers installed. I cloned this machine to create a second node (bd2).\nvirt-clone --original bd --name bd2 --auto-clone Network Configuration on bd2 Once cloned, I modified bd2&rsquo;s network configuration to assign it IP 192.168.122.127 and change its hostname, avoiding conflicts with the original machine (whose IP is 192.168.122.126).\n"><meta property='og:url' content='http://sergiojimenez.org/en/post/interconexion-servidores-bd/'><meta property='og:site_name' content='SerjAii'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='oracle'><meta property='article:tag' content='postgresql'><meta property='article:tag' content='dblink'><meta property='article:tag' content='odbc'><meta property='article:tag' content='heterogeneous-services'><meta property='article:tag' content='oracle-fdw'><meta property='article:published_time' content='2025-12-03T00:00:00+00:00'><meta property='article:modified_time' content='2025-12-03T00:00:00+00:00'><meta property='og:image' content='http://sergiojimenez.org/post/interconexion-servidores-bd/cover.png'><meta name=twitter:title content="Database Server Interconnection: Oracle and PostgreSQL"><meta name=twitter:description content="Server Interconnection In this article, I detail the process performed to interconnect Oracle and PostgreSQL database servers in different configurations: Oracle-Oracle, PostgreSQL-PostgreSQL, and heterogeneous connections between both systems.\nEnvironment Preparation To perform this practice, I started from an existing virtual machine (bd) that already had the database servers installed. I cloned this machine to create a second node (bd2).\nvirt-clone --original bd --name bd2 --auto-clone Network Configuration on bd2 Once cloned, I modified bd2&rsquo;s network configuration to assign it IP 192.168.122.127 and change its hostname, avoiding conflicts with the original machine (whose IP is 192.168.122.126).\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='http://sergiojimenez.org/post/interconexion-servidores-bd/cover.png'><link rel="shortcut icon" href=/img/mi-logo.jpg></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/en/><img src=/img/mi-logo_hu_f9e78d550823d191.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/en>SerjAii</a></h1><h2 class=site-description>Sys and Network Admin</h2></div></header><ol class=menu id=main-menu><li><a href=/en/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/en/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About Me</span></a></li><li><a href=/en/projects/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Projects</span></a></li><li><a href=/en/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><a href=/post/interconexion-servidores-bd/ title=Español><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<span>ES</span></a></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#environment-preparation>Environment Preparation</a><ul><li><a href=#network-configuration-on-bd2>Network Configuration on bd2</a></li><li><a href=#renaming-databases-on-bd2>Renaming Databases on bd2</a></li></ul></li><li><a href=#1-oracle-oracle-interconnection>1. Oracle-Oracle Interconnection</a><ul><li><a href=#configuration-in-bd>Configuration in ‘bd’</a></li><li><a href=#configuration-in-bd2>Configuration in ‘bd2’</a></li><li><a href=#create-database-link>Create Database Link</a></li><li><a href=#verification>Verification</a></li></ul></li><li><a href=#2-postgresql-postgresql-interconnection>2. PostgreSQL-PostgreSQL Interconnection</a><ul><li><a href=#previous-configuration>Previous Configuration</a></li><li><a href=#create-dblink-extension>Create dblink Extension</a></li><li><a href=#verification-1>Verification</a></li></ul></li><li><a href=#3-oracle-postgresql-interconnection-heterogeneous-services>3. Oracle-PostgreSQL Interconnection (Heterogeneous Services)</a><ul><li><a href=#odbc-installation-on-bd>ODBC Installation on bd</a></li><li><a href=#odbc-configuration>ODBC Configuration</a></li><li><a href=#heterogeneous-services-configuration>Heterogeneous Services Configuration</a></li><li><a href=#listener-and-tns-configuration>Listener and TNS Configuration</a></li><li><a href=#create-database-link-1>Create Database Link</a></li><li><a href=#common-errors-solution>Common Errors Solution</a></li><li><a href=#verification-2>Verification</a></li></ul></li><li><a href=#4-postgresql-oracle-interconnection>4. PostgreSQL-Oracle Interconnection</a><ul><li><a href=#installation>Installation</a></li><li><a href=#configuration-in-postgresql>Configuration in PostgreSQL</a></li><li><a href=#verification-3>Verification</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/en/post/interconexion-servidores-bd/><img src=/post/interconexion-servidores-bd/cover_hu_a81d36ab13f78059.png srcset="/post/interconexion-servidores-bd/cover_hu_a81d36ab13f78059.png 800w, /post/interconexion-servidores-bd/cover_hu_47d8a6d7cd96563.png 1600w" width=800 height=535 loading=lazy alt="Featured image of post Database Server Interconnection: Oracle and PostgreSQL"></a></div><div class=article-details><header class=article-category><a href=/en/categories/database/>Database
</a><a href=/en/categories/oracle/>Oracle
</a><a href=/en/categories/postgresql/>PostgreSQL
</a><a href=/en/categories/networking/>Networking
</a><a href=/en/categories/devops/>DevOps</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/en/post/interconexion-servidores-bd/>Database Server Interconnection: Oracle and PostgreSQL</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2025-12-03T00:00:00Z>03 Dec 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>5 minute read</time></div></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=http://sergiojimenez.org/post/interconexion-servidores-bd/ class=link>Español</a></div></footer></div></header><section class=article-content><h1 id=server-interconnection>Server Interconnection</h1><p>In this article, I detail the process performed to interconnect Oracle and PostgreSQL database servers in different configurations: Oracle-Oracle, PostgreSQL-PostgreSQL, and heterogeneous connections between both systems.</p><h2 id=environment-preparation>Environment Preparation</h2><p>To perform this practice, I started from an existing virtual machine (<code>bd</code>) that already had the database servers installed. I cloned this machine to create a second node (<code>bd2</code>).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>virt-clone --original bd --name bd2 --auto-clone
</span></span></code></pre></div><h3 id=network-configuration-on-bd2>Network Configuration on bd2</h3><p>Once cloned, I modified <code>bd2</code>&rsquo;s network configuration to assign it IP <strong>192.168.122.127</strong> and change its hostname, avoiding conflicts with the original machine (whose IP is 192.168.122.126).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Change IP</span>
</span></span><span style=display:flex><span>sudo sed -i <span style=color:#e6db74>&#39;s/192.168.122.126/192.168.122.127/g&#39;</span> /etc/network/interfaces
</span></span><span style=display:flex><span><span style=color:#75715e># Change hostname</span>
</span></span><span style=display:flex><span>sudo sed -i <span style=color:#e6db74>&#39;s/bd/bd2/g&#39;</span> /etc/hosts
</span></span><span style=display:flex><span>sudo hostnamectl set-hostname bd2
</span></span></code></pre></div><h3 id=renaming-databases-on-bd2>Renaming Databases on bd2</h3><h4 id=postgresql>PostgreSQL</h4><p>On the <code>bd2</code> PostgreSQL server, I renamed the database to <code>prueba_db_2</code> to clearly distinguish it.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>DATABASE</span> prueba_db <span style=color:#66d9ef>RENAME</span> <span style=color:#66d9ef>TO</span> prueba_db_2;
</span></span></code></pre></div><h4 id=oracle>Oracle</h4><p>For Oracle, I performed a series of commands to close, rename, and reopen the Pluggable Database as <code>ORCLPDB2</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> PLUGGABLE <span style=color:#66d9ef>DATABASE</span> ORCLPDB1 <span style=color:#66d9ef>CLOSE</span> <span style=color:#66d9ef>IMMEDIATE</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> PLUGGABLE <span style=color:#66d9ef>DATABASE</span> ORCLPDB1 <span style=color:#66d9ef>OPEN</span> RESTRICTED;
</span></span><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> PLUGGABLE <span style=color:#66d9ef>DATABASE</span> ORCLPDB1 <span style=color:#66d9ef>RENAME</span> GLOBAL_NAME <span style=color:#66d9ef>TO</span> ORCLPDB2;
</span></span><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> PLUGGABLE <span style=color:#66d9ef>DATABASE</span> ORCLPDB2 <span style=color:#66d9ef>CLOSE</span> <span style=color:#66d9ef>IMMEDIATE</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> PLUGGABLE <span style=color:#66d9ef>DATABASE</span> ORCLPDB2 <span style=color:#66d9ef>OPEN</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>SYSTEM</span> REGISTER;
</span></span></code></pre></div><hr><h2 id=1-oracle-oracle-interconnection>1. Oracle-Oracle Interconnection</h2><p>I configured a Database Link to connect from the Oracle database on <code>bd</code> to the Oracle database on <code>bd2</code>.</p><h3 id=configuration-in-bd>Configuration in ‘bd’</h3><p>I edited the <code>tnsnames.ora</code> file to define the connection to <code>bd2</code>.</p><p><strong>File</strong>: <code>/opt/oracle/homes/OraDBHome21cEE/network/admin/tnsnames.ora</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>BD2_LINK</span> <span style=color:#f92672>=</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  (DESCRIPTION =
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.122.127)(PORT = 1521))
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    (CONNECT_DATA =
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      (SERVER = DEDICATED)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      (SERVICE_NAME = ORCLPDB2)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    )
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  )</span>
</span></span></code></pre></div><h3 id=configuration-in-bd2>Configuration in ‘bd2’</h3><p>I ensured the listener was listening correctly and created a specific user for the connection.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>SYSTEM</span> <span style=color:#66d9ef>SET</span> local_listener<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.122.127)(PORT=1521))&#39;</span> <span style=color:#66d9ef>SCOPE</span><span style=color:#f92672>=</span><span style=color:#66d9ef>BOTH</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>SYSTEM</span> REGISTER;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- Create user in ORCLPDB2
</span></span></span><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>SESSION</span> <span style=color:#66d9ef>SET</span> CONTAINER<span style=color:#f92672>=</span>ORCLPDB2;
</span></span><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>USER</span> serjaii IDENTIFIED <span style=color:#66d9ef>BY</span> <span style=color:#e6db74>&#34;0191&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>CONNECT</span>, RESOURCE <span style=color:#66d9ef>TO</span> serjaii;
</span></span><span style=display:flex><span><span style=color:#66d9ef>GRANT</span> <span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>SESSION</span> <span style=color:#66d9ef>TO</span> serjaii;
</span></span></code></pre></div><h3 id=create-database-link>Create Database Link</h3><p>On <code>bd</code>, I created the link using the credentials of the user created previously.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> LINK link_to_bd2
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>CONNECT</span> <span style=color:#66d9ef>TO</span> serjaii IDENTIFIED <span style=color:#66d9ef>BY</span> <span style=color:#e6db74>&#34;0191&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>USING</span> <span style=color:#e6db74>&#39;BD2_LINK&#39;</span>;
</span></span></code></pre></div><h3 id=verification>Verification</h3><p>I performed a distributed query to verify the link:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> e.ename <span style=color:#66d9ef>AS</span> local_employee, d.dname <span style=color:#66d9ef>AS</span> remote_department
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> emp e
</span></span><span style=display:flex><span><span style=color:#66d9ef>JOIN</span> dept<span style=color:#f92672>@</span>link_to_bd2 d <span style=color:#66d9ef>ON</span> e.deptno <span style=color:#f92672>=</span> d.deptno
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> e.deptno <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span></code></pre></div><p><strong>Result:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>LOCAL_EMPLOYEE     REMOTE_DEPARTMENT
</span></span><span style=display:flex><span>------------------ ------------------
</span></span><span style=display:flex><span>CLARK              ACCOUNTING
</span></span><span style=display:flex><span>KING               ACCOUNTING
</span></span><span style=display:flex><span>MILLER             ACCOUNTING
</span></span></code></pre></div><hr><h2 id=2-postgresql-postgresql-interconnection>2. PostgreSQL-PostgreSQL Interconnection</h2><p>To connect two PostgreSQL servers, I used the <code>dblink</code> extension.</p><h3 id=previous-configuration>Previous Configuration</h3><p>It connects necessary to ensure both servers allow remote connections:</p><ul><li><code>pg_hba.conf</code>: add <code>host all all 0.0.0.0/0 md5</code></li><li><code>postgresql.conf</code>: set <code>listen_addresses = '*'</code></li></ul><h3 id=create-dblink-extension>Create dblink Extension</h3><p>I enabled the extension on both databases.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> EXTENSION <span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>EXISTS</span> dblink;
</span></span></code></pre></div><h3 id=verification-1>Verification</h3><p>I tested the connection by executing a remote query from <code>bd</code> to <code>bd2</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> e.ename, t.dname, t.loc
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> emp e
</span></span><span style=display:flex><span><span style=color:#66d9ef>JOIN</span> dblink(
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;host=192.168.122.127 user=serjaii password=0191 dbname=prueba_db_2&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;SELECT deptno, dname, loc FROM dept&#39;</span>
</span></span><span style=display:flex><span>) <span style=color:#66d9ef>AS</span> t(deptno int, dname varchar, loc varchar)
</span></span><span style=display:flex><span><span style=color:#66d9ef>ON</span> e.deptno <span style=color:#f92672>=</span> t.deptno
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> e.deptno <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>;
</span></span></code></pre></div><p><strong>Result:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span> ename |  dname   |  loc   
</span></span><span style=display:flex><span>-------+----------+--------
</span></span><span style=display:flex><span> SMITH | RESEARCH | DALLAS
</span></span><span style=display:flex><span> JONES | RESEARCH | DALLAS
</span></span><span style=display:flex><span> SCOTT | RESEARCH | DALLAS
</span></span><span style=display:flex><span> ADAMS | RESEARCH | DALLAS
</span></span><span style=display:flex><span> FORD  | RESEARCH | DALLAS
</span></span></code></pre></div><hr><h2 id=3-oracle-postgresql-interconnection-heterogeneous-services>3. Oracle-PostgreSQL Interconnection (Heterogeneous Services)</h2><p>This configuration allows connecting from Oracle to a PostgreSQL database using ODBC and Oracle Heterogeneous Services.</p><h3 id=odbc-installation-on-bd>ODBC Installation on bd</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get install -y unixodbc unixodbc-dev odbc-postgresql
</span></span></code></pre></div><h3 id=odbc-configuration>ODBC Configuration</h3><p>I defined the Data Source Name (DSN) in <code>/etc/odbc.ini</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[PostgreSQL_bd2]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Description</span><span style=color:#f92672>=</span><span style=color:#e6db74>PostgreSQL connection to bd2</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Driver</span><span style=color:#f92672>=</span><span style=color:#e6db74>PostgreSQL Unicode</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Servername</span><span style=color:#f92672>=</span><span style=color:#e6db74>192.168.122.127</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Port</span><span style=color:#f92672>=</span><span style=color:#e6db74>5432</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Database</span><span style=color:#f92672>=</span><span style=color:#e6db74>prueba_db_2</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Username</span><span style=color:#f92672>=</span><span style=color:#e6db74>serjaii</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Password</span><span style=color:#f92672>=</span><span style=color:#e6db74>0191</span>
</span></span></code></pre></div><p>I verified the connection with <code>isql -v PostgreSQL_bd2</code>.</p><h3 id=heterogeneous-services-configuration>Heterogeneous Services Configuration</h3><p>I created the gateway initialization file.</p><p><strong>File</strong>: <code>/opt/oracle/homes/OraDBHome21cEE/hs/admin/initpgbd2.ora</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>HS_FDS_CONNECT_INFO</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>PostgreSQL_bd2</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>HS_FDS_TRACE_LEVEL</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>DEBUG</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Pointing to the correct library is CRITICAL to avoid errors</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>HS_FDS_SHAREABLE_NAME</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>/usr/lib/x86_64-linux-gnu/libodbc.so</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set ODBCINI</span><span style=color:#f92672>=</span><span style=color:#e6db74>/etc/odbc.ini</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set LD_LIBRARY_PATH</span><span style=color:#f92672>=</span><span style=color:#e6db74>/usr/lib/x86_64-linux-gnu/odbc</span>
</span></span></code></pre></div><h3 id=listener-and-tns-configuration>Listener and TNS Configuration</h3><p><strong>File</strong>: <code>listener.ora</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>SID_LIST_LISTENER</span> <span style=color:#f92672>=</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  (SID_LIST =
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    (SID_DESC =
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      (SID_NAME = pgbd2)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      (ORACLE_HOME = /opt/oracle/product/21c/dbhome_1)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      (PROGRAM = dg4odbc)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      (ENVS=&#34;ODBCINI=/home/oracle/odbc.ini&#34;) 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    )
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  )</span>
</span></span></code></pre></div><p><em>Note: It is important to ensure the user Oracle has access to the odbc.ini file, sometimes it&rsquo;s necessary to copy it to their home or define the ENVS variable appropriately.</em></p><p><strong>File</strong>: <code>tnsnames.ora</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>PGBD2</span> <span style=color:#f92672>=</span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  (DESCRIPTION =
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.122.126)(PORT = 1521))
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    (CONNECT_DATA = (SID = pgbd2))
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    (HS = OK)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  )</span>
</span></span></code></pre></div><p>I reloaded the listener with <code>lsnrctl reload</code>.</p><h3 id=create-database-link-1>Create Database Link</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> LINK link_to_postgres
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>CONNECT</span> <span style=color:#66d9ef>TO</span> <span style=color:#e6db74>&#34;serjaii&#34;</span> IDENTIFIED <span style=color:#66d9ef>BY</span> <span style=color:#e6db74>&#34;0191&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>USING</span> <span style=color:#e6db74>&#39;PGBD2&#39;</span>;
</span></span></code></pre></div><h3 id=common-errors-solution>Common Errors Solution</h3><p>During the process I encountered error <code>ORA-28500</code> with message <code>[unixODBC][Driver Manager]Data source name not found</code>. This was because the listener process was not finding the <code>odbc.ini</code> file. The solution was to explicitly configure the <code>ODBCINI</code> environment variable in <code>listener.ora</code> or ensure read permissions for user <code>oracle</code>. I also corrected <code>HS_FDS_SHAREABLE_NAME</code> to point to <code>libodbc.so</code> instead of the Postgres driver directly.</p><h3 id=verification-2>Verification</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> e.ename, e.job, e.sal
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> emp e
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> e.sal <span style=color:#f92672>&gt;</span> (<span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>AVG</span>(<span style=color:#e6db74>&#34;sal&#34;</span>) <span style=color:#66d9ef>FROM</span> <span style=color:#e6db74>&#34;emp&#34;</span><span style=color:#f92672>@</span>link_to_postgres);
</span></span></code></pre></div><p><strong>Result:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span>ENAME     JOB       SAL
</span></span><span style=display:flex><span>--------- --------- ---------
</span></span><span style=display:flex><span>JONES     MANAGER   2975
</span></span><span style=display:flex><span>BLAKE     MANAGER   2850
</span></span><span style=display:flex><span>CLARK     MANAGER   2450
</span></span><span style=display:flex><span>SCOTT     ANALYST   3000
</span></span><span style=display:flex><span>KING      PRESIDENT 5000
</span></span><span style=display:flex><span>FORD      ANALYST   3000
</span></span></code></pre></div><hr><h2 id=4-postgresql-oracle-interconnection>4. PostgreSQL-Oracle Interconnection</h2><p>To connect from PostgreSQL to Oracle, I used the <code>oracle_fdw</code> extension.</p><h3 id=installation>Installation</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get install -y postgresql-server-dev-all build-essential unzip
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Download and compile oracle_fdw</span>
</span></span><span style=display:flex><span>wget https://github.com/laurenz/oracle_fdw/archive/refs/heads/master.zip
</span></span><span style=display:flex><span>unzip master.zip
</span></span><span style=display:flex><span>cd oracle_fdw-master
</span></span><span style=display:flex><span>export ORACLE_HOME<span style=color:#f92672>=</span>/opt/oracle/product/21c/dbhome_1
</span></span><span style=display:flex><span>make
</span></span><span style=display:flex><span>sudo make install
</span></span></code></pre></div><p>I configured dynamic libraries so PostgreSQL finds Oracle&rsquo;s:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#34;/opt/oracle/product/21c/dbhome_1/lib&#34;</span> | sudo tee /etc/ld.so.conf.d/oracle.conf
</span></span><span style=display:flex><span>sudo ldconfig
</span></span><span style=display:flex><span>sudo systemctl restart postgresql
</span></span></code></pre></div><h3 id=configuration-in-postgresql>Configuration in PostgreSQL</h3><p>In database <code>prueba_db</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> EXTENSION oracle_fdw;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- Create foreign server
</span></span></span><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> SERVER oracle_bd2 <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>DATA</span> WRAPPER oracle_fdw
</span></span><span style=display:flex><span><span style=color:#66d9ef>OPTIONS</span> (dbserver <span style=color:#e6db74>&#39;//192.168.122.127:1521/ORCLPDB2&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- User Mapping
</span></span></span><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>USER</span> MAPPING <span style=color:#66d9ef>FOR</span> serjaii SERVER oracle_bd2
</span></span><span style=display:flex><span><span style=color:#66d9ef>OPTIONS</span> (<span style=color:#66d9ef>user</span> <span style=color:#e6db74>&#39;serjaii&#39;</span>, password <span style=color:#e6db74>&#39;0191&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- Import schema
</span></span></span><span style=display:flex><span>IMPORT <span style=color:#66d9ef>FOREIGN</span> <span style=color:#66d9ef>SCHEMA</span> <span style=color:#e6db74>&#34;SERJAII&#34;</span> <span style=color:#66d9ef>LIMIT</span> <span style=color:#66d9ef>TO</span> (<span style=color:#e6db74>&#34;EMP&#34;</span>, <span style=color:#e6db74>&#34;DEPT&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> SERVER oracle_bd2 <span style=color:#66d9ef>INTO</span> <span style=color:#66d9ef>public</span>;
</span></span></code></pre></div><h3 id=verification-3>Verification</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> ename, job, sal <span style=color:#66d9ef>FROM</span> <span style=color:#e6db74>&#34;EMP&#34;</span> <span style=color:#66d9ef>WHERE</span> deptno <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span></code></pre></div><p><strong>Result:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-text data-lang=text><span style=display:flex><span> ename  |    job    |   sal   
</span></span><span style=display:flex><span>--------+-----------+---------
</span></span><span style=display:flex><span> CLARK  | MANAGER   | 2450.00
</span></span><span style=display:flex><span> KING   | PRESIDENT | 5000.00
</span></span><span style=display:flex><span> MILLER | CLERK     | 1300.00
</span></span></code></pre></div></section><footer class=article-footer><section class=article-tags><a href=/en/tags/oracle/>Oracle</a>
<a href=/en/tags/postgresql/>Postgresql</a>
<a href=/en/tags/dblink/>Dblink</a>
<a href=/en/tags/odbc/>Odbc</a>
<a href=/en/tags/heterogeneous-services/>Heterogeneous-Services</a>
<a href=/en/tags/oracle-fdw/>Oracle-Fdw</a></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=[".main-article",".widget--toc"];e.forEach(e=>{const t=document.querySelector(e);t&&renderMathInElement(t,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})})</script></article><footer class=site-footer><section class=copyright>&copy;
2023 -
2026 SerjAii</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.32.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>